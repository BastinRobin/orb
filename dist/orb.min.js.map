{"version":3,"sources":["orb.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","orb","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_dereq_","calcVariance","datafield","intersection","datasource","population","variance","avg","len","forEachIntersection","val","NaN","callback","all","Aggregations","toAggregateFunc","func","sum","count","min","max","prod","stdev","Math","sqrt","stdevp","var","varp",2,"utils","Dimension","AxeType","COLUMNS","ROWS","DATA","pgrid","type","getfieldindex","field","fields","name","fill","filteredDataSource","dimensionsCount","isArray","rowIndex","dataLength","row","dim","root","findex","depth","subfield","subvalue","subdimvals","undefined","values","push","dimid","rowIndexes","dimensionsByDepth","config","columnFields","rowFields","dataFields","update","ffield","sort","order","donottoggle","parents","customfunc","reverse","flattenValues","map","currDim","isRoot","value","parent","b","Type","./orb.dimension","./orb.utils",3,"getpropertyvalue","property","configs","defaultvalue","mergefieldconfigs","merged","sorts","subtotals","functions","arguments","nnconfig","subTotal","aggregateFuncName","aggregateFunc","formatFunc","createfield","rootconfig","axetype","fieldconfig","defaultfieldconfig","axeconfig","fieldAxeconfig","axe","rowSettings","columnSettings","dataSettings","Field","caption","visible","collapsible","collapsed","aggregation","GrandTotalConfig","options","rowsvisible","columnsvisible","SubTotalConfig","setdefaults","defaults","SortConfig","ChartConfig","enabled","filtering","themeManager","createSubOptions","defaultFormatFunc","toString","_aggregatefunc","_formatfunc","isString","ensureFieldConfig","obj","captionToName","getfield","axefields","fieldname","fieldindex","fi","dataSource","canMoveFields","dataHeadersLocation","grandTotal","width","height","toolbar","theme","chartMode","current","dataSourceFieldNames","dataSourceFieldCaptions","fcaptionIndex","indexOf","nameToCaption","fnameIndex","setTheme","newTheme","allFields","rows","columns","data","dataFieldsCount","runtimeVisibility","getField","getRowField","getColumnField","getDataField","availablefields","filter","notequalfield","otherfield","every","getDataSourceFieldCaptions","row0","fieldNames","ownProperties","headers","getPreFilters","prefilters","preFilters","forEach","filteredField","prefilterConfig","expressionFilter","opname","moveField","oldaxetype","newaxetype","position","oldaxe","oldposition","newaxe","fieldConfig","defaultFieldConfig","newAxeSubtotalsState","areSubtotalsVisible","splice","toggleSubtotals","axeFields","newState","toggleGrandtotal","isGrandtotalVisible","./orb.aggregation","./orb.axe","./orb.filtering","./orb.themes",4,"id","isLeaf","getRowIndexes","result","j",5,"uiheaders","uriHeader","docHeader","docFooter","pgridwidget","createButtonCell","buttonStyle","buttonTextColor","createButtons","buttons","cellsCountBefore","cellsCountAfter","prefix","str","reduce","tr","toBase64","btoa","unescape","encodeURIComponent","currTheme","override","themeColor","themes","themeFadeout","fadeoutColor","headerStyle","cellsHorizontalCount","layout","pivotTable","sep","rowHeaders","columnHeaders","currRow","rowStr","header","HeaderType","DATA_HEADER","hspan","vspan","rowHeadersAndDataCells","dataRow","dataRows","dataCell","index","./orb.ui.header",6,"ALL","NONE","BLANK","operator","term","staticValue","excludeStatic","ops","get","regexpMode","regexpSupported","isRegExp","ignoreCase","RegExp","source","test","found","isAlwaysTrue","Operators","MATCH","NOTMATCH","EQ","NEQ","GT","GTE","LT","LTE","search",7,"query","./orb.export.excel","./orb.pgrid","./orb.query","./orb.ui.pgridwidget",8,"PubSub","configuration","refresh","refreshFilters","refreshFilteredDataSource","computeValues","publish","EVENT_UPDATED","filterFields","filters","exclude","fieldFilter","computeValue","colIndexes","origRowIndexes","res","ri","rowindex","colrowindex","emptyIntersection","datafields","fieldnameIndex","datafieldIndex","defaultfield","dfi","computeRowValues","rowDim","rid","_iCache","slice","p","rowindexes","subdim","cid","ur","vr","dataMatrix","EVENT_SORT_CHANGED","applyFilter","refreshData","EVENT_CONFIG_CHANGED","getFieldValues","filterFunc","values1","containsBlank","isNumber","isDate","vi","unshift","getFieldFilter","isFieldFiltered","getData","rowdim","coldim","datafieldName","calcAggregation","getChartData","getAxisLabel","axisFields","ti","hAxisLabel","vAxisLabel","legendsLabel","rowLeafDimensions","colLeafDimensions","ci","cdim","currData","rri","title","colNames","d","dataTable","./orb.config","./orb.pubsub",9,"_topics","subscribe","topic","isFunction","apply","concat","Array","prototype",10,"queryBase","extractResult","aggs","outerArgs","multi","ai","multiFieldNames","getCaptionName","datafieldname","measureFunc","fieldsConfig","cleanOptions","compute","setDefaultAggFunctions","param","valname","aggFunctions","funcIndex","funcName","pgridQuery","filterDimensions","upperDims","some","upperDim","innerArgs","opts","setup","parameters","fIndex","colFields","df","dfname","dfcaption","hasOwnProperty","applyFilters","sortedFilters","f1","f2","currAxe","filterIndex","filtered","rowdims","coldims","rdi","cdi","arrayQuery","array","setCaptionName","fname","fcaption","toAggregate","include","aggFunc",11,"states","set","key","state",12,"isBootstrap","currentTheme","red","blue","green","orange","flower","gray","black","white","validateTheme","themeName","trim","getPivotClasses","container","table","getButtonClasses","pivotButton","orbButton","scrollBar","getFilterClasses","getGridClasses","getDialogClasses","classes","overlay","dialog","content","body","hexToRgb","hex","exec","parseInt","rgbaToHex","rgba","matches","match","alpha","parseFloat","applyAlphaAndToHex","rgbaToHexA","floor","substr","color",13,"axeModel","isMultiDataFields","toggleFieldExpansion","hIndex","toToggle","allExpanded","SUB_TOTAL","expanded","collapse","expand",14,"axeUi","columnsAxe","generateLeafsHeaders","pushsubtotal","pheader","leafsHeaders","subtotalHeader","infos","currparent","prevpar","grandpar","prevgrandpar","leafIndex","datafieldindex","dataHeader","getUiInfo","pi","parentDim","di","build","GRAND_TOTAL","INNER","./orb.ui.axe",15,"CellBase","template","cssclass","isvisible","getState","setState","EMPTY","DATA_VALUE","FIELD_BUTTON","WRAPPER","getHeaderClass","headerType","getCellClass","rowHeaderType","colHeaderType","datafieldscount","isParentExpanded","hparent","isexpanded","par","calcSpan","ignoreVisibility","subSpan","tspan","addone","isRowsAxe","subheaders","subheader","rowinfo","colinfo","rowDimension","columnDimension","rowType","colType","buttonCell","emptyCell","./orb.state",16,"ReactDOM","uirows","uicols","Dialog","PivotChart","PivotTable","Grid","init","buildUiAndRender","buildUi","createVisibleFunc","rowvisible","colvisible","rowsHeaders","columnsLeafHeaders","arr","rowHeadersRow","rowLeafHeader","colHeaderIndex","columnLeafHeader","render","renderElement","pivotComponent","create","expandRow","cell","collapseRow","oldAxeType","newAxeType","axeToExpand","changeTheme","element","pivotTableFactory","React","createFactory","pivottable","drilldown","pivotId","show","comp","props","style","fontStyle","./orb.ui.cols","./orb.ui.rows","./react/orb.react.Dialog.jsx","./react/orb.react.Grid.jsx","./react/orb.react.PivotChart.jsx","./react/orb.react.PivotTable.jsx","react-dom",17,"rowsAxe","addDataHeaders","lastInfosArray","dimension","infosMaxIndex","valIndex","subTotalHeader","newHeader","grandtotalHeader","lastrow",18,"replaceHyphenByUcase","replace","reHyphenToUcase","m","m1","toUpperCase","removeClass","classname","className","addClass","getOffset","rect","getBoundingClientRect","x","left","y","top","getParentOffset","rectParent","parentNode","getSize","right","bottom","getStyle","styleProps","keepString","currStyle","fixProp","currentStyle","prop","getComputedStyle","getPropertyValue","ceil","isVisible","display","offsetWidth","offsetHeight","updateTableColGroup","tableNode","widths","colGroupNode","firstChild","nodeName","tableLayout","removeChild","col","document","createElement","appendChild",19,"ns","identifier","parts","split","list","forceContinue","ret","Object","escapeRegex","re","findInArray","predicate","item","jsonStringify","censorKeywords","censor","JSON","stringify","addEventListener","eventName","handler","attachEvent","removeEventListener","detachEvent","preventDefault","event","returnValue","stopPropagation","cancelBubble","getEventButton","button","getMousePageXY","pageX","pageY","clientX","scrollLeft","documentElement","clientY","scrollTop","object","InvalidCharacterError","message","chars","input","block","charCode","String","idx","output","charAt","charCodeAt","atob","bs","buffer","bc","fromCharCode",20,"createClass","displayName","getInitialState","canRender","google","visualization","drawChart","chartData","pivotTableComp","DataTable","addColumn","addRows","fontName","chartStyle","fontFamily","fontSize","hAxis","vAxis","chart","findDOMNode","draw","componentDidMount","componentDidUpdate","react",21,"createOverlay","overlayElement","statics","dialogFactory","setOverlayClass","close","dialogElement","children","dialogBodyElement","screenWidth","clientWidth","innerWidth","screenHeight","clientHeight","innerHeight","maxHeight","dWidth","dHeight","target","srcElement","unmountComponentAtNode","onClick","../orb.utils",22,"doElementsOverlap","elem1Rect","elem2Rect","setCurrDropTarget","dropTarget","_currDropTarget","signalDragEnd","signalDragOver","setCurrDropIndicator","dropIndicator","_currDropIndicator","onDragOver","onDragEnd","_pivotComp","_currDragElement","_dragNode","_dropTargets","_dropIndicators","_initialized","pivotComp","setDragElement","elem","prevDragElement","moveButton","component","registerTarget","dragOverHandler","dargEndHandler","unregisterTarget","tindex","registerIndicator","indicator","unregisterIndicator","iindex","elementMoved","foundTarget","dragNodeRect","tnodeRect","isOverlap","foundIndicator","elementOwnIndicator","targetIndicator","axeIndicators",23,"DragManager","isover","componentWillUnmount","isMounted","isVertical","isFirst","isLast","./orb.react.DragManager.jsx",24,"DropIndicator","dtid","../orb.axe","./orb.react.DropIndicator.jsx",25,"currButton",26,"openOrClose","valueNode","refs","valueElement","valuesListNode","valuesList","onMouseEnter","backgroundPosition","onMouseLeave","selectValue","listNode","isli","textContent","onValueChanged","dangerouslySetInnerHTML","__html","ref","selectedValue",27,"FilterManager","reactComp","initialFilterObject","checkboxVisible","checkbox","applyInitialFilterObject","staticInfos","toExclude","isSearchMode","toggleRegexpButtonVisibility","isRegexMode","toggleRegexpButtonState","lastSearchTerm","elems","searchBox","applyFilterTerm","savedCheckedValues","updateCheckboxes","updateAllCheckbox","addEventListeners","filterContainer","valueChecked","searchChanged","clearSearchButton","clearSearchBox","okButton","checkedObj","getCheckedValues","onFilter","cancelButton","destroy","ResizeManager","outerContainerElem","valuesTableElem","resizeGripElem","minContainerWidth","minContainerHeight","mousedownpos","isMouseDown","resizeMouseDown","mousePageXY","cursor","resizeMouseUp","resizeMouseMove","resizeGripSize","outerContainerSize","valuesTableSize","tBodies","outerContainerWidth","outerContainerHeight","offset","newContainerWidth","newContainerHeight","resizeManager","INDETERMINATE","checkboxes","operatorBox","allCheckbox","addCheckbox","enableRegexButton","resizeGrip","filterContainerElement","cells","blanckCheckbox","onOperatorChanged","newOperator","regexpActiveChanged","domUtils","checked","defaultVisible","opterm","previousIsSearchMode","indeterminate","valuesCount","checkedCount","excludeUnchecked","checkedList","allchecked","valInList","Dropdown","filterManager","onMouseDown","onMouseWheel","valuesTable","scrollHeight","componentWillMount","addCheckboxRow","text","defaultChecked","buttonClass","currentFilter","placeholder","clearFilter","colSpan","float","../orb.filtering","../orb.utils.dom","./orb.react.Dropdown.jsx",28,"tableClasses","headerRow","h",29,"FilterPanel","pbid","pos","startpos","mousedown","dragging","onFilterMouseDown","filterButton","filterButtonPos","filterPanelFactory","filterPanel","onMouseMove","registerThemeChanged","updateClasses","unregisterThemeChanged","ctrlKey","thispos","mouseoffset","onMouseUp","isdragged","size","newpos","divstyle","zIndex","sortDirectionClass","filterClass","fieldAggFunc","./orb.react.FilterPanel.jsx",30,"getClassname","compProps","leftmost","topmost","_paddingLeft","_borderLeft","updateCellInfos","node","__orb","cellContentNode","cellContent","propList","retPaddingLeft","retBorderLeft","innerText","nodeStyle","_visible","_lastText","_textWidth","_colSpan","_rowSpan","_paddingRight","_borderLeftWidth","_borderRightWidth","shouldComponentUpdate","nextProps","nextState","_latestVisibleState","cellClick","divcontent","headerPushed","isWrapper","isSubtotal","headerClassName","onDoubleClick","rowSpan","../orb.ui.header",31,"SizingManager","UpperButtons","ColumnButtons","RowButtons","Chart","themeChangeCallbacks","compCallback","thisnode","synchronizeWidths","fontInfos","tblStyle","padding","./orb.react.Chart.jsx","./orb.react.PivotTable.ColumnButtons.jsx","./orb.react.PivotTable.RowButtons.jsx","./orb.react.PivotTable.SizingManager.jsx","./orb.react.PivotTable.UpperButtons.jsx","./orb.react.Toolbar.jsx",32,"PivotCell","leftmostCellFound","layoutInfos","rowstyle","istopmost","isleftmost","topMostCells","lastLeftMostCellVSpan","./orb.react.PivotCell.jsx",33,"PivotButton","DropTarget","columnButtons","./orb.react.DropTarget.jsx","./orb.react.PivotButton.jsx",34,"PivotRow","cntrClass","onWheel","./orb.react.PivotRow.jsx",35,"dataCells",36,"DropTargetVertical","rowButtons","./orb.react.DropTargetVertical.jsx",37,"setColGroup","colgroup","innerHTML",38,"ComponentSizeInfo","childType","w","setStyle","styleProp","setParentStyle","getLargestWidths","otherCompInfo","total","colWidths","addToWidth","getAllColumnsWidth","tblObject","tbl","arrayIndex","currWidth","cellIndex","currCell","cellwidth","cspan","inhibit","synchronizePivotChartWidths","synchronizePivotTableWidths","pivotWrapperTable","pivot","topBtns","upperButtons","cBtns","colButtons","rBtnsTbl","rBtnsWidth","chartWidth","pivotHeight","chartHeight","cHeadersTbl","colHeaders","rHeadersTbl","dataCellsTbl","hScroll","horizontalScrollBar","vScroll","verticalScrollBar","dataCellsWidths","rHeadersWidth","dataCellsContainerWidth","dataCellsRemHeight","dataCellsTableHeight",39,"fieldsDropTarget","fieldsButtons","dataButtons","dataDropTarget",40,"Toolbar","RowHeaders","ColumnHeaders","DataCells","ScrollBars","HorizontalScrollBar","VerticalScrollBar","dataCellsNode","dataCellsTableNode","colHeadersNode","rowHeadersNode","setScrollClient","scrollPercent","scrollAmount","scrollbar","amount","currentTarget","deltaX","deltaY","scroll","deltaMode","./orb.react.PivotTable.ColumnHeaders.jsx","./orb.react.PivotTable.DataCells.jsx","./orb.react.PivotTable.RowHeaders.jsx","./orb.react.ScrollBars.jsx",41,"ScrollEvent","scrollBarComp","raise","getScrollPercent","scrollBarMixin","scrollEvent","scrollClient","thumbOffset","thumbElem","scrollThumb","thumbposInParent","mousePosProp","posProp","getScrollSize","sizeProp","scrollCallback","maxOffset","scrolledElement","clientSize","elementSize","scrollBarContainerSize","newSize","containerSize","mode","newOffset","thumbStyle","offsetCssProp","thisStyle","thumbClass","cssClass","mixins",42,"_toInit","btn","createCallback","action","pgridComponent","configButtons","defaultToolbarConfig","btnConfig","refName","tooltip","excelExport","exportToExcel","download","href","click","expandAllRows","collapseAllRows","expandAllColumns","collapseAllColumns","updateSubtotalsButton","subTotalsState","classToAdd","classToRemove","initSubtotals","updateGrandtotalButton","initGrandtotal","../orb.export.excel"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AAGA,cACA,SAAUA,GACR,GAAuB,gBAAZC,UAA0C,mBAAXC,QACxCA,OAAOD,QAAUD,QACZ,IAAsB,kBAAXG,SAAyBA,OAAOC,IAChDD,UAAWH,OACN,CACL,GAAIK,EAEFA,GADoB,mBAAXC,QACLA,OACuB,mBAAXC,QACZA,OACqB,mBAATC,MACZA,KAEAC,KAENJ,EAAEK,IAAMV,MAET,WAED,MAAO,SAAUW,GAAEC,EAAGC,EAAGC,GACvB,QAASC,GAAEC,EAAGC,GACZ,IAAKJ,EAAEG,GAAI,CACT,IAAKJ,EAAEI,GAAI,CACT,GAAIE,GAAsB,kBAAXC,UAAyBA,OACxC,KAAKF,GAAKC,EAAG,MAAOA,GAAEF,GAAG,EACzB,IAAII,EAAG,MAAOA,GAAEJ,GAAG,EACnB,IAAIhB,GAAI,GAAIqB,OAAM,uBAAyBL,EAAI,IAC/C,MAAMhB,GAAEsB,KAAO,mBAAoBtB,EAErC,GAAIuB,GAAIV,EAAEG,IACRf,WAEFW,GAAEI,GAAG,GAAGQ,KAAKD,EAAEtB,QAAS,SAASU,GAC/B,GAAIE,GAAID,EAAEI,GAAG,GAAGL,EAChB,OAAOI,GAAEF,EAAIA,EAAIF,IAChBY,EAAGA,EAAEtB,QAASU,EAAGC,EAAGC,EAAGC,GAE5B,MAAOD,GAAEG,GAAGf,QAGd,IAAK,GADDmB,GAAsB,kBAAXD,UAAyBA,QAC/BH,EAAI,EAAGA,EAAIF,EAAEW,OAAQT,IAAKD,EAAED,EAAEE,GACvC,OAAOD,KAEPW,GAAI,SAASC,EAASzB,EAAQD,GAgF5B,QAAS2B,GAAaC,EAAWC,EAAcC,EAAYC,GACzD,GAAIC,GAAW,EACXC,EAAM,EACNC,GAAwB,QAAjBL,EAAyBC,EAAaD,GAAcL,MAe/D,OAdIU,GAAM,IACJH,GAAcG,EAAM,GACtBC,EAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEH,GAAOG,IAETH,GAAOC,EACPC,EAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEJ,IAAaI,EAAMH,IAAQG,EAAMH,KAEnCD,GAAuBD,EAAaG,EAAMA,EAAM,GAEhDF,EAAWK,KAGRL,EAGT,QAASG,GAAoBP,EAAWC,EAAcC,EAAYQ,GAChE,GAAIC,GAAuB,QAAjBV,CAEV,IADAA,EAAeU,EAAMT,EAAaD,EAC9BA,EAAaL,OAAS,EACxB,IAAK,GAAIL,GAAI,EAAGA,EAAIU,EAAaL,OAAQL,IACvCmB,GAAUC,EAAMV,EAAaV,GAAKW,EAAWD,EAAaV,KAAKS,IAxGrE,GAAIY,GAAevC,EAAOD,SACxByC,gBAAiB,SAASC,GACxB,MAAIA,GACkB,gBAATA,IAAqBF,EAAaE,GACpCF,EAAaE,GACK,kBAATA,GACTA,EAEAF,EAAaG,IAGfH,EAAaG,KAGxBC,MAAO,SAAShB,EAAWC,EAAcC,GACvC,MAAwB,QAAjBD,EAAyBC,EAAWN,OAASK,EAAaL,QAEnEmB,IAAK,SAASf,EAAWC,EAAcC,GACrC,GAAIa,GAAM,CAIV,OAHAR,GAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEO,GAAOP,IAEFO,GAETE,IAAK,SAASjB,EAAWC,EAAcC,GACrC,GAAIe,GAAM,IAMV,OALAV,GAAoBP,EAAWC,EAAcC,EAAY,SAASM,IACrD,MAAPS,GAAqBA,EAANT,KACjBS,EAAMT,KAGHS,GAETC,IAAK,SAASlB,EAAWC,EAAcC,GACrC,GAAIgB,GAAM,IAMV,OALAX,GAAoBP,EAAWC,EAAcC,EAAY,SAASM,IACrD,MAAPU,GAAeV,EAAMU,KACvBA,EAAMV,KAGHU,GAETb,IAAK,SAASL,EAAWC,EAAcC,GACrC,GAAIG,GAAM,EACNC,GAAwB,QAAjBL,EAAyBC,EAAaD,GAAcL,MAO/D,OANIU,GAAM,IACRC,EAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEH,GAAOG,IAETH,GAAOC,GAEFD,GAETc,KAAM,SAASnB,EAAWC,EAAcC,GACtC,GAAIiB,GACAb,GAAwB,QAAjBL,EAAyBC,EAAaD,GAAcL,MAO/D,OANIU,GAAM,IACRa,EAAO,EACPZ,EAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEW,GAAQX,KAGLW,GAETC,MAAO,SAASpB,EAAWC,EAAcC,GACvC,MAAOmB,MAAKC,KAAKvB,EAAaC,EAAWC,EAAcC,GAAY,KAErEqB,OAAQ,SAASvB,EAAWC,EAAcC,GACxC,MAAOmB,MAAKC,KAAKvB,EAAaC,EAAWC,EAAcC,GAAY,KAErEsB,MAAO,SAASxB,EAAWC,EAAcC,GACvC,MAAOH,GAAaC,EAAWC,EAAcC,GAAY,IAE3DuB,KAAM,SAASzB,EAAWC,EAAcC,GACtC,MAAOH,GAAaC,EAAWC,EAAcC,GAAY,UAoC/DwB,GAAI,SAAS5B,EAASzB,EAAQD,GAE5B,GAAIuD,GAAQ7B,EAAQ,eAChB8B,EAAY9B,EAAQ,mBAEpB+B,GACFC,QAAS,EACTC,KAAM,EACNC,KAAM,EAGR3D,GAAOD,QAAU,SAAS6D,EAAOC,GAsG/B,QAASC,GAAcC,GACrB,IAAK,GAAI7C,GAAI,EAAGA,EAAIZ,EAAK0D,OAAOzC,OAAQL,IACtC,GAAIZ,EAAK0D,OAAO9C,GAAG+C,OAASF,EAAME,KAChC,MAAO/C,EAGX,OAAO,GAIT,QAASgD,KAEP,GAAqC,MAAjC5D,EAAKsD,MAAMO,oBAA8B7D,EAAK8D,gBAAkB,EAAG,CAErE,GAAIvC,GAAavB,EAAKsD,MAAMO,kBAC5B,IAAkB,MAAdtC,GAAsByB,EAAMe,QAAQxC,IAAeA,EAAWN,OAAS,EACzE,IAAK,GAAI+C,GAAW,EAAGC,EAAa1C,EAAWN,OAAmBgD,EAAXD,EAAuBA,IAG5E,IAAK,GAFDE,GAAM3C,EAAWyC,GACjBG,EAAMnE,EAAKoE,KACNC,EAAS,EAAGA,EAASrE,EAAK8D,gBAAiBO,IAAU,CAC5D,GAAIC,GAAQtE,EAAK8D,gBAAkBO,EAC/BE,EAAWvE,EAAK0D,OAAOW,GACvBG,EAAWN,EAAIK,EAASZ,MACxBc,EAAaN,EAAIM,UAEQC,UAAzBD,EAAWD,GACbL,EAAMM,EAAWD,IAEjBL,EAAIQ,OAAOC,KAAKJ,GAChBL,EAAM,GAAIlB,KAAY4B,EAAOV,EAAKK,EAAUD,EAAUD,GAAO,EAAOD,GAAUrE,EAAK8D,gBAAkB,GACrGW,EAAWD,GAAYL,EACvBA,EAAIW,cACJ9E,EAAK+E,kBAAkBT,GAAOM,KAAKT,IAGrCA,EAAIW,WAAWF,KAAKZ,KAvI9B,GAAIhE,GAAOC,KACP4E,EAAQ,CAEC,OAATvB,GAAiC,MAAhBA,EAAM0B,SAGzB/E,KAAKqD,MAAQA,EAGbrD,KAAKsD,KAAOA,EAGZtD,KAAKyD,OAAS,WACZ,OAAQH,GACN,IAAKL,GAAQC,QACX,MAAOnD,GAAKsD,MAAM0B,OAAOC,YAC3B,KAAK/B,GAAQE,KACX,MAAOpD,GAAKsD,MAAM0B,OAAOE,SAC3B,KAAKhC,GAAQG,KACX,MAAOrD,GAAKsD,MAAM0B,OAAOG,UAC3B,SACE,aAKNlF,KAAK6D,gBAAkB,KAGvB7D,KAAKmE,KAAO,KAGZnE,KAAK8E,kBAAoB,KAEzB9E,KAAKmF,OAAS,WACZpF,EAAK8D,gBAAkB9D,EAAK0D,OAAOzC,OACnCjB,EAAKoE,KAAO,GAAInB,KAAY4B,EAAO,KAAM,KAAM,KAAM7E,EAAK8D,gBAAkB,GAAG,GAE/E9D,EAAK+E,oBACL,KAAK,GAAIT,GAAQ,EAAGA,GAAStE,EAAK8D,gBAAiBQ,IACjDtE,EAAK+E,kBAAkBT,KAIzBV,IAGA,KAAK,GAAIS,GAAS,EAAGA,EAASrE,EAAK0D,OAAOzC,OAAQoD,IAAU,CAC1D,GAAIgB,GAASrF,EAAK0D,OAAOW,IACC,QAAtBgB,EAAOC,KAAKC,OAAyC,SAAtBF,EAAOC,KAAKC,QAC7CvF,EAAKsF,KAAKD,GAAQ,KAKxBpF,KAAKqF,KAAO,SAAS7B,EAAO+B,GAC1B,GAAa,MAAT/B,EAAe,CACb+B,KAAgB,IACO,QAArB/B,EAAM6B,KAAKC,MACb9B,EAAM6B,KAAKC,MAAQ,MAEnB9B,EAAM6B,KAAKC,MAAQ,OAMvB,KAAK,GAFDjB,GAAQtE,EAAK8D,gBAAkBN,EAAcC,GAC7CgC,EAAUnB,IAAUtE,EAAK8D,iBAAmB9D,EAAKoE,MAAQpE,EAAK+E,kBAAkBT,EAAQ,GACnF1D,EAAI,EAAGA,EAAI6E,EAAQxE,OAAQL,IACL,MAAzB6C,EAAM6B,KAAKI,WACbD,EAAQ7E,GAAG+D,OAAOW,KAAK7B,EAAM6B,KAAKI,YAElCD,EAAQ7E,GAAG+D,OAAOW,OAEK,SAArB7B,EAAM6B,KAAKC,OACbE,EAAQ7E,GAAG+D,OAAOgB,YAM1B1F,KAAK2F,cAAgB,WACnB,MAAO5F,GAAK+E,kBAAkB,GAAGc,IAAI,SAAS1B,GAG5C,IAFA,GAAIR,GAAO,GACPmC,EAAU3B,GACN2B,EAAQC,QACdpC,EAAOmC,EAAQE,OAAkB,KAATrC,EAAc,IAAMA,EAAO,IACnDmC,EAAUA,EAAQG,MAEpB,QACEtC,KAAMA,EACNQ,IAAKA,KAENmB,KAAK,SAAS5E,EAAGwF,GAClB,MAAIxF,GAAEiD,KAAOuC,EAAEvC,KAAa,GACxBjD,EAAEiD,KAAOuC,EAAEvC,KAAa,EACrB,OAgDfjE,EAAOD,QAAQ0G,KAAOjD,IAGtBkD,kBAAmB,EACnBC,cAAe,KAEjBC,GAAI,SAASnF,EAASzB,EAAQD,GAQ5B,QAAS8G,GAAiBC,EAAUC,EAASC,GAC3C,IAAK,GAAI9F,GAAI,EAAGA,EAAI6F,EAAQxF,OAAQL,IAClC,GAA4B,MAAxB6F,EAAQ7F,GAAG4F,GACb,MAAOC,GAAQ7F,GAAG4F,EAGtB,OAAOE,GAGT,QAASC,KASP,IAAK,GAPDC,IACFH,WACAI,SACAC,aACAC,cAGOnG,EAAI,EAAGA,EAAIoG,UAAU/F,OAAQL,IAAK,CACzC,GAAIqG,GAAWD,UAAUpG,MACzBgG,GAAOH,QAAQ7B,KAAKqC,GACpBL,EAAOC,MAAMjC,KAAKqC,EAAS3B,UAC3BsB,EAAOE,UAAUlC,KAAKqC,EAASC,cAC/BN,EAAOG,UAAUnC,MACfuC,kBAAmBF,EAASE,kBAC5BC,cAAqB,IAANxG,EAAUqG,EAASG,cAAgBH,EAASG,cAAgBH,EAASG,gBAAkB,KACtGC,WAAkB,IAANzG,EAAUqG,EAASI,WAAaJ,EAASI,WAAaJ,EAASI,aAAe,OAI9F,MAAOT,GAGT,QAASU,GAAYC,EAAYC,EAASC,EAAaC,GAErD,GAAIC,GACAC,CAEJ,IAAIF,EACF,OAAQF,GACN,IAAKK,GAAI1B,KAAK/C,KACZuE,EAAYJ,EAAWO,YACvBF,EAAiBF,EAAmBI,WACpC,MACF,KAAKD,GAAI1B,KAAKhD,QACZwE,EAAYJ,EAAWQ,eACvBH,EAAiBF,EAAmBK,cACpC,MACF,KAAKF,GAAI1B,KAAK9C,KACZsE,EAAYJ,EAAWS,aACvBJ,EAAiBF,EAAmBM,YACpC,MACF,SACEL,EAAY,KACZC,EAAiB,SAIrBD,GAAY,KACZC,EAAiB,IAGnB,IAAIhB,GAASD,EAAkBc,EAAaG,EAAgBD,EAAWD,EAAoBH,EAE3F,OAAO,IAAIU,IACTtE,KAAM4C,EAAiB,OAAQK,EAAOH,QAAS,IAE/CyB,QAAS3B,EAAiB,UAAWK,EAAOH,QAAS,IAErDnB,MACEC,MAAOgB,EAAiB,QAASK,EAAOC,MAAO,MAC/CnB,WAAYa,EAAiB,aAAcK,EAAOC,MAAO,OAE3DK,UACEiB,QAAS5B,EAAiB,UAAWK,EAAOE,WAAW,GACvDsB,YAAa7B,EAAiB,cAAeK,EAAOE,WAAW,GAC/DuB,UAAW9B,EAAiB,YAAaK,EAAOE,WAAW,IAAUP,EAAiB,cAAeK,EAAOE,WAAW,IAGzHK,kBAAmBZ,EAAiB,oBAAqBK,EAAOG,UAAW,OAC3EK,cAAeb,EAAiB,gBAAiBK,EAAOG,UAAWuB,EAAYlG,KAC/EiF,WAAYd,EAAiB,aAAcK,EAAOG,UAAW,QAC5D,GAGL,QAASwB,GAAiBC,GAExBA,EAAUA,MAEVvI,KAAKwI,YAAsC/D,SAAxB8D,EAAQC,YAA4BD,EAAQC,aAAc,EAC7ExI,KAAKyI,eAA4ChE,SAA3B8D,EAAQE,eAA+BF,EAAQE,gBAAiB,EAGxF,QAASC,GAAeH,EAASI,GAE/B,GAAIC,IACFV,QAASS,KAAgB,GAAO,EAAOlE,OACvC0D,YAAaQ,KAAgB,GAAO,EAAOlE,OAC3C2D,UAAWO,KAAgB,GAAO,EAAQlE,OAE5C8D,GAAUA,MAEVvI,KAAKkI,QAA8BzD,SAApB8D,EAAQL,QAAwBK,EAAQL,QAAUU,EAASV,QAC1ElI,KAAKmI,YAAsC1D,SAAxB8D,EAAQJ,YAA4BI,EAAQJ,YAAcS,EAAST,YACtFnI,KAAKoI,UAAkC3D,SAAtB8D,EAAQH,UAA0BG,EAAQH,UAAYQ,EAASR,UAGlF,QAASS,GAAWN,GAClBA,EAAUA,MAEVvI,KAAKsF,MAAQiD,EAAQjD,QAAUiD,EAAQ9C,WAAa,MAAQ,MAC5DzF,KAAKyF,WAAa8C,EAAQ9C,WAG5B,QAASqD,GAAYP,GACnBA,EAAUA,MAEVvI,KAAK+I,QAAUR,EAAQQ,UAAW,EAElC/I,KAAKsD,KAAOiF,EAAQjF,MAAQ,YA7H9B,GAAIP,GAAQ7B,EAAQ,eAChB0G,EAAM1G,EAAQ,aACdmH,EAAcnH,EAAQ,qBACtB8H,EAAY9H,EAAQ,mBACpB+H,EAAe/H,EAAQ,gBA4HvB8G,EAAQvI,EAAOD,QAAQgE,MAAQ,SAAS+E,EAASW,GAkBnD,QAASC,GAAkBvH,GACzB,MAAc,OAAPA,EAAcA,EAAIwH,WAAa,GAjBxCb,EAAUA,MAGVvI,KAAK0D,KAAO6E,EAAQ7E,KAGpB1D,KAAKiI,QAAUM,EAAQN,SAAWjI,KAAK0D,KAGvC1D,KAAKqF,KAAO,GAAIwD,GAAWN,EAAQlD,MACnCrF,KAAKiH,SAAW,GAAIyB,GAAeH,EAAQtB,SAG3C,IAAIoC,GACAC,CAMJtJ,MAAKmH,cAAgB,SAASjF,GAC5B,MAAIA,QACFmH,EAAiBhB,EAAYpG,gBAAgBC,IAEtCmH,GAIXrJ,KAAKoH,WAAa,SAASlF,GACzB,MAAIA,QACFoH,EAAcpH,GAEPoH,GAIXtJ,KAAKkH,kBAAoBqB,EAAQrB,oBAAsBqB,EAAQpB,cAAgBpE,EAAMwG,SAAShB,EAAQpB,eAAiBoB,EAAQpB,cAAgB,SAAW,MAE1JnH,KAAKmH,cAAcoB,EAAQpB,eAC3BnH,KAAKoH,WAAWmB,EAAQnB,YAAc+B,GAElCD,KAAqB,KACtBlJ,KAAK6H,YAAc,GAAIG,GAAMO,EAAQV,aAAa,IAAQnE,KAAO1D,KAAK0D,MACtE1D,KAAK8H,eAAiB,GAAIE,GAAMO,EAAQT,gBAAgB,IAAQpE,KAAO1D,KAAK0D,MAC5E1D,KAAK+H,aAAe,GAAIC,GAAMO,EAAQR,cAAc,IAAQrE,KAAO1D,KAAK0D,MAI7EjE,GAAOD,QAAQuF,OAAS,SAASA,GAgD/B,QAASyE,GAAkBC,GACzB,MAAmB,gBAARA,IAEP/F,KAAM3D,EAAK2J,cAAcD,IAGtBA,EA2BT,QAASE,GAASC,EAAWC,GAC3B,GAAIC,GAAavG,EAAcqG,EAAWC,EAC1C,OAAIC,GAAa,GACRF,EAAUE,GAEZ,KAGT,QAASvG,GAAcqG,EAAWC,GAChC,IAAK,GAAIE,GAAK,EAAGA,EAAKH,EAAU5I,OAAQ+I,IACtC,GAAIH,EAAUG,GAAIrG,OAASmG,EACzB,MAAOE,EAGX,OAAO,GA7FT,GAAIhK,GAAOC,IAEXA,MAAKgK,WAAajF,EAAOiF,eACzBhK,KAAKiK,cAAyCxF,SAAzBM,EAAOkF,gBAAgClF,EAAOkF,eAAgB,EACnFjK,KAAKkK,oBAAqD,YAA/BnF,EAAOmF,oBAAoC,UAAY,OAClFlK,KAAKmK,WAAa,GAAI7B,GAAiBvD,EAAOoF,YAC9CnK,KAAKiH,SAAW,GAAIyB,GAAe3D,EAAOkC,UAAU,GACpDjH,KAAKoK,MAAQrF,EAAOqF,MACpBpK,KAAKqK,OAAStF,EAAOsF,OACrBrK,KAAKsK,QAAUvF,EAAOuF,QACtBtK,KAAKuK,MAAQtB,EACbjJ,KAAKwK,UAAY,GAAI1B,GAAY/D,EAAOyF,WAExCvB,EAAawB,QAAQ1F,EAAOwF,OAE5BvK,KAAK6H,YAAc,GAAIG,GAAMjD,EAAO8C,aAAa,GACjD7H,KAAK8H,eAAiB,GAAIE,GAAMjD,EAAO+C,gBAAgB,GACvD9H,KAAK+H,aAAe,GAAIC,GAAMjD,EAAOgD,cAAc,GAGnD/H,KAAK0K,wBAEL1K,KAAK2K,2BAEL3K,KAAK0J,cAAgB,SAASzB,GAC5B,GAAI2C,GAAgB7K,EAAK4K,wBAAwBE,QAAQ5C,EACzD,OAAO2C,IAAiB,EAAI7K,EAAK2K,qBAAqBE,GAAiB3C,GAGzEjI,KAAK8K,cAAgB,SAASpH,GAC5B,GAAIqH,GAAahL,EAAK2K,qBAAqBG,QAAQnH,EACnD,OAAOqH,IAAc,EAAIhL,EAAK4K,wBAAwBI,GAAcrH,GAGtE1D,KAAKgL,SAAW,SAASC,GACvB,MAAOlL,GAAKwK,MAAME,YAAc1K,EAAKwK,MAAME,QAAQQ,IAGrDjL,KAAKkL,WAAanG,EAAOtB,YAAcmC,IAAI,SAAS4B,GAClD,GAAIjI,GAAI,GAAIyI,GAAMR,EAIlB,OAFAzH,GAAK2K,qBAAqB/F,KAAKpF,EAAEmE,MACjC3D,EAAK4K,wBAAwBhG,KAAKpF,EAAE0I,SAC7B1I,IAYTS,KAAKiF,WAAaF,EAAOoG,UAAYvF,IAAI,SAAS4B,GAEhD,MADAA,GAAcgC,EAAkBhC,GACzBH,EAAYtH,EAAM6H,EAAI1B,KAAK/C,KAAMqE,EAAamC,EAAS5J,EAAKmL,UAAW1D,EAAY9D,SAG5F1D,KAAKgF,cAAgBD,EAAOqG,aAAexF,IAAI,SAAS4B,GAEtD,MADAA,GAAcgC,EAAkBhC,GACzBH,EAAYtH,EAAM6H,EAAI1B,KAAKhD,QAASsE,EAAamC,EAAS5J,EAAKmL,UAAW1D,EAAY9D,SAG/F1D,KAAKkF,YAAcH,EAAOsG,UAAYzF,IAAI,SAAS4B,GAEjD,MADAA,GAAcgC,EAAkBhC,GACzBH,EAAYtH,EAAM6H,EAAI1B,KAAK9C,KAAMoE,EAAamC,EAAS5J,EAAKmL,UAAW1D,EAAY9D,SAG5F1D,KAAKsL,gBAAkBtL,KAAKkF,WAAalF,KAAKkF,WAAWlE,QAAU,EAAI,CAEvE,IAAIuK,IACF1E,WACEsE,KAA4C1G,SAAtC1E,EAAK8H,YAAYZ,SAASiB,QAAwBnI,EAAK8H,YAAYZ,SAASiB,SAAU,EAC5FkD,QAAkD3G,SAAzC1E,EAAK+H,eAAeb,SAASiB,QAAwBnI,EAAK+H,eAAeb,SAASiB,SAAU,GAqBzGlI,MAAKwL,SAAW,SAAS3B,GACvB,MAAOF,GAAS5J,EAAKmL,UAAWrB,IAGlC7J,KAAKyL,YAAc,SAAS5B,GAC1B,MAAOF,GAAS5J,EAAKkF,UAAW4E,IAGlC7J,KAAK0L,eAAiB,SAAS7B,GAC7B,MAAOF,GAAS5J,EAAKiF,aAAc6E,IAGrC7J,KAAK2L,aAAe,SAAS9B,GAC3B,MAAOF,GAAS5J,EAAKmF,WAAY2E,IAGnC7J,KAAK4L,gBAAkB,WACrB,MAAO7L,GAAKmL,UAAUW,OAAO,SAASrI,GACpC,GAAIsI,GAAgB,SAASC,GAC3B,MAAOvI,GAAME,OAASqI,EAAWrI,KAGnC,OAAO3D,GAAKmF,WAAW8G,MAAMF,IAAkB/L,EAAKkF,UAAU+G,MAAMF,IAAkB/L,EAAKiF,aAAagH,MAAMF,MAIlH9L,KAAKiM,2BAA6B,WAChC,GAAIC,EACJ,IAAInM,EAAKiK,aAAekC,EAAOnM,EAAKiK,WAAW,IAAK,CAGlD,IAAK,GAFDmC,GAAapJ,EAAMqJ,cAAcF,GACjCG,KACK1L,EAAI,EAAGA,EAAIwL,EAAWnL,OAAQL,IACrC0L,EAAQ1H,KAAK5E,EAAK+K,cAAcqB,EAAWxL,IAE7C,OAAO0L,GAET,MAAO,OAGTrM,KAAKsM,cAAgB,WACnB,GAAIC,KAeJ,OAdIxH,GAAOyH,YACTzJ,EAAM0J,QAAQ1J,EAAMqJ,cAAcrH,EAAOyH,YAAa,SAASE,GAC7D,GAAIC,GAAkB5H,EAAOyH,WAAWE,EACxC,IAAI3J,EAAMe,QAAQ6I,GAChBJ,EAAWxM,EAAK2J,cAAcgD,IAAkB,GAAI1D,GAAU4D,iBAAiB,KAAM,KAAMD,GAAiB,OACvG,CACL,GAAIE,GAAS9J,EAAMqJ,cAAcO,GAAiB,EAC9CE,KACFN,EAAWxM,EAAK2J,cAAcgD,IAAkB,GAAI1D,GAAU4D,iBAAiBC,EAAQF,EAAgBE,QAMxGN,GAGTvM,KAAK8M,UAAY,SAASjD,EAAWkD,EAAYC,EAAYC,GAE3D,GAAIC,GAAQC,EACRC,EACAC,EACAC,EAAqB3D,EAAS5J,EAAKmL,UAAWrB,EAElD,IAAIyD,EAAoB,CAEtB,OAAQP,GACN,IAAKnF,GAAI1B,KAAK/C,KACZ+J,EAASnN,EAAKkF,SACd,MACF,KAAK2C,GAAI1B,KAAKhD,QACZgK,EAASnN,EAAKiF,YACd,MACF,KAAK4C,GAAI1B,KAAK9C,KACZ8J,EAASnN,EAAKmF,WAMlB,OAAQ8H,GACN,IAAKpF,GAAI1B,KAAK/C,KACZiK,EAASrN,EAAKkF,UACdoI,EAActN,EAAK0L,YAAY5B,EAC/B,MACF,KAAKjC,GAAI1B,KAAKhD,QACZkK,EAASrN,EAAKiF,aACdqI,EAActN,EAAK2L,eAAe7B,EAClC,MACF,KAAKjC,GAAI1B,KAAK9C,KACZgK,EAASrN,EAAKmF,WACdmI,EAActN,EAAK4L,aAAa9B,GAMpC,GAAIqD,GAAUE,EAAQ,CAEpB,GAAIG,GAAuBxN,EAAKyN,oBAAoBR,EAEpD,IAAIE,EAAQ,CAEV,GADAC,EAAc5J,EAAc2J,EAAQrD,GAChCkD,IAAeC,IACbG,GAAeD,EAAOlM,OAAS,GAAiB,MAAZiM,GAAoBE,IAAgBF,EAAW,GACrF,OAAO,CAGXC,GAAOO,OAAON,EAAa,GAG7B,GAAI3J,GAAQ6D,EAAYtH,EAAMiN,EAAYK,EAAaC,EAiBvD,OAfKC,IAAwB/J,EAAMyD,SAASiB,WAAY,IACtD1E,EAAMyD,SAASiB,QAAU,MAGvBkF,IACc,MAAZH,EACFG,EAAOK,OAAOR,EAAU,EAAGzJ,GAE3B4J,EAAOzI,KAAKnB,IAKhBzD,EAAKuL,gBAAkBvL,EAAKmF,WAAanF,EAAKmF,WAAWlE,QAAU,EAAI,GAEhE,KAKbhB,KAAK0N,gBAAkB,SAASnG,GAE9B,GAAI5G,GACAgN,EACAC,GAAY7N,EAAKyN,oBAAoBjG,EAEzC,IAAIA,IAAYK,EAAI1B,KAAK/C,KACvBoI,EAAkB1E,UAAUsE,KAAOyC,EACnCD,EAAY5N,EAAKkF,cACZ,CAAA,GAAIsC,IAAYK,EAAI1B,KAAKhD,QAI9B,OAAO,CAHPqI,GAAkB1E,UAAUuE,QAAUwC,EACtCD,EAAY5N,EAAKiF,aAMnB,IADA4I,EAAWA,KAAa,EAAQ,MAAO,EAClCjN,EAAI,EAAGA,EAAIgN,EAAU3M,OAAQL,IAC5BgN,EAAUhN,GAAGsG,SAASiB,WAAY,IACpCyF,EAAUhN,GAAGsG,SAASiB,QAAU0F,EAGpC,QAAO,GAGT5N,KAAKwN,oBAAsB,SAASjG,GAClC,MAAIA,KAAYK,EAAI1B,KAAK/C,KAChBoI,EAAkB1E,UAAUsE,KAC1B5D,IAAYK,EAAI1B,KAAKhD,QACvBqI,EAAkB1E,UAAUuE,QAE5B,MAIXpL,KAAK6N,iBAAmB,SAAStG,GAC/B,GAAIqG,IAAY7N,EAAK+N,oBAAoBvG,EAEzC,IAAIA,IAAYK,EAAI1B,KAAK/C,KACvBpD,EAAKoK,WAAW3B,YAAcoF,MACzB,CAAA,GAAIrG,IAAYK,EAAI1B,KAAKhD,QAG9B,OAAO,CAFPnD,GAAKoK,WAAW1B,eAAiBmF,EAInC,OAAO,GAGT5N,KAAK8N,oBAAsB,SAASvG,GAClC,MAAIA,KAAYK,EAAI1B,KAAK/C,KAChBpD,EAAKoK,WAAW3B,YACdjB,IAAYK,EAAI1B,KAAKhD,QACvBnD,EAAKoK,WAAW1B,gBAEhB,MAMbsF,oBAAqB,EACrBC,YAAa,EACbC,kBAAmB,EACnBC,eAAgB,GAChB9H,cAAe,KAEjB+H,GAAI,SAASjN,EAASzB,EAAQD,GAE5BC,EAAOD,QAAU,SAAS4O,EAAIpI,EAAQD,EAAOvC,EAAOa,EAAOyB,EAAQuI,GAEjE,GAAItO,GAAOC,IAEXA,MAAKoO,GAAKA,EAEVpO,KAAKgG,OAASA,EAEdhG,KAAK+F,MAAQA,EAEb/F,KAAK8F,OAASA,EAEd9F,KAAKqO,OAASA,EAEdrO,KAAKwD,MAAQA,EAEbxD,KAAKqE,MAAQA,EAEbrE,KAAK0E,UAEL1E,KAAKwE,cAELxE,KAAK6E,WAAa,KAElB7E,KAAKsO,cAAgB,SAASC,GAC5B,GAAuB,MAAnBxO,EAAK8E,WAAoB,CAC3B9E,EAAK8E,aACL,KAAK,GAAIlE,GAAI,EAAGA,EAAIZ,EAAK2E,OAAO1D,OAAQL,IACtCZ,EAAKyE,WAAWzE,EAAK2E,OAAO/D,IAAI2N,cAAcvO,EAAK8E,YAGvD,GAAc,MAAV0J,EAAgB,CAClB,IAAK,GAAIC,GAAI,EAAGA,EAAIzO,EAAK8E,WAAW7D,OAAQwN,IAC1CD,EAAO5J,KAAK5E,EAAK8E,WAAW2J,GAE9B,OAAOD,GAEP,MAAOxO,GAAK8E,kBAMpB4J,GAAI,SAASvN,EAASzB,EAAQD,GAE5B,GAAIuD,GAAQ7B,EAAQ,eAChBwN,EAAYxN,EAAQ,mBACpB+H,EAAe/H,EAAQ,gBAEvByN,EAAY,wCACZC,EAAY,itBACZC,EAAY,gBAEhBpP,GAAOD,QAAU,SAASsP,GAexB,QAASC,GAAiB9G,GACxB,MAAO,OAAS+G,EAAc,iBAAmBC,EAAkB,KAAOhH,EAAU,eAGtF,QAASiH,GAAcC,EAASC,EAAkBC,EAAiBC,GACjE,GAAI3O,GACA4O,EAAMD,GAAU,MACpB,KAAK3O,EAAI,EAAOyO,EAAJzO,EAAsBA,IAChC4O,GAAO,WAOT,KAJAA,GAAOJ,EAAQK,OAAO,SAASC,EAAIjM,GACjC,MAAOiM,IAAMV,EAAiBvL,EAAMyE,UACnC,IAEEtH,EAAI,EAAO0O,EAAJ1O,EAAqBA,IAC/B4O,GAAO,WAET,OAAOA,GAAM,QAwDf,QAASG,GAASH,GAChB,MAAOxM,GAAM4M,KAAKC,SAASC,mBAAmBN,KAxFhD,GAAIxK,GAAS+J,EAAYzL,MAAM0B,OAE3B+K,EAAY7G,EAAawB,SAC7BqF,GAA0B,cAAdA,EAA4B,QAAUA,CAClD,IAAIC,GAAyB,UAAdD,EAEXb,EAAkBc,EAAW,QAAU,QACvCC,EAAa/G,EAAagH,OAAOH,GACjCI,EAAejH,EAAalG,MAAMoN,aAAaH,EAAY,IAE3DhB,EAAc,oCAAsCC,EAAkB,uBAAyBe,EAAa,eAAiBA,EAAa,IAC1II,EAAc,4BAA8BF,EAAe,eAAiBA,EAAe,IAuB3FG,EAAuB5N,KAAKH,IAAIyC,EAAOG,WAAWlE,OAAS,EAAG8N,EAAYwB,OAAOC,WAAWnG,OAE5FlF,EAAagK,EAAcnK,EAAOG,WAAY,EAAGmL,EAAuBtL,EAAOG,WAAWlE,OAAQ,+CAElGwP,EAAM,0CAA4CH,EAAuB,eAEzErL,EAAekK,EAAcnK,EAAOC,aAAc8J,EAAYwB,OAAOG,WAAWrG,MAAOiG,GAAwBvB,EAAYwB,OAAOG,WAAWrG,MAAQrF,EAAOC,aAAahE,SAEzK0P,EAAgB,WAGlB,IAAK,GADDlC,GADAe,EAAM,GAED5O,EAAI,EAAGA,EAAImO,EAAY1D,QAAQiB,QAAQrL,OAAQL,IAAK,CAC3D,GAAIgQ,GAAU7B,EAAY1D,QAAQiB,QAAQ1L,GACtCiQ,EAAS,MACb,IAAIjQ,EAAImO,EAAY1D,QAAQiB,QAAQrL,OAAS,EAC3C,IAAKwN,EAAI,EAAGA,EAAIM,EAAYwB,OAAOG,WAAWrG,MAAOoE,IACnDoC,GAAU,gBAGZA,IAAU7L,EAAOE,UAAUuK,OAAO,SAASC,EAAIjM,GAC7C,MAAOiM,IAAMV,EAAiBvL,EAAMyE,UACnC,GAGL2I,IAAUD,EAAQnB,OAAO,SAASC,EAAIoB,GACpC,GAAI9K,GAAQ8K,EAAOvN,OAASoL,EAAUoC,WAAWC,YAAcF,EAAO9K,MAAMkC,QAAU4I,EAAO9K,KAC7F,OAAO0J,IAAM,OAASW,EAAc,aAAeS,EAAOG,OAAM,GAAQ,cAAgBH,EAAOI,OAAM,GAAQ,KAAOlL,EAAQ,SAC3H,IACHwJ,GAAOqB,EAAS,QAElB,MAAOrB,MAGL2B,EAAyB,WAG3B,IAAK,GAFD3B,GAAM,GAED5O,EAAI,EAAGA,EAAImO,EAAY3D,KAAKkB,QAAQrL,OAAQL,IAAK,CACxD,GAAIgQ,GAAU7B,EAAY3D,KAAKkB,QAAQ1L,GACnCiQ,EAAS,MACbA,IAAUD,EAAQnB,OAAO,SAASC,EAAIoB,GACpC,MAAOpB,IAAM,OAASW,EAAc,aAAeS,EAAOG,OAAM,GAAQ,cAAgBH,EAAOI,OAAM,GAAQ,KAAOJ,EAAO9K,MAAQ,SAClI,GACH,IAAIoL,GAAUrC,EAAYsC,SAASzQ,EACnCiQ,IAAUO,EAAQ3B,OAAO,SAASC,EAAI4B,EAAUC,GAC9C,GAAIlK,GAAarC,EAAOG,WAAWoM,GAAgBvM,EAAOG,WAAWlE,QAAQoG,WACzErB,EAA0B,MAAlBsL,EAAStL,MAAgB,GAAKqB,EAAaA,IAAaiK,EAAStL,OAASsL,EAAStL,KAC/F,OAAO0J,IAAM,OAAS1J,EAAQ,SAC7B,IACHwJ,GAAOqB,EAAS,QAElB,MAAOrB,KAOT,OAAOZ,GAAYe,EAASd,EAAY,UAAY1J,EAAasL,EAAMxL,EAAe0L,EAAgBQ,EAAyB,WAAarC,MAI9IX,eAAgB,GAChBqD,kBAAmB,GACnBnL,cAAe,KAEjBoL,GAAI,SAAStQ,EAASzB,EAAQD,GAE5B,GAAIuD,GAAQ7B,EAAQ,eAEhB8H,EAAYvJ,EAAOD,SACrBiS,IAAK,QACLC,KAAM,SACNC,MAAO,WAGT3I,GAAU4D,iBAAmB,SAASgF,EAAUC,EAAMC,EAAaC,GACjE,GAAIhS,GAAOC,IAEXA,MAAK4R,SAAWI,EAAIC,IAAIL,GACxB5R,KAAKkS,YAAa,EAClBlS,KAAK6R,KAAOA,GAAQ,KAChB7R,KAAK6R,MAAQ7R,KAAK4R,UAAY5R,KAAK4R,SAASO,iBAC1CpP,EAAMqP,SAASpS,KAAK6R,QACtB7R,KAAKkS,YAAa,EACblS,KAAK6R,KAAKQ,aACbrS,KAAK6R,KAAO,GAAIS,QAAOtS,KAAK6R,KAAKU,OAAQ,OAK/CvS,KAAK8R,YAAcA,EACnB9R,KAAK+R,cAAgBA,EAErB/R,KAAKwS,KAAO,SAASzM,GACnB,GAAIhD,EAAMe,QAAQ/D,EAAK+R,aAAc,CACnC,GAAIW,GAAQ1S,EAAK+R,YAAYjH,QAAQ9E,IAAU,CAC/C,OAAOhG,GAAKgS,gBAAkBU,IAAU1S,EAAKgS,eAAiBU,EACzD,MAAI1S,GAAK8R,KACP9R,EAAK6R,SAAS1P,KAAK6D,EAAOhG,EAAK8R,MAC7B9R,EAAK+R,eAAgB,GAAQ/R,EAAK+R,cAAgB9I,EAAUyI,KAC9D,EACE1R,EAAK+R,eAAgB,GAAS/R,EAAK+R,cAAgB9I,EAAU0I,MAC/D,GAEA,GAIX1R,KAAK0S,aAAe,WAClB,QAAS3S,EAAK8R,MAAQ9O,EAAMe,QAAQ/D,EAAK+R,cAAgB/R,EAAK+R,cAAgB9I,EAAU0I,MAAQ3R,EAAK+R,eAAgB,IAIzH,IAAIE,GAAMhJ,EAAU2J,WAClBV,IAAK,SAASpF,GACZ,OAAQA,GACN,IAAKmF,GAAIY,MAAMlP,KACb,MAAOsO,GAAIY,KACb,KAAKZ,GAAIa,SAASnP,KAChB,MAAOsO,GAAIa,QACb,KAAKb,GAAIc,GAAGpP,KACV,MAAOsO,GAAIc,EACb,KAAKd,GAAIe,IAAIrP,KACX,MAAOsO,GAAIe,GACb,KAAKf,GAAIgB,GAAGtP,KACV,MAAOsO,GAAIgB,EACb,KAAKhB,GAAIiB,IAAIvP,KACX,MAAOsO,GAAIiB,GACb,KAAKjB,GAAIkB,GAAGxP,KACV,MAAOsO,GAAIkB,EACb,KAAKlB,GAAImB,IAAIzP,KACX,MAAOsO,GAAImB,GACb,SACE,MAAOnB,GAAIN,OAGjBA,KAAM,KACNkB,OACElP,KAAM,UACNxB,KAAM,SAAS6D,EAAO8L,GACpB,MAAI9L,GACKA,EAAMqD,WAAWgK,OAAOrQ,EAAMqP,SAASP,GAAQA,EAAO,GAAIS,QAAOT,EAAM,OAAS,GAE7EA,GAGdM,iBAAiB,GAEnBU,UACEnP,KAAM,iBACNxB,KAAM,SAAS6D,EAAO8L,GACpB,MAAI9L,GACKA,EAAMqD,WAAWgK,OAAOrQ,EAAMqP,SAASP,GAAQA,EAAO,GAAIS,QAAOT,EAAM,MAAQ,IAE7EA,GAGbM,iBAAiB,GAEnBW,IACEpP,KAAM,IACNxB,KAAM,SAAS6D,EAAO8L,GACpB,MAAO9L,IAAS8L,GAElBM,iBAAiB,GAEnBY,KACErP,KAAM,KACNxB,KAAM,SAAS6D,EAAO8L,GACpB,MAAO9L,IAAS8L,GAElBM,iBAAiB,GAEnBa,IACEtP,KAAM,IACNxB,KAAM,SAAS6D,EAAO8L,GACpB,MAAO9L,GAAQ8L,GAEjBM,iBAAiB,GAEnBc,KACEvP,KAAM,KACNxB,KAAM,SAAS6D,EAAO8L,GACpB,MAAO9L,IAAS8L,GAElBM,iBAAiB,GAEnBe,IACExP,KAAM,IACNxB,KAAM,SAAS6D,EAAO8L,GACpB,MAAeA,GAAR9L,GAEToM,iBAAiB,GAEnBgB,KACEzP,KAAM,KACNxB,KAAM,SAAS6D,EAAO8L,GACpB,MAAgBA,IAAT9L,GAEToM,iBAAiB,MAKrB/L,cAAe,KAEjBiN,GAAI,SAASnS,EAASzB,EAAQD,GAE5BC,EAAOD,QAAQuD,MAAQ7B,EAAQ,eAC/BzB,EAAOD,QAAQ6D,MAAQnC,EAAQ,eAC/BzB,EAAOD,QAAQsP,YAAc5N,EAAQ,wBACrCzB,EAAOD,QAAQ8T,MAAQpS,EAAQ,eAC/BzB,EAAOD,QAAQ,UAAY0B,EAAQ,wBAGnCqS,qBAAsB,EACtBC,cAAe,EACfC,cAAe,GACfC,uBAAwB,GACxBtN,cAAe,KAEjBuN,GAAI,SAASzS,EAASzB,EAAQD,GAE5B,GAAIoU,GAAS1S,EAAQ,gBACnB0G,EAAM1G,EAAQ,aACd2S,EAAgB3S,EAAQ,gBAAgB6D,OACxCiE,EAAY9H,EAAQ,mBACpBoS,EAAQpS,EAAQ,eAChB6B,EAAQ7B,EAAQ,eAEdmC,EAAQ5D,EAAOD,QAAU,SAASuF,GAmBpC,QAAS+O,GAAQC,GACXA,KAAmB,GACrBC,IAEFjU,EAAKoL,KAAKhG,SACVpF,EAAKqL,QAAQjG,SACb8O,IAGAlU,EAAKmU,QAAQ7Q,EAAM8Q,eAGrB,QAASH,KACP,GAAII,GAAerR,EAAMqJ,cAAcrM,EAAKsU,QAC5C,IAAID,EAAapT,OAAS,EAAG,CAC3BjB,EAAK6D,qBAEL,KAAK,GAAIjD,GAAI,EAAGA,EAAIZ,EAAKgF,OAAOiF,WAAWhJ,OAAQL,IAAK,CAGtD,IAAK,GAFDsD,GAAMlE,EAAKgF,OAAOiF,WAAWrJ,GAC7B2T,GAAU,EACLvK,EAAK,EAAGA,EAAKqK,EAAapT,OAAQ+I,IAAM,CAC/C,GAAIF,GAAYuK,EAAarK,GACzBwK,EAAcxU,EAAKsU,QAAQxK,EAE/B,IAAI0K,IAAgBA,EAAY/B,KAAKvO,EAAI4F,IAAa,CACpDyK,GAAU,CACV,QAGCA,GACHvU,EAAK6D,mBAAmBe,KAAKV,QAIjClE,GAAK6D,mBAAqB7D,EAAKgF,OAAOiF,WA+K1C,QAASwK,GAAa3P,EAAY4P,EAAYC,EAAgBvI,EAAYhF,GAExE,GAAIwN,KAEJ,IAAI5U,EAAKgF,OAAOuG,gBAAkB,EAAG,CAEnC,GAAIjK,EAEJ,IAAkB,MAAdwD,EACFxD,EAAeoT,MACV,IAAkB,MAAdA,EACTpT,EAAewD,MACV,CACLxD,IACA,KAAK,GAAIuT,GAAK,EAAGA,EAAK/P,EAAW7D,OAAQ4T,IAAM,CAC7C,GAAIC,GAAWhQ,EAAW+P,EAC1B,IAAIC,GAAY,EAAG,CACjB,GAAIC,GAAcL,EAAW5J,QAAQgK,EACjCC,IAAe,IACjBjQ,EAAW+P,GAAM,GAAKC,EAAW,GACjCxT,EAAasD,KAAKkQ,MAM1B,GAEIzT,GAFA2T,EAAoB1T,GAAwC,IAAxBA,EAAaL,OAGjDgU,GAFajV,EAAK6D,sBAItB,IAAIuI,EACF,IAAK,GAAI8I,GAAiB,EAAGA,EAAiB9I,EAAWnL,OAAQiU,IAC/D7T,EAAYrB,EAAKgF,OAAO4G,aAAaQ,EAAW8I,IAC3C9N,IACE/F,EAMH+F,EAAgB/F,EAAU+F,iBAL1B/F,EAAYrB,EAAKgF,OAAOyG,SAASW,EAAW8I,IACxC7T,IACF+F,EAAgB/F,EAAU2G,aAAe3G,EAAU2G,aAAaZ,gBAAkB/F,EAAU+F,mBAO9F/F,GAAa+F,GACf6N,EAAWrQ,MACTnB,MAAOpC,EACP+F,cAAeA,QAKrB,KAAK,GAAI+N,GAAiB,EAAGA,EAAiBnV,EAAKgF,OAAOuG,gBAAiB4J,IACzE9T,EAAYrB,EAAKgF,OAAOG,WAAWgQ,IAAmBC,GAClDhO,GAAiB/F,EAAU+F,gBAC7B6N,EAAWrQ,MACTnB,MAAOpC,EACP+F,cAAeA,GAAiB/F,EAAU+F,iBAMlD,KAAK,GAAIiO,GAAM,EAAGA,EAAMJ,EAAWhU,OAAQoU,IACzChU,EAAY4T,EAAWI,GAEnBL,EACFJ,EAAIvT,EAAUoC,MAAME,MAAQ,KAE5BiR,EAAIvT,EAAUoC,MAAME,MAAQtC,EAAU+F,cAAc/F,EAAUoC,MAAME,KAAMrC,GAAgB,MAAOtB,EAAK6D,mBAAoB8Q,GAAkB7P,EAAY4P,GAK9J,MAAOE,GAGT,QAASU,GAAiBC,GAExB,GAAIA,EAAQ,CACV,GAAIjK,MACAkK,EAAM,IAAMD,EAAOlH,EAUvB,IAPqB3J,SAAjB+Q,EAAQD,KACVC,EAAQD,GAAOD,EAAOxP,OAAS,KAAO0P,EAAQF,EAAOtP,OAAOoI,KAAOkH,EAAOhH,iBAI5EjD,EAAKtL,EAAKqL,QAAQjH,KAAKiK,IAAMoG,EAAac,EAAOxP,OAAS,KAAO0P,EAAQD,GAAKE,MAAM,GAAI,MAEpF1V,EAAKqL,QAAQvH,gBAAkB,EAIjC,IAHA,GAAI6R,GAAI,EACJlQ,GAAWzF,EAAKqL,QAAQjH,MAErBuR,EAAIlQ,EAAQxE,QAAQ,CAIzB,IAAK,GAHDgF,GAASR,EAAQkQ,GACjBC,EAAaL,EAAOxP,OAAS,KAAOE,EAAOF,OAAS0P,EAAQD,GAAKE,MAAM,GAAKD,EAAQ,IAAMxP,EAAOoI,IAAIqH,MAAM,GAEtG9U,EAAI,EAAGA,EAAIqF,EAAOtB,OAAO1D,OAAQL,IAAK,CAC7C,GAAIiV,GAAS5P,EAAOxB,WAAWwB,EAAOtB,OAAO/D,IACzCkV,EAAM,IAAMD,EAAOxH,EASvB,IANqB3J,SAAjB+Q,EAAQK,KACVL,EAAQK,GAAOL,EAAQK,IAAQD,EAAOtH,gBAAgBmH,MAAM,IAG9DpK,EAAKuK,EAAOxH,IAAMoG,EAAamB,EAAYH,EAAQK,GAAMP,EAAOxP,OAAS,KAAOwP,EAAOhH,kBAElFsH,EAAOvH,SACV7I,EAAQb,KAAKiR,GACTD,GAAY,CACdH,EAAQK,KACR,KAAK,GAAIC,GAAK,EAAGA,EAAKH,EAAW3U,OAAQ8U,IAAM,CAC7C,GAAIC,GAAKJ,EAAWG,EACV,KAANC,GAAiB,EAALA,IACdP,EAAQK,GAAKlR,KAAK,GAAKoR,EAAK,IAC5BJ,EAAWG,GAAM,MAM3BN,EAAQ,IAAMxP,EAAOoI,IAAM3J,OAC3BiR,IAIJ,MAAOrK,IAIX,QAAS4I,KAOP,GANAlU,EAAKiW,cACLR,KAGAzV,EAAKiW,WAAWjW,EAAKoL,KAAKhH,KAAKiK,IAAMiH,EAAiBtV,EAAKoL,KAAKhH,MAE5DpE,EAAKoL,KAAKtH,gBAAkB,EAI9B,IAHA,GAEImC,GAFAR,GAAWzF,EAAKoL,KAAKhH,MACrBuR,EAAI,EAEDA,EAAIlQ,EAAQxE,QAAQ,CACzBgF,EAASR,EAAQkQ,EAEjB,KAAK,GAAI/U,GAAI,EAAGA,EAAIqF,EAAOtB,OAAO1D,OAAQL,IAAK,CAC7C,GAAIiV,GAAS5P,EAAOxB,WAAWwB,EAAOtB,OAAO/D,GAE7CZ,GAAKiW,WAAWJ,EAAOxH,IAAMiH,EAAiBO,GAEzCA,EAAOvH,QACV7I,EAAQb,KAAKiR,GAIjBF,KAhYN,GAIEF,GAJEzV,EAAOC,KACTmV,GACEzR,KAAM,cAKVkQ,GAAO7S,KAAKf,MAEZA,KAAK+E,OAAS,GAAI8O,GAAc9O,GAChC/E,KAAKqU,QAAUtU,EAAKgF,OAAOuH,gBAC3BtM,KAAK4D,mBAAqB7D,EAAKgF,OAAOiF,WAEtChK,KAAKmL,KAAO,GAAIvD,GAAI7H,EAAM6H,EAAI1B,KAAK/C,MACnCnD,KAAKoL,QAAU,GAAIxD,GAAI7H,EAAM6H,EAAI1B,KAAKhD,SACtClD,KAAKgW,cAwCLhW,KAAKqF,KAAO,SAASkC,EAAS/D,GAC5B,GAAI+D,IAAYK,EAAI1B,KAAK/C,KACvBpD,EAAKoL,KAAK9F,KAAK7B,OACV,CAAA,GAAI+D,IAAYK,EAAI1B,KAAKhD,QAG9B,MAFAnD,GAAKqL,QAAQ/F,KAAK7B,GAKpBzD,EAAKmU,QAAQ7Q,EAAM4S,qBAGrBjW,KAAK8M,UAAY,SAASjD,EAAWkD,EAAYC,EAAYC,GAC3D,MAAIlN,GAAKgF,OAAO+H,UAAUjD,EAAWkD,EAAYC,EAAYC,IAC3D6G,GAAQ,IACD,IAEF,GAGT9T,KAAKkW,YAAc,SAASrM,EAAW+H,EAAUC,EAAMC,EAAaC,GAClEhS,EAAKsU,QAAQxK,GAAa,GAAIb,GAAU4D,iBAAiBgF,EAAUC,EAAMC,EAAaC,GACtF+B,KAGF9T,KAAKmW,YAAc,SAAS9K,GAC1BtL,EAAKgF,OAAOiF,WAAaqB,EACzByI,KAGF9T,KAAK0N,gBAAkB,SAASnG,GAC1BxH,EAAKgF,OAAO2I,gBAAgBnG,IAC9BxH,EAAKmU,QAAQ7Q,EAAM+S,uBAIvBpW,KAAK6N,iBAAmB,SAAStG,GAC3BxH,EAAKgF,OAAO8I,iBAAiBtG,IAC/BxH,EAAKmU,QAAQ7Q,EAAM+S,uBAIvBpW,KAAKwN,oBAAsB,SAASjG,GAClC,MAAOxH,GAAKgF,OAAOyI,oBAAoBjG,IAGzCvH,KAAK8N,oBAAsB,SAASvG,GAClC,MAAOxH,GAAKgF,OAAO+I,oBAAoBvG,IAGzCvH,KAAKqW,eAAiB,SAAS7S,EAAO8S,GAIpC,IAAK,GAHDC,MACA7R,KACA8R,GAAgB,EACX7V,EAAI,EAAGA,EAAIZ,EAAKgF,OAAOiF,WAAWhJ,OAAQL,IAAK,CACtD,GAAIsD,GAAMlE,EAAKgF,OAAOiF,WAAWrJ,GAC7BiB,EAAMqC,EAAIT,EACKiB,UAAf6R,GACEA,KAAe,GAA8B,kBAAfA,IAA6BA,EAAW1U,KACxE2U,EAAQ5R,KAAK/C,GAGJ,MAAPA,EACF2U,EAAQ5R,KAAK/C,GAEb4U,GAAgB,EAItB,GAAID,EAAQvV,OAAS,EAAG,CAClB+B,EAAM0T,SAASF,EAAQ,KAAOxT,EAAM2T,OAAOH,EAAQ,IACrDA,EAAQlR,KAAK,SAAS5E,EAAGwF,GACvB,MAAOxF,GAAIwF,EAAIxF,EAAIwF,EAAI,EAAIA,EAAI,GAAK,IAGtCsQ,EAAQlR,MAGV,KAAK,GAAIsR,GAAK,EAAGA,EAAKJ,EAAQvV,OAAQ2V,KACzB,IAAPA,GAAYJ,EAAQI,KAAQjS,EAAOA,EAAO1D,OAAS,KACrD0D,EAAOC,KAAK4R,EAAQI,QAIxBjS,GAAS6R,CAKX,OAHIC,IACF9R,EAAOkS,QAAQ,MAEVlS,GAGT1E,KAAK6W,eAAiB,SAASrT,GAC7B,MAAOzD,GAAKsU,QAAQ7Q,IAGtBxD,KAAK8W,gBAAkB,SAAStT,GAC9B,GAAIqI,GAAS9L,EAAK8W,eAAerT,EACjC,OAAiB,OAAVqI,IAAmBA,EAAO6G,gBAGnC1S,KAAK+W,QAAU,SAASvT,EAAOwT,EAAQC,EAAQ9P,GAC7C,GAAIpB,EACJ,IAAIiR,GAAUC,EAAQ,CAEpB,GAAIC,GAAgB1T,IAAUzD,EAAKgF,OAAOG,WAAW,IAAMiQ,GAAczR,KACrEtC,EAAYrB,EAAKgF,OAAO4G,aAAauL,EAGvCnR,IADG3E,GAAa+F,GAAiB/F,EAAU+F,eAAiBA,EACpDpH,EAAKoX,gBAAgBH,EAAOlR,OAAS,KAAOkR,EAAO1I,gBAAgBmH,MAAM,GAAIwB,EAAOnR,OAAS,KAAOmR,EAAO3I,gBAAgBmH,MAAM,IAAKyB,GAAgB/P,GAAe+P,GAEzKnX,EAAKiW,WAAWgB,EAAO5I,KAAOrO,EAAKiW,WAAWgB,EAAO5I,IAAI6I,EAAO7I,IAC1DrO,EAAKiW,WAAWgB,EAAO5I,IAAI6I,EAAO7I,IAAI8I,GAEtC,KAKd,MAAiBzS,UAAVsB,EAAsB,KAAOA,GAGtC/F,KAAKmX,gBAAkB,SAAStS,EAAY4P,EAAYtI,EAAYhF,GAClE,MAAOqN,GAAa3P,EAAY4P,EAAY5P,EAAYsH,EAAYhF,IAGtEnH,KAAKoX,aAAe,WAIlB,QAASC,GAAaC,GAEpB,IAAK,GADD/H,GAAM,GACDgI,EAAK,EAAGA,EAAKD,EAAWtW,OAAQuW,IACvChI,IAAQgI,EAAK,EAAI,MAAQ,IAAMD,EAAWC,GAAItP,OAEhD,OAAOsH,GAWT,IAAK,GAlBDxK,GAAShF,EAAKgF,OAUdyS,EAAaH,EAAatS,EAAOC,cACjCyS,EAAa1S,EAAOG,WAAW,GAAGgC,kBAAoB,IAAMnC,EAAOG,WAAW,GAAG+C,QAAU,IAC3FyP,EAAeL,EAAatS,EAAOE,WAEnC0S,EAAoB5X,EAAKoL,KAAKxF,gBAC9BiS,EAAoB7X,EAAKqL,QAAQzF,gBACjC0F,KAEKwM,EAAK,EAAGA,EAAKD,EAAkB5W,OAAQ6W,IAAM,CAGpD,IAAK,GAFDC,GAAOF,EAAkBC,GACzBE,GAAYD,EAAKpU,MACZsU,EAAM,EAAGA,EAAML,EAAkB3W,OAAQgX,IAChDD,EAASpT,KAAK5E,EAAKgX,QAAQhS,EAAOG,WAAW,GAAGxB,KAAMiU,EAAkBK,GAAK9T,IAAK4T,EAAK5T,KAEzFmH,GAAK1G,KAAKoT,GAGZ,OACEE,MAAOR,EAAa,KAAOD,EAAa,OAASE,EACjDF,WAAYA,EACZC,WAAYA,EACZC,aAAcA,EACdQ,SAAUP,EAAkB/R,IAAI,SAASuS,GACvC,MAAOA,GAAEzU,OAEX0U,UAAW/M,IAIfrL,KAAKsT,MAAQA,EAAMvT,GAEnB+T,IAuKFzQ,GAAM8Q,cAAgB,gBACtB9Q,EAAM4S,mBAAqB,qBAC3B5S,EAAM+S,qBAAuB,yBAG7BpI,YAAa,EACbqK,eAAgB,EAChBpK,kBAAmB,EACnBqK,eAAgB,EAChB7E,cAAe,GACfrN,cAAe,KAEjBmS,GAAI,SAASrX,EAASzB,EAAQD,GAE5B,GAAIuD,GAAQ7B,EAAQ,cAEpBzB,GAAOD,QAAU,WACf,GAAIgZ,KAEJxY,MAAKyY,UAAY,SAASC,EAAO5W,GAC3BiB,EAAMwG,SAASmP,IAAU3V,EAAM4V,WAAW7W,KAC5C0W,EAAQE,GAASF,EAAQE,OACzBF,EAAQE,GAAO/T,KAAK7C,KAIxB9B,KAAKkU,QAAU,SAASwE,GAClB3V,EAAMwG,SAASmP,IACjB3V,EAAM0J,QAAQ+L,EAAQE,GAAQ,SAAS5W,GACrCA,EAAS8W,MAAM,MAAOF,GAAOG,OAAOC,MAAMC,UAAUtD,MAAM1U,KAAKgG,UAAW,WAOlFX,cAAe,KAEjB4S,IAAK,SAAS9X,EAASzB,EAAQD,GAE7B,GAAIuD,GAAQ7B,EAAQ,eAChB0G,EAAM1G,EAAQ,aACdmH,EAAcnH,EAAQ,qBAEtB+X,EAAY,SAAS1G,EAAQe,EAAOe,GAEtC,GAAItU,GAAOC,IAEXA,MAAKuS,OAASA,EACdvS,KAAKsT,MAAQA,EACbtT,KAAKqU,QAAUA,EAEfrU,KAAKkZ,cAAgB,SAASC,EAAM5Q,EAAS6Q,GAC3C,GAAIA,EAAUC,SAAU,EAAM,CAE5B,IAAK,GADD1E,MACK2E,EAAK,EAAGA,EAAK/Q,EAAQgR,gBAAgBvY,OAAQsY,IACpD3E,EAAIpM,EAAQgR,gBAAgBD,IAAOH,EAAKpZ,EAAKyZ,eAAejR,EAAQgR,gBAAgBD,IAEtF,OAAO3E,GAEP,MAAOwE,GAAKC,EAAUK,gBAI1BzZ,KAAK0Z,YAAc,SAASD,EAAeJ,EAAOlS,EAAewS,GAE/D,GAAIP,IACFK,cAAe1Z,EAAKyZ,eAAeC,GACnCJ,MAAOA,EACPlS,cAAeA,EAGjB,OAAO,UAASoB,GACdA,EAAUxI,EAAK6Z,aAAarR,EAASxB,UAAWqS,EAChD,IAAID,GAAOpZ,EAAK8Z,QAAQtR,EAASoR,EAAcN,EAC/C,OAAOtZ,GAAKmZ,cAAcC,EAAM5Q,EAAS6Q,KAI7CpZ,KAAK8Z,uBAAyB,SAASC,GAGrC,GAAIC,GAAUja,EAAKuT,MAAM1R,IAAM,OAAS,KACxC7B,GAAKuT,MAAM0G,GAAWja,EAAK2Z,YAAYjV,QAAW,EAAMA,OAAWsV,EAInE,KAAK,GADDE,GAAelX,EAAMqJ,cAAc/D,GAC9B6R,EAAY,EAAGA,EAAYD,EAAajZ,OAAQkZ,IAAa,CACpE,GAAIC,GAAWF,EAAaC,EACX,qBAAbC,IACFpa,EAAKuT,MAAM6G,GAAYpa,EAAK2Z,YAAYjV,QAAW,EAAM4D,EAAY8R,GAAWJ,OAMpFK,EAAa,SAAS/W,GAyFxB,QAASgX,GAAiBC,EAAWzO,GACnC,MAAO,UAAS3H,GACd,MAAOA,GAAI6B,QAAU8F,EAAOjK,OAAS0Y,GAAaA,EAAUC,KAAK,SAASC,GACxE,GAAIxU,GAAS9B,EAAI8B,MACjB,IAAIA,EACF,KAAOA,EAAO3B,MAAQmW,EAASnW,OAC7B2B,EAASA,EAAOA,MAGpB,OAAOA,KAAWwU,MAhGxBvB,EAAUlY,KAAKf,KAAMqD,QAErB,IAAItD,GAAOC,IAEXA,MAAKwZ,eAAiB,SAASvR,GAC7B,MAAOlI,GAAKwS,OAAOxN,OAAO2E,cAAczB,IAG1CjI,KAAK4Z,aAAe,SAASrR,EAASkS,EAAWrB,GAC/C,GAAIsB,IACFvO,cAGF,IAAIiN,EAAUC,SAAU,EAAM,CACxB9Q,GAA8B,gBAAZA,IACpBmS,EAAKvT,cAAgBoB,EAAQpB,cAC7BuT,EAAKnB,gBAAkBhR,EAAQ9E,SAE/BiX,EAAKvT,cAAgBiS,EAAUjS,cAC/BuT,EAAKnB,gBAAkBkB,EAGzB,KAAK,GAAInB,GAAK,EAAGA,EAAKoB,EAAKnB,gBAAgBvY,OAAQsY,IACjDoB,EAAKvO,WAAWxH,KAAK5E,EAAKyZ,eAAekB,EAAKnB,gBAAgBD,SAGhEoB,GAAKvT,cAAgBoB,EACrBmS,EAAKvO,WAAWxH,KAAKyU,EAAUK,cAOjC,OAJIiB,GAAKvT,gBACPuT,EAAKvT,cAAgBkB,EAAYpG,gBAAgByY,EAAKvT,gBAGjDuT,GAGT1a,KAAK2a,MAAQ,SAASC,GACpB,GAGIC,GAHA5V,EAAYlF,EAAKwS,OAAOxN,OAAOE,UAC/B6V,EAAY/a,EAAKwS,OAAOxN,OAAOC,aAC/BgQ,EAAajV,EAAKwS,OAAOxN,OAAOG,UAIpC,KAAK2V,EAAS,EAAGA,EAAS5V,EAAUjE,OAAQ6Z,IAC1C9a,EAAK0V,MAAMxQ,EAAU4V,GAASjT,EAAI1B,KAAK/C,KAAM8B,EAAUjE,OAAS6Z,EAIlE,KAAKA,EAAS,EAAGA,EAASC,EAAU9Z,OAAQ6Z,IAC1C9a,EAAK0V,MAAMqF,EAAUD,GAASjT,EAAI1B,KAAKhD,QAAS4X,EAAU9Z,OAAS6Z,EAIrE,KAAKA,EAAS,EAAGA,EAAS7F,EAAWhU,OAAQ6Z,IAAU,CACrD,GAAIE,GAAK/F,EAAW6F,GAChBG,EAASD,EAAGrX,KACZuX,EAAYF,EAAG9S,SAAW+S,CAE9Bjb,GAAKuT,MAAM0H,GAAUjb,EAAKuT,MAAM2H,GAAalb,EAAK2Z,YAAYsB,GAGhE,GAAIJ,EACF,IAAK,GAAIb,KAASa,GACZA,EAAWM,eAAenB,IAC5Bha,EAAKuT,MAAMyG,GAAOa,EAAWb,GAOnC,OAFAha,GAAK+Z,yBAEE/Z,EAAKuT,OAGdtT,KAAKyV,MAAQ,SAASjS,EAAO+D,EAASlD,GACpCtE,EAAKuT,MAAM9P,EAAME,MAAQ3D,EAAKuT,MAAM9P,EAAMyE,SAAWzE,EAAME,MAAQ,SAAS9B,GAC1E,GAAIrC,IACFmE,KAAMF,EAAME,KACZ9B,IAAKA,EACLyC,MAAOA,EAGT,QADCtE,EAAKsU,QAAQ9M,GAAWxH,EAAKsU,QAAQ9M,QAAgB5C,KAAKpF,GACpDQ,EAAKuT,QAkBhBtT,KAAKmb,aAAe,SAAS5T,GAC3B,GAAIxH,EAAKsU,QAAQ9M,GAAU,CAQzB,IAPA,GAAI6T,GAAgBrb,EAAKsU,QAAQ9M,GAASlC,KAAK,SAASgW,EAAIC,GAC1D,MAAOA,GAAGjX,MAAQgX,EAAGhX,QAGnBkX,EAAUxb,EAAKwS,OAAOhL,IAAYK,EAAI1B,KAAK/C,KAAO,OAAS,WAC3DqY,EAAc,EACdC,EAAW,KACRD,EAAcJ,EAAcpa,QAAQ,CACzC,GAAI6K,GAASuP,EAAcI,EAC3BC,GAAWF,EAAQzW,kBAAkB+G,EAAOxH,OAAOwH,OAAOwO,EAAiBoB,EAAU5P,IACrF2P,IAEF,MAAOC,GAET,MAAO,OAGTzb,KAAK6Z,QAAU,SAAStR,GACtB,GAGI4Q,GAHAuC,EAAU3b,EAAKob,aAAavT,EAAI1B,KAAK/C,QAAUpD,EAAKwS,OAAOpH,KAAKhH,MAChEwX,EAAU5b,EAAKob,aAAavT,EAAI1B,KAAKhD,WAAanD,EAAKwS,OAAOnH,QAAQjH,KAI1E,IAAuB,IAAnBuX,EAAQ1a,QAAmC,IAAnB2a,EAAQ3a,OAAc,CAChDmY,IACA,KAAK,GAAIG,GAAK,EAAGA,EAAK/Q,EAAQ4D,WAAWnL,OAAQsY,IAC/CH,EAAK5Q,EAAQ4D,WAAWmN,IAAOvZ,EAAKwS,OAAOwE,QAAQxO,EAAQ4D,WAAWmN,GAAKoC,EAAQ,GAAIC,EAAQ,GAAIpT,EAAQpB,mBAExG,CAIL,IAAK,GAHDtC,MACA4P,KAEKmH,EAAM,EAAGA,EAAMF,EAAQ1a,OAAQ4a,IACtC/W,EAAaA,EAAWgU,OAAO6C,EAAQE,GAAKtN,gBAE9C,KAAK,GAAIuN,GAAM,EAAGA,EAAMF,EAAQ3a,OAAQ6a,IACtCpH,EAAaA,EAAWoE,OAAO8C,EAAQE,GAAKvN,gBAG9C6K,GAAOpZ,EAAKwS,OAAO4E,gBAAgBtS,EAAY4P,EAAYlM,EAAQ4D,WAAY5D,EAAQpB,eAGzF,MAAOgS,KAIP2C,EAAa,SAASC,GAExB9C,EAAUlY,KAAKf,KAAM+b,QAErB,IAAIhc,GAAOC,KACP0J,IAEJ1J,MAAKgc,eAAiB,SAAS/T,EAASvE,GACtCgG,EAAczB,GAAWvE,GAAQA,GAGnC1D,KAAKwZ,eAAiB,SAASvR,GAC7B,MAAOyB,GAAczB,IAAYA,GAGnCjI,KAAK4Z,aAAe,SAASrR,EAASkS,EAAWrB,GAC/C,GAAIsB,IACFvO,cAGF,IAAIiN,EAAUC,SAAU,EAAM,CACxB9Q,GAA8B,gBAAZA,IACpBmS,EAAKvT,cAAgBoB,EAAQpB,cAC7BuT,EAAKnB,gBAAkBhR,EAAQ9E,SAE/BiX,EAAKvT,cAAgBiS,EAAUjS,cAC/BuT,EAAKnB,gBAAkBkB,EAGzB,KAAK,GAAInB,GAAK,EAAGA,EAAKoB,EAAKnB,gBAAgBvY,OAAQsY,IACjDoB,EAAKvO,WAAWxH,KAAK5E,EAAKyZ,eAAekB,EAAKnB,gBAAgBD,SAGhEoB,GAAKvT,cAAgBoB,GAAW6Q,EAAUjS,cAC1CuT,EAAKvO,WAAWxH,KAAKyU,EAAUK,cAGjC,OAAOiB,IAGT1a,KAAK2a,MAAQ,SAAShB,GAWpB,GATA5Z,EAAKuT,MAAMmC,MAAQ,SAASjS,EAAO5B,GACjC,GAAIrC,IACFmE,KAAMF,EACN5B,IAAKA,EAGP,OADA7B,GAAKsU,QAAQ1P,KAAKpF,GACXQ,EAAKuT,OAGVqG,EAIF,IAAK,GAFDxN,GAAapJ,EAAMqJ,cAAcuN,GAE5B5P,EAAK,EAAGA,EAAKoC,EAAWnL,OAAQ+I,IAAM,CAC7C,GAAIkS,GAAQ9P,EAAWpC,GACnBxK,EAAIoa,EAAasC,GACjBC,EAAW3c,EAAE0I,SAAW1I,EAAEmE,IAC9BnE,GAAEmE,KAAOuY,EAETlc,EAAKic,eAAeE,EAAUD,GAE1B1c,EAAE4c,YACJpc,EAAKuT,MAAM2I,GAASlc,EAAKuT,MAAM4I,GAAYnc,EAAK2Z,YAAYuC,GAAO,EAAO1c,EAAE4H,eAE5EpH,EAAK0V,MAAMlW,GAOjB,MAFAQ,GAAK+Z,uBAAuBH,GAErB5Z,EAAKuT,OAGdtT,KAAKyV,MAAQ,SAASjS,GACpBzD,EAAKuT,MAAM9P,EAAME,MAAQ3D,EAAKuT,MAAM9P,EAAMyE,SAAWzE,EAAME,MAAQ,SAAS9B,GAC1E,MAAO7B,GAAKuT,MAAMmC,MAAMjS,EAAME,KAAM9B,KAIxC5B,KAAKmb,aAAe,WAGlB,IAAK,GAFDtW,MAEKlE,EAAI,EAAGA,EAAIZ,EAAKwS,OAAOvR,OAAQL,IAAK,CAG3C,IAAK,GAFDsD,GAAMlE,EAAKwS,OAAO5R,GAClByb,GAAU,EACL5N,EAAI,EAAGA,EAAIzO,EAAKsU,QAAQrT,OAAQwN,IAAK,CAC5C,GAAI3C,GAAS9L,EAAKsU,QAAQ7F,EAC1B,IAAIvK,EAAI4H,EAAOnI,QAAUmI,EAAOjK,IAAK,CACnCwa,GAAU,CACV,QAGAA,GACFvX,EAAWF,KAAKhE,GAIpB,MAAOkE,IAGT7E,KAAK6Z,QAAU,SAAStR,EAASoR,EAAcN,GAK7C,IAAK,GAJDxU,GAAa9E,EAAKob,eAElBhC,KAEKG,EAAK,EAAGA,EAAK/Q,EAAQ4D,WAAWnL,OAAQsY,IAAM,CACrD,GAAIlY,GAAYmH,EAAQ4D,WAAWmN,GAC/B+C,EAAUhU,EAAYpG,gBAAgBoX,KAAU,EAAO9Q,EAAQpB,gBAAkBwS,GAAgBA,EAAavY,GAAauY,EAAavY,GAAW+F,cAAgB1C,QAAa8D,EAAQpB,cAE5LgS,GAAK/X,GAAaib,EAAQjb,EAAWyD,GAAc,MAAO9E,EAAKwS,OAAQ1N,EAAY,MAGrF,MAAOsU,IAIX1Z,GAAOD,QAAU,SAAS+S,EAAQoH,GAChC,MAAI5W,GAAMe,QAAQyO,GACT,GAAIuJ,GAAWvJ,GAAQoI,MAAMhB,GAG7B,SAASiB,GACd,MAAO,IAAIR,GAAW7H,GAAQoI,MAAMC,OAM1C7M,oBAAqB,EACrBC,YAAa,EACb5H,cAAe,KAEjBkW,IAAK,SAASpb,EAASzB,EAAQD,GAE7BC,EAAOD,QAAU,WACf,GAAI+c,KAEJvc,MAAKwc,IAAM,SAASC,EAAKC,GACvBH,EAAOE,GAAOC,GAGhB1c,KAAKiS,IAAM,SAASwK,GAClB,MAAOF,GAAOE,UAKpBE,IAAK,SAASzb,EAASzB,EAAQD,GAE7BC,EAAOD,QAAU,WAKf,QAASod,KACP,MAAwB,cAAjBC,EAJT,GAAIA,GAAe,OACf5T,IAMJA,GAAagH,QACX6M,IAAK,UACLC,KAAM,UACNC,MAAO,UACPC,OAAQ,UACRC,OAAQ,UACRC,KAAM,UACNC,MAAO,UACPC,MAAO,WAGTpU,EAAawB,QAAU,SAASQ,GAK9B,MAJIA,KACF4R,EAAe5T,EAAaqU,cAAcrS,IAGrC4R,GAGT5T,EAAaqU,cAAgB,SAASC,GAEpC,MADAA,IAAaA,GAAa,IAAInU,WAAWoU,OACpCvU,EAAagH,OAAOsN,IAA4B,cAAdA,EAG9BA,EAFA,QAMXtU,EAAawU,gBAAkB,WAC7B,OACEC,UAAW,qBAAuBb,EAClCc,MAAO,OAASf,IAAgB,SAAW,MAI/C3T,EAAa2U,iBAAmB,WAC9B,OACEC,YAAa,WAAajB,IAAgB,0BAA4B,IACtEkB,UAAW,WAAalB,IAAgB,0BAA4B,IACpEmB,UAAWnB,IAAgB,0BAA4B,KAI3D3T,EAAa+U,iBAAmB,WAC9B,OACEN,UAAW,OAASb,EAAe,oBAIvC5T,EAAagV,eAAiB,WAC5B,OACEN,MAAOf,IAAgB,wBAA0B,cAIrD3T,EAAaiV,iBAAmB,SAAShW,GACvC,GAAIiW,IACFC,QAAS,4BAA8BlW,EAAU,UAAY,UAAY,QAAU2U,EACnFwB,OAAQ,aACRC,QAAS,GACTzN,OAAQ,oBACRoH,MAAO,GACPsG,KAAM,kBAWR,OARI3B,OACFuB,EAAQC,SAAW,SACnBD,EAAQE,QAAU,gBAClBF,EAAQG,QAAU,gBAClBH,EAAQtN,QAAU,gBAClBsN,EAAQlG,MAAQ,cAChBkG,EAAQI,MAAQ,eAEXJ,EAGT,IAAIpb,GAAQkG,EAAalG,OACvByb,SAAU,SAASC,GACjB,GAAIlQ,GAAS,4CAA4CmQ,KAAKD,EAC9D,OAAOlQ,IACLlO,EAAGse,SAASpQ,EAAO,GAAI,IACvB3O,EAAG+e,SAASpQ,EAAO,GAAI,IACvBtI,EAAG0Y,SAASpQ,EAAO,GAAI,KACrB,MAENqQ,UAAW,SAASC,GAClB,GAAIC,GAAUD,EAAKE,MAAM,iEACzB,IAAID,EAAS,CACX,GAAIE,GAAQC,WAAWH,EAAQ,GAC/B,OAAO,IAAM/b,EAAMmc,mBAAmBJ,EAAQ,GAAIE,GAASjc,EAAMmc,mBAAmBJ,EAAQ,GAAIE,GAASjc,EAAMmc,mBAAmBJ,EAAQ,GAAIE,GAEhJ,MAAO,OAETG,WAAY,SAASN,GACnB,GAAIC,GAAUD,EAAKE,MAAM,iEACzB,IAAID,EAAS,CACX,GAAIE,GAAQC,WAAWH,EAAQ,GAC/B,OAAO,IAAM/b,EAAMmc,mBAAmB,EAAGF,GAASjc,EAAMmc,mBAAmBJ,EAAQ,GAAI,GAAK/b,EAAMmc,mBAAmBJ,EAAQ,GAAI,GAAK/b,EAAMmc,mBAAmBJ,EAAQ,GAAI,GAE7K,MAAO,OAETI,mBAAoB,SAASnZ,EAAOiZ,GAClC,OAAQvc,KAAK2c,MAAMJ,EAAQL,SAAS5Y,GAAuB,KAAb,EAAIiZ,IAAgB,KAAK5V,SAAS,IAAIiW,OAAO,EAAG,IAEhGlP,aAAc,SAASmP,EAAON,GAE5B,MADAM,GAAQvc,EAAMyb,SAASc,GAChB,IAAMvc,EAAMmc,mBAAmBI,EAAMjf,EAAG2e,GAASjc,EAAMmc,mBAAmBI,EAAM1f,EAAGof,GAASjc,EAAMmc,mBAAmBI,EAAMrZ,EAAG+Y,IAIzI,OAAO/V,WAIXsW,IAAK,SAASre,EAASzB,EAAQD,GAE7B,GAAIoI,GAAM1G,EAAQ,aACdwN,EAAYxN,EAAQ,kBAExBzB,GAAOD,QAAU,SAASggB,GAExB,GAAIzf,GAAOC,IAGXA,MAAK4H,IAAM4X,EAGXxf,KAAKqM,WAELrM,KAAKsL,gBAAkB,WACrB,MAAqD,YAA9CvL,EAAK6H,IAAIvE,MAAM0B,OAAOmF,qBAAqCnK,EAAK6H,IAAItE,OAASsE,EAAI1B,KAAKhD,SAAyD,SAA9CnD,EAAK6H,IAAIvE,MAAM0B,OAAOmF,qBAAkCnK,EAAK6H,IAAItE,OAASsE,EAAI1B,KAAK/C,KAAOpD,EAAK6H,IAAIvE,MAAM0B,OAAOuG,gBAAkB,GAG5OtL,KAAKyf,kBAAoB,WACvB,MAAO1f,GAAKuL,kBAAoB,GAGlCtL,KAAK0f,qBAAuB,SAASlc,EAAOoK,GAK1C,IAAK,GAFD+R,GAFAC,KACAC,GAAc,EAGTlf,EAAI,EAAGA,EAAIX,KAAKqM,QAAQrL,OAAQL,IACvC,IAAKgf,EAAS,EAAGA,EAAS3f,KAAKqM,QAAQ1L,GAAGK,OAAQ2e,IAAU,CAC1D,GAAI9O,GAAS7Q,KAAKqM,QAAQ1L,GAAGgf,EACzB9O,GAAOvN,OAASoL,EAAUoC,WAAWgP,WAAuB,MAATtc,GAAiBqN,EAAO3M,IAAIV,MAAME,MAAQF,EAAME,OACrGkc,EAASjb,KAAKkM,GACdgP,EAAcA,GAAehP,EAAOkP,UAS1C,GAJiBtb,SAAbmJ,IACFiS,GAAejS,GAGbgS,EAAS5e,OAAS,EAAG,CACvB,IAAK2e,EAAS,EAAGA,EAASC,EAAS5e,OAAQ2e,IACrCE,EACFD,EAASD,GAAQK,WAEjBJ,EAASD,GAAQM,QAGrB,QAAO,EAGT,OAAO,MAKXjS,YAAa,EACbuD,kBAAmB,KAErB2O,IAAK,SAAShf,EAASzB,EAAQD,GAE7B,GAAIoI,GAAM1G,EAAQ,aACdif,EAAQjf,EAAQ,gBAChBwN,EAAYxN,EAAQ,kBAExBzB,GAAOD,QAAU,SAAS4gB,GAkCxB,QAASC,KAIP,QAASC,GAAaC,GAChBA,GAAWA,EAAQrc,IAAIV,MAAMyD,SAASiB,SACxCsY,EAAa7b,KAAK4b,EAAQE,gBAJ9B,GAAID,KAQJ,IAAIzgB,EAAKsM,QAAQrL,OAAS,EAAG,CAE3B,GAAI0f,GAAQ3gB,EAAKsM,QAAQtM,EAAKsM,QAAQrL,OAAS,GAC3C6P,EAAS6P,EAAM,EAEnB,IAAI7P,EAAQ,CAIV,IAAK,GAHD8P,GACFC,EAAU/P,EAAO7K,OAEVrF,EAAI,EAAGA,EAAI+f,EAAM1f,OAAQL,IAAK,CAKrC,GAJAkQ,EAAS6P,EAAM/f,GACfggB,EAAa9P,EAAO7K,OAGhB2a,GAAcC,EAAS,CAEzB,GADAN,EAAaM,GACK,MAAdD,EAKF,IAFA,GAAIE,GAAWF,EAAW3a,OACtB8a,EAAeF,EAAUA,EAAQ5a,OAAS,KACvC6a,GAAYC,GAAgC,MAAhBA,GACjCR,EAAaQ,GACbD,EAAWA,EAAWA,EAAS7a,OAAS,KACxC8a,EAAeA,EAAeA,EAAa9a,OAAS,IAIxD4a,GAAUD,EAMZ,GAHAH,EAAa7b,KAAK+b,EAAM/f,IAGpBA,IAAM+f,EAAM1f,OAAS,EACvB,KAAkB,MAAX4f,GACLN,EAAaM,GACbA,EAAUA,EAAQ5a,OAKpBjG,EAAK6H,IAAIvE,MAAM0B,OAAOoF,WAAW1B,gBAAkB1I,EAAK6H,IAAI/D,gBAAkB,GAEhF2c,EAAa7b,KAAK5E,EAAKsM,QAAQ,GAAGtM,EAAKsM,QAAQ,GAAGrL,OAAS,KAMjE,GAAIjB,EAAK0f,oBAAqB,CAC5B1f,EAAKygB,eACL,KAAK,GAAIO,GAAY,EAAGA,EAAYP,EAAaxf,OAAQ+f,IACvD,IAAK,GAAIC,GAAiB,EAAGA,EAAiBjhB,EAAKuL,kBAAmB0V,IACpEjhB,EAAKygB,aAAa7b,KAAK,GAAI+J,GAAUuS,WAAWlhB,EAAK6H,IAAIvE,MAAM0B,OAAOG,WAAW8b,GAAiBR,EAAaO,IAGnHhhB,GAAKsM,QAAQ1H,KAAK5E,EAAKygB,kBAEvBzgB,GAAKygB,aAAeA,EAOxB,QAASU,GAAU7c,EAAOgI,GAOxB,IAAK,GALDqU,GAAQrU,EAAQA,EAAQrL,OAAS,GACjCwE,EAAUzF,EAAK6H,IAAIzD,KAAKE,QAAUA,GAAS,MAAQgI,EAAQtM,EAAK6H,IAAIzD,KAAKE,MAAQA,EAAQ,GAAGwH,OAAO,SAAS6J,GAC9G,MAAOA,GAAEpS,OAASoL,EAAUoC,WAAWgP,YAGhCqB,EAAK,EAAGA,EAAK3b,EAAQxE,OAAQmgB,IAKpC,IAAK,GAHDnb,GAASR,EAAQ2b,GACjBC,EAAsB,MAAVpb,EAAiBjG,EAAK6H,IAAIzD,KAAO6B,EAAO9B,IAE/Cmd,EAAK,EAAGA,EAAKD,EAAU1c,OAAO1D,OAAQqgB,IAAM,CAEnD,GAGIZ,GAHAlc,EAAW6c,EAAU1c,OAAO2c,GAC5BzL,EAASwL,EAAU5c,WAAWD,EAIhCkc,IADG7K,EAAOvH,QAAUuH,EAAOpS,MAAMyD,SAASiB,QACzB,GAAIwG,GAAUmC,OAAOjJ,EAAI1B,KAAKhD,QAASwL,EAAUoC,WAAWgP,UAAWlK,EAAQ5P,EAAQjG,EAAKuL,mBAE5F,IAGnB,IAAIuF,GAAS,GAAInC,GAAUmC,OAAOjJ,EAAI1B,KAAKhD,QAAS,KAAM0S,EAAQ5P,EAAQjG,EAAKuL,kBAAmBmV,EAClGC,GAAM/b,KAAKkM,IAEN+E,EAAOvH,QAAUuH,EAAOpS,MAAMyD,SAASiB,SAC1CwY,EAAM/b,KAAK8b,IAxInB,GAAI1gB,GAAOC,IAEXmgB,GAAMpf,KAAKhB,EAAMqgB,GAEjBpgB,KAAKwgB,aAAe,KAEpBxgB,KAAKshB,MAAQ,WAGX,GAFAvhB,EAAKsM,WAEW,MAAZtM,EAAK6H,IAAa,CAEpB,GAAI7H,EAAK6H,IAAIzD,KAAKO,OAAO1D,OAAS,GAAKjB,EAAK6H,IAAIvE,MAAM0B,OAAOoF,WAAW1B,eAAgB,CACtF,IAAK,GAAIpE,GAAQtE,EAAK6H,IAAIzD,KAAKE,MAAOA,EAAQ,EAAGA,IAC/CtE,EAAKsM,QAAQ1H,SACbuc,EAAU7c,EAAOtE,EAAKsM,QAGpBtM,GAAK6H,IAAIvE,MAAM0B,OAAOoF,WAAW1B,iBAElC1I,EAAKsM,QAAQ,GAAKtM,EAAKsM,QAAQ,QAAU1H,KAAK,GAAI+J,GAAUmC,OAAOjJ,EAAI1B,KAAKhD,QAASwL,EAAUoC,WAAWyQ,YAAaxhB,EAAK6H,IAAIzD,KAAM,KAAMpE,EAAKuL,oBAI1H,IAAxBvL,EAAKsM,QAAQrL,QACfjB,EAAKsM,QAAQ1H,MAAM,GAAI+J,GAAUmC,OAAOjJ,EAAI1B,KAAKhD,QAASwL,EAAUoC,WAAW0Q,MAAOzhB,EAAK6H,IAAIzD,KAAM,KAAMpE,EAAKuL,qBAIlH+U,MA6EJrgB,KAAKshB,WAuCPtT,YAAa,EACbyT,eAAgB,GAChBlQ,kBAAmB,KAErBmQ,IAAK,SAASxgB,EAASzB,EAAQD,GA+D7B,QAASmiB,GAASpZ,GAEhBvI,KAAKuH,QAAUgB,EAAQhB,QAEvBvH,KAAKsD,KAAOiF,EAAQjF,KAEpBtD,KAAK4hB,SAAWrZ,EAAQqZ,SAExB5hB,KAAK+F,MAAQwC,EAAQxC,MAErB/F,KAAK+f,UAAW,EAEhB/f,KAAK6hB,SAAWtZ,EAAQsZ,SAExB7hB,KAAKgR,MAAQzI,EAAQyI,OAAS,WAC5B,MAAO,IAGThR,KAAKiR,MAAQ1I,EAAQ0I,OAAS,WAC5B,MAAO,IAGTjR,KAAKkI,QAAUK,EAAQuZ,WAAa,WAClC,OAAO,GAGT9hB,KAAKyc,IAAMzc,KAAKuH,QAAUvH,KAAKsD,KAAOtD,KAAK+F,MAC3C/F,KAAK+hB,SAAW,WACd,MAAOrF,GAAMzK,IAAIjS,KAAKyc,MAExBzc,KAAKgiB,SAAW,SAASpU,GACvB8O,EAAMF,IAAIxc,KAAKyc,IAAK7O,IA5FxB,GAAIhG,GAAM1G,EAAQ,aAChBwb,EAAQ,IAAIxb,EAAQ,gBAElB4P,EAAarR,EAAOD,QAAQsR,YAC9BmR,MAAO,EACPlR,YAAa,EACbmR,WAAY,EACZC,aAAc,EACdX,MAAO,EACPY,QAAS,EACTtC,UAAW,EACXyB,YAAa,EACbc,eAAgB,SAASC,EAAY/a,GACnC,GAAIsa,GAAWta,IAAYK,EAAI1B,KAAK/C,KAAO,aAAeoE,IAAYK,EAAI1B,KAAKhD,QAAU,aAAe,EACxG,QAAQof,GACN,IAAKxR,GAAWmR,MAChB,IAAKnR,GAAWqR,aACdN,EAAW,OACX,MACF,KAAK/Q,GAAW0Q,MACdK,EAAW,UAAYA,CACvB,MACF,KAAK/Q,GAAWsR,QACdP,EAAW,UAAYA,CACvB,MACF,KAAK/Q,GAAWgP,UACd+B,EAAW,oBAAsBA,CACjC,MACF,KAAK/Q,GAAWyQ,YACdM,EAAW,oBAAsBA;CAIrC,MAAOA,IAETU,aAAc,SAASC,EAAeC,GACpC,GAAIZ,GAAW,EACf,QAAQW,GACN,IAAK1R,GAAWyQ,YACdM,EAAW,SACX,MACF,KAAK/Q,GAAWgP,UAEZ+B,EADEY,IAAkB3R,EAAWyQ,YACpB,UAEA,SAEb,MACF,SAEIM,EADEY,IAAkB3R,EAAWyQ,YACpB,UACFkB,IAAkB3R,EAAWgP,UAC3B,UAEA,GAGjB,MAAO+B,IAuCXpiB,GAAOD,QAAQqR,OAAS,SAAStJ,EAAS+a,EAAYpe,EAAK8B,EAAQ0c,EAAiBjC,GAmElF,QAASkC,KACP,GAAI5iB,EAAKuD,OAASwN,EAAWgP,UAAW,CAEtC,IADA,GAAI8C,GAAU7iB,EAAKiG,OACD,MAAX4c,GAAiB,CACtB,GAAIA,EAAQnC,iBAAmBmC,EAAQnC,eAAeV,SACpD,OAAO,CAET6C,GAAUA,EAAQ5c,OAEpB,OAAO,EAGP,GAAI6c,GAAa9iB,EAAKmE,IAAI4B,QAAU/F,EAAKmE,IAAImK,SAAWtO,EAAKmE,IAAIV,MAAMyD,SAASiB,SAAWnI,EAAK0gB,eAAeV,QAC/G,KAAK8C,EACH,OAAO,CAIT,KADA,GAAIC,GAAM/iB,EAAKiG,OACD,MAAP8c,KAAiBA,EAAI5e,IAAIV,MAAMyD,SAASiB,SAAiC,MAAtB4a,EAAIrC,gBAA0BqC,EAAIrC,eAAeV,WACzG+C,EAAMA,EAAI9c,MAEZ,OAAc,OAAP8c,GAAqC,MAAtBA,EAAIrC,eAAyBoC,EAAaC,EAAIrC,eAAeV,SAIvF,QAASgD,GAASC,GAChB,GACIC,GADAC,EAAQ,EAERC,GAAS,CAEb,IAAIC,GAAaJ,GAAoBjjB,EAAKmI,UAAW,CACnD,GAAKnI,EAAKmE,IAAImK,OAoBZ,MAAOqU,EAlBP,IAAI3iB,EAAKsjB,WAAWriB,OAAS,EAC3B,IAAK,GAAIL,GAAI,EAAGA,EAAIZ,EAAKsjB,WAAWriB,OAAQL,IAAK,CAC/C,GAAI2iB,GAAYvjB,EAAKsjB,WAAW1iB,EAE3B2iB,GAAUpf,IAAImK,OAOjB6U,GAASR,GANTO,EAAUG,EAAYE,EAAUrS,QAAUqS,EAAUtS,QACpDkS,GAASD,EACC,IAANtiB,GAAuB,IAAZsiB,IACbE,GAAS,QAOfD,IAASR,CAKb,OAAOQ,IAASC,EAAS,EAAI,GAE/B,MAAOD,GAxHT,GAEIlS,GACAC,EACAlL,EAJAhG,EAAOC,KAMPojB,EAAY7b,IAAYK,EAAI1B,KAAK/C,IAGrC,QAFAmf,EAAaA,IAA6B,IAAdpe,EAAIG,MAAcyM,EAAW0Q,MAAQ1Q,EAAWsR,UAG1E,IAAKtR,GAAWyQ,YACdxb,EAAQ,cACRiL,EAAQoS,EAAYlf,EAAIG,MAAQ,GAAK,EAAIqe,EACzCzR,EAAQmS,EAAYV,EAAkBxe,EAAIG,MAAQ,GAAK,CACvD,MACF,KAAKyM,GAAWgP,UACd/Z,EAAQ7B,EAAI6B,MACZiL,EAAQoS,EAAYlf,EAAIG,MAAQqe,EAChCzR,EAAQmS,EAAYV,EAAkBxe,EAAIG,KAC1C,MACF,SACE0B,EAAQ7B,EAAI6B,MACZiL,EAAQoS,EAAY,EAAI,KACxBnS,EAAQmS,EAAY,KAAO,EAI/BzB,EAAS5gB,KAAKf,MACZuH,QAASA,EACTjE,KAAMgf,EACNV,SAAUwB,EAAY,2BAA6B,8BACnDrd,MAAOA,EACP8b,SAAU/Q,EAAWuR,eAAeC,EAAY/a,GAChDyJ,MAAgB,MAATA,EAAgB,WACrB,MAAOA,IACL+R,EACJ9R,MAAgB,MAATA,EAAgB,WACrB,MAAOA,IACL8R,EACJjB,UAAWa,IAGb3iB,KAAKygB,eAAiBA,EACtBzgB,KAAKgG,OAASA,EACdhG,KAAKqjB,cACLrjB,KAAKkE,IAAMA,EACXlE,KAAK+f,SAAW/f,KAAK+hB,WAAa/hB,KAAK+hB,WAAWhC,SAAWuC,IAAexR,EAAWgP,YAAc5b,EAAIV,MAAMyD,SAASmB,UAExHpI,KAAKigB,OAAS,WACZlgB,EAAKggB,UAAW,EAChB/f,KAAKgiB,UACHjC,SAAUhgB,EAAKggB,YAGnB/f,KAAKggB,SAAW,WACdjgB,EAAKggB,UAAW,EAChB/f,KAAKgiB,UACHjC,SAAUhgB,EAAKggB,YAIL,MAAV/Z,GACFA,EAAOqd,WAAW1e,KAAK3E,OA8D3BP,EAAOD,QAAQyhB,WAAa,SAAS7f,EAAW4E,GAE9C2b,EAAS5gB,KAAKf,MACZuH,QAAS,KACTjE,KAAMwN,EAAWC,YACjB6Q,SAAU,2BACV7b,MAAO3E,EACPygB,SAAU/Q,EAAWuR,eAAerc,EAAO1C,KAAM0C,EAAOuB,SACxDua,UAAW9b,EAAOkC,UAGpBlI,KAAKgG,OAASA,GAGhBvG,EAAOD,QAAQ6R,SAAW,SAAShO,EAAOye,EAAWyB,EAASC,GAE5DxjB,KAAKyjB,aAAeF,EAAQjgB,OAASwN,EAAWC,YAAcwS,EAAQvd,OAAO9B,IAAMqf,EAAQrf,IAC3FlE,KAAK0jB,gBAAkBF,EAAQlgB,OAASwN,EAAWC,YAAcyS,EAAQxd,OAAO9B,IAAMsf,EAAQtf,IAC9FlE,KAAK2jB,QAAUJ,EAAQjgB,OAASwN,EAAWC,YAAcwS,EAAQvd,OAAO1C,KAAOigB,EAAQjgB,KACvFtD,KAAK4jB,QAAUJ,EAAQlgB,OAASwN,EAAWC,YAAcyS,EAAQxd,OAAO1C,KAAOkgB,EAAQlgB,KAEvFtD,KAAKoB,UAAYiC,EAAM0B,OAAOuG,gBAAkB,EAAyC,SAArCjI,EAAM0B,OAAOmF,oBAAiCqZ,EAAQxd,MAAQyd,EAAQzd,MAAQ1C,EAAM0B,OAAOG,WAAW,GAE1Jyc,EAAS5gB,KAAKf,MACZuH,QAAS,KACTjE,KAAMwN,EAAWoR,WACjBN,SAAU,0BACV7b,MAAO1C,EAAM0T,QAAQ/W,KAAKoB,UAAYpB,KAAKoB,UAAUsC,KAAO,KAAM1D,KAAKyjB,aAAczjB,KAAK0jB,iBAC1F7B,SAAU,QAAU/Q,EAAWyR,aAAaviB,KAAK2jB,QAAS3jB,KAAK4jB,SAC/D9B,UAAWA,KAIfriB,EAAOD,QAAQqkB,WAAa,SAASrgB,GAEnCme,EAAS5gB,KAAKf,MACZuH,QAAS,KACTjE,KAAMwN,EAAWqR,aACjBP,SAAU,4BACV7b,MAAOvC,EACPqe,SAAU/Q,EAAWuR,eAAevR,EAAWqR,iBAInD1iB,EAAOD,QAAQskB,UAAY,SAAS9S,EAAOC,GAEzC0Q,EAAS5gB,KAAKf,MACZuH,QAAS,KACTjE,KAAMwN,EAAWmR,MACjBL,SAAU,sBACV7b,MAAO,KACP8b,SAAU/Q,EAAWuR,eAAevR,EAAWmR,OAC/CjR,MAAO,WACL,MAAOA,IAETC,MAAO,WACL,MAAOA,SAMbjD,YAAa,EACb+V,cAAe,KAEjBC,IAAK,SAAS9iB,EAASzB,EAAQD,GAE7B,GAAIykB,GAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SAC3Erc,EAAM1G,EAAQ,aACdmC,EAAQnC,EAAQ,eAChBwN,EAAYxN,EAAQ,mBACpBgjB,EAAShjB,EAAQ,iBACjBijB,EAASjjB,EAAQ,iBACjBkjB,EAASljB,EAAQ,gCACjBmjB,EAAanjB,EAAQ,oCACrBojB,EAAapjB,EAAQ,oCACrBqjB,EAAOrjB,EAAQ,6BAEjBzB,GAAOD,QAAU,SAASuF,GA+IxB,QAASyf,KACPzkB,EAAKsD,MAAMoV,UAAUpV,EAAM8Q,cAAesQ,GAC1C1kB,EAAKsD,MAAMoV,UAAUpV,EAAM4S,mBAAoBwO,GAC/C1kB,EAAKsD,MAAMoV,UAAUpV,EAAM+S,qBAAsBqO,GAEjDC,IAGF,QAASA,KA6BP,QAASC,GAAkBC,EAAYC,GACrC,MAAO,YACL,MAAOD,MAAgBC,KA5B3B9kB,EAAKoL,KAAO,GAAI+Y,GAAOnkB,EAAKsD,MAAM8H,MAClCpL,EAAKqL,QAAU,GAAI+Y,GAAOpkB,EAAKsD,MAAM+H,QAErC,IAAI0Z,GAAc/kB,EAAKoL,KAAKkB,QACxB0Y,EAAqBhlB,EAAKqL,QAAQoV,YAGtCzgB,GAAKuQ,QACHG,YACErG,OAAQrK,EAAKsD,MAAM8H,KAAK1H,OAAOzC,QAAU,IAAgD,SAA1CjB,EAAKsD,MAAM0B,OAAOmF,qBAAkCnK,EAAKsD,MAAM0B,OAAOuG,gBAAkB,EAAI,EAAI,GAC/IjB,OAAQya,EAAY9jB,QAEtB0P,eACEtG,MAAOrK,EAAKqL,QAAQoV,aAAaxf,OACjCqJ,QAAStK,EAAKsD,MAAM+H,QAAQ3H,OAAOzC,QAAU,IAAgD,YAA1CjB,EAAKsD,MAAM0B,OAAOmF,qBAAqCnK,EAAKsD,MAAM0B,OAAOuG,gBAAkB,EAAI,EAAI,KAI1JvL,EAAKuQ,OAAOC,YACVnG,MAAOrK,EAAKuQ,OAAOG,WAAWrG,MAAQrK,EAAKuQ,OAAOI,cAActG,MAChEC,OAAQtK,EAAKuQ,OAAOG,WAAWpG,OAAStK,EAAKuQ,OAAOI,cAAcrG,OAGpE,IACI2a,GADA5T,IAQJ,IAAI0T,EAAY9jB,OAAS,EACvB,IAAK,GAAI4T,GAAK,EAAGA,EAAKkQ,EAAY9jB,OAAQ4T,IAAM,CAC9C,GAAIqQ,GAAgBH,EAAYlQ,GAC5BsQ,EAAgBD,EAAcA,EAAcjkB,OAAS,EAEzDgkB,KACA,KAAK,GAAIG,GAAiB,EAAGA,EAAiBJ,EAAmB/jB,OAAQmkB,IAAkB,CACzF,GAAIC,GAAmBL,EAAmBI,GACtCrD,EAAY6C,EAAkBO,EAAchd,QAASkd,EAAiBld,QAC1E8c,GAAIG,GAAkB,GAAIzW,GAAU2C,SAAStR,EAAKsD,MAAOye,EAAWoD,EAAeE,GAErFhU,EAASzM,KAAKqgB,GAGlBjlB,EAAKqR,SAAWA,EAGlB,QAASqT,KACPC,IACA3kB,EAAKslB,SA1MP,GACIC,GACAC,EAFAxlB,EAAOC,KAGPqe,EAAS+F,EAAOoB,QAGpBxlB,MAAKqD,MAAQ,GAAIA,GAAM0B,GAGvB/E,KAAKmL,KAAO,KAEZnL,KAAKoL,QAAU,KAGfpL,KAAKoR,YAELpR,KAAKsQ,QACHG,YAEErG,MAAO,KAEPC,OAAQ,MAEVqG,eAEEtG,MAAO,KAEPC,OAAQ,MAEVkG,YAEEnG,MAAO,KAEPC,OAAQ,OAIZrK,KAAKylB,UAAY,SAASC,GACxBA,EAAKzF,SACLjgB,KAAKqlB,UAGPrlB,KAAK2lB,YAAc,SAASD,GAC1BA,EAAKjF,eAAeT,WACpBhgB,KAAKqlB,UAGPrlB,KAAKqF,KAAO,SAASkC,EAAS/D,GAC5BzD,EAAKsD,MAAMgC,KAAKkC,EAAS/D,IAG3BxD,KAAKmW,YAAc,SAAS9K,GAC1BtL,EAAKsD,MAAM8S,YAAY9K,IAGzBrL,KAAKkW,YAAc,SAASrM,EAAW+H,EAAUC,EAAMC,EAAaC,GAClEhS,EAAKsD,MAAM6S,YAAYrM,EAAW+H,EAAUC,EAAMC,EAAaC,IAGjE/R,KAAK8M,UAAY,SAAStJ,EAAOoiB,EAAYC,EAAY5Y,GACvDlN,EAAKsD,MAAMyJ,UAAUtJ,EAAOoiB,EAAYC,EAAY5Y,IAGtDjN,KAAK0f,qBAAuB,SAASnY,EAAS/D,EAAOoK,GACnD,GAAIkY,GAAcve,IAAYK,EAAI1B,KAAK/C,KAAOpD,EAAKoL,KAAO5D,IAAYK,EAAI1B,KAAKhD,QAAUnD,EAAKqL,QAAU,IAEpG0a,IAAeA,EAAYpG,qBAAqBlc,EAAOoK,IACzD7N,EAAKslB,UAITrlB,KAAK0N,gBAAkB,SAASnG,GAC9BxH,EAAKsD,MAAMqK,gBAAgBnG,IAG7BvH,KAAKwN,oBAAsB,SAASjG,GAClC,MAAOxH,GAAKsD,MAAMmK,oBAAoBjG,IAGxCvH,KAAK6N,iBAAmB,SAAStG,GAC/BxH,EAAKsD,MAAMwK,iBAAiBtG,IAG9BvH,KAAK8N,oBAAsB,SAASvG,GAClC,MAAOxH,GAAKsD,MAAMyK,oBAAoBvG,IAGxCvH,KAAK+lB,YAAc,SAAS9a,GAC1Bsa,EAAeQ,YAAY9a,IAG7BjL,KAAKqlB,OAAS,SAASW,GAErB,GADAV,EAAgBU,GAAWV,EACR,CACjB,GAAIW,GAAoBC,MAAMC,cAAcpmB,EAAKsD,MAAM0B,OAAOyF,UAAUzB,QAAUsb,EAAaC,GAC3F8B,EAAaH,GACfnX,YAAa/O,GAGfwlB,GAAiBtB,EAASoB,OAAOe,EAAYd,KAIjDtlB,KAAKqmB,UAAY,SAAShV,EAAUiV,GAClC,GAAIjV,EAAU,CACZ,GAOI4G,GAPAxD,EAAapD,EAASqS,gBAAgBpV,gBACtCjD,EAAOgG,EAASoS,aAAanV,gBAAgBzC,OAAO,SAASyF,GAC/D,MAAOmD,GAAW5J,QAAQyG,IAAU,IACnC1L,IAAI,SAAS0L,GACd,MAAOvR,GAAKsD,MAAMO,mBAAmB0N,IAKrC2G,GADE5G,EAASsS,UAAYjV,EAAUoC,WAAWyQ,aAAelQ,EAASuS,UAAYlV,EAAUoC,WAAWyQ,YAC7F,cAEJlQ,EAASsS,UAAYjV,EAAUoC,WAAWyQ,YACpClQ,EAASqS,gBAAgB3d,MAAQ,gBAChCsL,EAASuS,UAAYlV,EAAUoC,WAAWyQ,YAC3ClQ,EAASoS,aAAa1d,MAAQ,gBAE9BsL,EAASoS,aAAa1d,MAAQ,IAAMsL,EAASqS,gBAAgB3d,MAIzEsY,EAAOkI,MACLtO,MAAOA,EACPuO,MACEljB,KAAMihB,EACNkC,OACEpa,QAAStM,EAAKsD,MAAM0B,OAAOkH,6BAC3BZ,KAAMA,EACNd,MAAOxK,EAAKsD,MAAM0B,OAAOwF,QAG7BA,MAAOxK,EAAKsD,MAAM0B,OAAOwF,MACzBmc,MAAOnB,EAAeoB,cAqE5BnC,OAIFxW,YAAa,EACbwF,cAAe,EACfoT,gBAAiB,GACjBrV,kBAAmB,GACnBsV,gBAAiB,GACjBC,+BAAgC,GAChCC,6BAA8B,GAC9BC,mCAAoC,GACpCC,mCAAoC,GACpCC,YAAa,cAEfC,IAAK,SAASjmB,EAASzB,EAAQD,GAE7B,GAAIoI,GAAM1G,EAAQ,aACdif,EAAQjf,EAAQ,gBAChBwN,EAAYxN,EAAQ,kBAExBzB,GAAOD,QAAU,SAAS4nB,GA0CxB,QAASC,GAAe3G,EAAO1a,GAC7B,GAAIjG,EAAK0f,oBAEP,IAAK,GADD6H,GAAiB5G,EAAMA,EAAM1f,OAAS,GACjCggB,EAAiB,EAAGA,EAAiBjhB,EAAKuL,kBAAmB0V,IACpEsG,EAAe3iB,KAAK,GAAI+J,GAAUuS,WAAWlhB,EAAK6H,IAAIvE,MAAM0B,OAAOG,WAAW8b,GAAiBhb,IAC3Fgb,EAAiBjhB,EAAKuL,kBAAoB,GAC5CoV,EAAM/b,KAAK2iB,MAOnB,QAASpG,GAAUR,EAAO6G,GACxB,GAAIA,EAAU7iB,OAAO1D,OAAS,EAM5B,IAAK,GAJDwmB,GAAgB9G,EAAM1f,OAAS,EAC/BsmB,EAAiB5G,EAAM8G,GACvBxhB,EAASshB,EAAetmB,OAAS,EAAIsmB,EAAeA,EAAetmB,OAAS,GAAK,KAE5EymB,EAAW,EAAGA,EAAWF,EAAU7iB,OAAO1D,OAAQymB,IAAY,CACrE,GAGIC,GAHAnjB,EAAWgjB,EAAU7iB,OAAO+iB,GAC5B7R,EAAS2R,EAAU/iB,WAAWD,EAIhCmjB,IADG9R,EAAOvH,QAAUuH,EAAOpS,MAAMyD,SAASiB,QACzB,GAAIwG,GAAUmC,OAAOjJ,EAAI1B,KAAK/C,KAAMuL,EAAUoC,WAAWgP,UAAWlK,EAAQ5P,EAAQjG,EAAKuL,mBAEzF,IAGnB,IAAIqc,GAAY,GAAIjZ,GAAUmC,OAAOjJ,EAAI1B,KAAK/C,KAAM,KAAMyS,EAAQ5P,EAAQjG,EAAKuL,kBAAmBoc,EAE9FD,GAAW,GACb/G,EAAM/b,KAAK2iB,MAGbA,EAAe3iB,KAAKgjB,GAEf/R,EAAOvH,OAUVgZ,EAAe3G,EAAOiH,IATtBzG,EAAUR,EAAO9K,GACbA,EAAOpS,MAAMyD,SAASiB,UACxBwY,EAAM/b,MAAM+iB,IAGZL,EAAe3G,EAAOgH,MArFhC,GAAI3nB,GAAOC,IAEXmgB,GAAMpf,KAAKhB,EAAMqnB,GAEjBpnB,KAAKshB,MAAQ,WACX,GACIsG,GADAvb,IAGJ,IAAgB,MAAZtM,EAAK6H,IAAa,CACpB,IAAI7H,EAAK6H,IAAIzD,KAAKO,OAAO1D,OAAS,GAAKjB,EAAK6H,IAAIvE,MAAM0B,OAAOoF,WAAW3B,eACtE6D,EAAQ1H,SAGRuc,EAAU7U,EAAStM,EAAK6H,IAAIzD,MAExBpE,EAAK6H,IAAIvE,MAAM0B,OAAOoF,WAAW3B,aAAa,CAChD,GAAIqf,GAAUxb,EAAQA,EAAQrL,OAAS,EACvC4mB,GAAmB,GAAIlZ,GAAUmC,OAAOjJ,EAAI1B,KAAK/C,KAAMuL,EAAUoC,WAAWyQ,YAAaxhB,EAAK6H,IAAIzD,KAAM,KAAMpE,EAAKuL,mBAC5F,IAAnBuc,EAAQ7mB,OACV6mB,EAAQljB,KAAKijB,GAEbvb,EAAQ1H,MAAMijB,IAKG,IAAnBvb,EAAQrL,QACVqL,EAAQ1H,MAAMijB,EAAmB,GAAIlZ,GAAUmC,OAAOjJ,EAAI1B,KAAK/C,KAAMuL,EAAUoC,WAAW0Q,MAAOzhB,EAAK6H,IAAIzD,KAAM,KAAMpE,EAAKuL,qBAGzHsc,GAEFP,EAAehb,EAASub,GAG5B7nB,EAAKsM,QAAUA,GAGjBrM,KAAKshB,WA2DPtT,YAAa,EACbyT,eAAgB,GAChBlQ,kBAAmB,KAErBuW,IAAK,SAAS5mB,EAASzB,EAAQD,GAkE7B,QAASuoB,GAAqBnmB,GAC5B,MAAOA,GAAIomB,QAAQC,EAAiB,SAASC,EAAGC,GAC9C,MAAOA,GAAGC,gBAlEd3oB,EAAOD,QAAQ6oB,YAAc,SAASrC,EAASsC,GAC7C,GAAItC,GAAWsC,EACb,KAAOtC,EAAQuC,UAAU1d,QAAQyd,IAAc,GAC7CtC,EAAQuC,UAAYvC,EAAQuC,UAAUP,QAAQM,EAAW,KAK/D7oB,EAAOD,QAAQgpB,SAAW,SAASxC,EAASsC,GACtCtC,GAAWsC,GACTtC,EAAQuC,UAAU1d,QAAQyd,GAAa,IACzCtC,EAAQuC,WAAa,IAAMD,IAKjC7oB,EAAOD,QAAQipB,UAAY,SAASzC,GAClC,GAAIA,EAAS,CACX,GAAI0C,GAAO1C,EAAQ2C,uBACnB,QACEC,EAAGF,EAAKG,KACRC,EAAGJ,EAAKK,KAGZ,OACEH,EAAG,EACHE,EAAG,IAIPrpB,EAAOD,QAAQwpB,gBAAkB,SAAShD,GACxC,GAAIA,EAAS,CACX,GAAI0C,GAAO1C,EAAQ2C,wBACfM,EAAmC,MAAtBjD,EAAQkD,WAAqBlD,EAAQkD,WAAWP,yBAC/DI,IAAK,EACLF,KAAM,EAER,QACED,EAAGF,EAAKG,KAAOI,EAAWJ,KAC1BC,EAAGJ,EAAKK,IAAME,EAAWF,KAG7B,OACEH,EAAG,EACHE,EAAG,IAIPrpB,EAAOD,QAAQ2pB,QAAU,SAASnD,GAChC,GAAIA,EAAS,CACX,GAAI0C,GAAO1C,EAAQ2C,uBACnB,QACEve,MAAOse,EAAKU,MAAQV,EAAKG,KACzBxe,OAAQqe,EAAKW,OAASX,EAAKK,KAG/B,OACE3e,MAAO,EACPC,OAAQ,GAIZ,IAAI4d,GAAkB,SAQtBxoB,GAAOD,QAAQ8pB,SAAW,SAAStD,EAASuD,EAAYC,GACtD,GAAI9kB,KACJ,IAAIshB,GAAWuD,EAAY,CACzB,GAAIE,GAAWlqB,EAAGmqB,CACd1D,GAAQ2D,cACVF,EAAYzD,EAAQ2D,aACpBpqB,EAAI,SAASqqB,GACX,MAAOH,GAAUG,IAEnBF,GAAU,GACD7pB,QAAUA,OAAOgqB,mBAC1BJ,EAAY5pB,OAAOgqB,iBAAiB7D,EAAS,MAC7CzmB,EAAI,SAASqqB,GACX,MAAOH,GAAUK,iBAAiBF,IAItC,KAAK,GAAIjpB,GAAI,EAAGA,EAAI4oB,EAAWvoB,OAAQL,IAAK,CAC1C,GAAIiB,GAAMrC,EAAEmqB,EAAU3B,EAAqBwB,EAAW5oB,IAAM4oB,EAAW5oB,GACvE+D,GAAOC,KAAK/C,GAAO4nB,KAAe,EAAO/mB,KAAKsnB,KAAK9K,WAAWrd,IAAQA,IAG1E,MAAO8C,IAGTjF,EAAOD,QAAQwqB,UAAY,SAAShE,GAClC,MAAIA,GAC+B,SAA1BA,EAAQU,MAAMuD,UAA+C,IAAxBjE,EAAQkE,aAA8C,IAAzBlE,EAAQmE,eAE5E,GAGT1qB,EAAOD,QAAQ4qB,oBAAsB,SAASC,EAAWC,GACvD,GAAID,EAAW,CACb,GAAIE,GAAeF,EAAUG,UAC7B,IAAID,GAA0C,aAA1BA,EAAaE,SAAyB,CAIxD,IAHAJ,EAAU3D,MAAMgE,YAAc,OAC9BL,EAAU3D,MAAMtc,MAAQ,GAEjBmgB,EAAaC,YAClBD,EAAaI,YAAYJ,EAAaC,WAExC,KAAK,GAAI7pB,GAAI,EAAGA,EAAI2pB,EAAOtpB,OAAQL,IAAK,CACtC,GAAIiqB,GAAMC,SAASC,cAAc,MACjCF,GAAIlE,MAAMtc,MAAQkgB,EAAO3pB,GAAK,KAC9B4pB,EAAaQ,YAAYH,GAE3BP,EAAU3D,MAAMgE,YAAc,gBAMtCM,IAAK,SAAS9pB,EAASzB,EAAQD,IAC7B,SAAUM,GAERL,EAAOD,SAELyrB,GAAI,SAASC,EAAYllB,GACvB,GAAImlB,GAAQD,EAAWE,MAAM,KACzBzqB,EAAI,CAER,KADAqF,EAASA,GAAUnG,OACZc,EAAIwqB,EAAMnqB,QACfgF,EAAOmlB,EAAMxqB,IAAMqF,EAAOmlB,EAAMxqB,QAChCqF,EAASA,EAAOmlB,EAAMxqB,IACtBA,GAEF,OAAOqF,IAGToG,cAAe,SAAS3C,GACtB,GAAIub,KACJ,KAAK,GAAI4E,KAAQngB,GACXA,EAAIyR,eAAe0O,IACrB5E,EAAIrgB,KAAKilB,EAGb,OAAO5E,IAGTvY,QAAS,SAAS4e,EAAMvpB,EAAUwpB,GAChC,GAAIC,EACJ,IAAIF,EACF,IAAK,GAAI1qB,GAAI,EAAGG,EAAIuqB,EAAKrqB,OAAYF,EAAJH,IAC/B4qB,EAAMzpB,EAASupB,EAAK1qB,GAAIA,IACpB4qB,GAAOD,KAAkB,GAFS3qB,KAO1C,MAAO4qB,IAGTznB,QAAS,SAAS2F,GAChB,MAAgD,mBAAzC+hB,OAAOzS,UAAU3P,SAASwP,MAAMnP,IAGzCgN,SAAU,SAAShN,GACjB,MAAgD,oBAAzC+hB,OAAOzS,UAAU3P,SAASwP,MAAMnP,IAGzCiN,OAAQ,SAASjN,GACf,MAAgD,kBAAzC+hB,OAAOzS,UAAU3P,SAASwP,MAAMnP,IAGzCF,SAAU,SAASE,GACjB,MAAgD,oBAAzC+hB,OAAOzS,UAAU3P,SAASwP,MAAMnP,IAGzC2I,SAAU,SAAS3I,GACjB,MAAgD,oBAAzC+hB,OAAOzS,UAAU3P,SAASwP,MAAMnP,IAGzCkP,WAAY,SAASlP,GACnB,MAAgD,sBAAzC+hB,OAAOzS,UAAU3P,SAASwP,MAAMnP,IAGzCgiB,YAAa,SAASC,GACpB,MAAOA,GAAG1D,QAAQ,yBAA0B,SAG9C2D,YAAa,SAAS5P,EAAO6P,GAC3B,GAAI5rB,KAAK8D,QAAQiY,IAAU6P,EACzB,IAAK,GAAIjrB,GAAI,EAAGA,EAAIob,EAAM/a,OAAQL,IAAK,CACrC,GAAIkrB,GAAO9P,EAAMpb,EACjB,IAAIirB,EAAUC,GACZ,MAAOA,KAOfC,cAAe,SAASriB,EAAKsiB,GAC3B,QAASC,GAAOvP,EAAK1W,GACnB,MAAOgmB,IAAkBA,EAAelhB,QAAQ4R,GAAO,GAAKhY,OAAYsB,EAE1E,MAAOkmB,MAAKC,UAAUziB,EAAKuiB,EAAQ,IAErCG,iBAAkB,SAASnG,EAASoG,EAAWC,GACzCrG,EAAQmG,iBACVnG,EAAQmG,iBAAiBC,EAAWC,GAAS,GACpCrG,EAAQsG,YACjBtG,EAAQsG,YAAY,KAAOF,EAAWC,GAEtCrG,EAAQ,KAAOoG,GAAaC,GAGhCE,oBAAqB,SAASvG,EAASoG,EAAWC,GAC5CrG,EAAQuG,oBACVvG,EAAQuG,oBAAoBH,EAAWC,GAAS,GACvCrG,EAAQwG,YACjBxG,EAAQwG,YAAY,KAAOJ,EAAWC,GAEtCrG,EAAQ,KAAOoG,GAAa,MAGhCK,eAAgB,SAASvsB,GACvBA,EAAIA,GAAKL,OAAO6sB,MAEZxsB,EAAEusB,eACJvsB,EAAEusB,iBAEFvsB,EAAEysB,aAAc,GAGpBC,gBAAiB,SAAS1sB,GACxBA,EAAIA,GAAKL,OAAO6sB,MAEZxsB,EAAE0sB,gBACJ1sB,EAAE0sB,kBAEF1sB,EAAE2sB,cAAe,GAGrBC,eAAgB,SAAS5sB,GACvB,GAAI6sB,GAAS7sB,EAAE6sB,MACf,OAAI,SAAW7sB,GACN6sB,EAGS,IAAXA,EAAe,EACT,IAAXA,EAAe,EACf,GAEJC,eAAgB,SAAS9sB,GACvBA,EAAIA,GAAKL,OAAO6sB,KAEhB,IAAIO,GAAQ/sB,EAAE+sB,MACVC,EAAQhtB,EAAEgtB,KAKd,OAJczoB,UAAVwoB,IACFA,EAAQ/sB,EAAEitB,QAAUtC,SAAStM,KAAK6O,WAAavC,SAASwC,gBAAgBD,WACxEF,EAAQhtB,EAAEotB,QAAUzC,SAAStM,KAAKgP,UAAY1C,SAASwC,gBAAgBE,YAGvEN,MAAOA,EACPC,MAAOA,KAOb,SAAUM,GAGR,QAASC,GAAsBC,GAC7B1tB,KAAK0tB,QAAUA,EAHjB,GAAIC,GAAQ,mEAKZF,GAAsB1U,UAAY,GAAInY,OACtC6sB,EAAsB1U,UAAUrV,KAAO,wBAGvC8pB,EAAO7d,KAAO7P,GAAUA,EAAO6P,KAAO,SAASJ,GAC7C,MAAOzP,GAAO6P,KAAKJ,IACjB,SAASqe,GAEX,IAEE,GAAIC,GAAOC,EAHTve,EAAMwe,OAAOH,GAGMI,EAAM,EAAGpoB,EAAM+nB,EAAOM,EAAS,GAIpD1e,EAAI2e,OAAa,EAANF,KAAapoB,EAAM,IAAKooB,EAAM,GAEzCC,GAAUroB,EAAIsoB,OAAO,GAAKL,GAAS,EAAIG,EAAM,EAAI,GAAI,CAErD,GADAF,EAAWve,EAAI4e,WAAWH,GAAO,KAC7BF,EAAW,IACb,KAAM,IAAIL,GAAsB,2FAElCI,GAAQA,GAAS,EAAIC,EAEvB,MAAOG,IAKTT,EAAOY,KAAOtuB,GAAUA,EAAOsuB,KAAO,SAAS7e,GAC7C,MAAOzP,GAAOsuB,KAAK7e,IACjB,SAASqe,GACX,GAAIre,GAAMwe,OAAOH,GAAO5F,QAAQ,MAAO,GACvC,IAAIzY,EAAIvO,OAAS,GAAK,EACpB,KAAM,IAAIysB,GAAsB,oEAElC,KAEE,GAAYY,GAAIC,EAAZC,EAAK,EAAeP,EAAM,EAAGC,EAAS,GAE1CK,EAAS/e,EAAI2e,OAAOF,MAEnBM,IAAWD,EAAKE,EAAK,EAAS,GAALF,EAAUC,EAASA,EAG3CC,IAAO,GAAKN,GAAUF,OAAOS,aAAa,IAAMH,IAAO,GAAKE,EAAK,IAAM,EAEzED,EAASX,EAAM9iB,QAAQyjB,EAEzB,OAAOL,KAERxuB,EAAOD,WAETuB,KAAKf,KAAwB,mBAAXF,QAAyBA,OAAyB,mBAATC,MAAuBA,KAAyB,mBAAXF,QAAyBA,gBAE9H4uB,IAAK,SAASvtB,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEjC,EAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,QAE3ExkB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbC,gBAAiB,WACf,OACEC,WAAW,IAGfA,UAAW,WACT,MAAO7uB,MAAK0c,MAAMmS,WAAkD,gBAA9B7uB,MAAKymB,MAAMjc,UAAUlH,MAAgF,kBAApDwrB,QAAOC,cAAc/uB,KAAKymB,MAAMjc,UAAUlH,OAEnI0rB,UAAW,WACT,GAAIhvB,KAAK6uB,YAAa,CACpB,GAAII,GAAYjvB,KAAKymB,MAAMyI,eAAepgB,YAAYzL,MAAM+T,eACxD/L,EAAO,GAAIyjB,QAAOC,cAAcI,SAEpC9jB,GAAK+jB,UAAU,SAAUH,EAAUzX,WACnC,KAAK,GAAI5C,GAAK,EAAGA,EAAKqa,EAAU/W,SAASlX,OAAQ4T,IAC/CvJ,EAAK+jB,UAAU,SAAUH,EAAU/W,SAAStD,GAG9CvJ,GAAKgkB,QAAQJ,EAAU7W,UAEvB,IAAI7P,IACF0P,MAAOgX,EAAUhX,MAEjBqX,SAAUtvB,KAAK0c,MAAM6S,WAAWC,WAChCC,SAAUxQ,WAAWjf,KAAK0c,MAAM6S,WAAWE,UAC3CC,OACEzX,MAAOgX,EAAUzX,YAEnBmY,OACE1X,MAAOgX,EAAUxX,YAIrB,IAA+D,kBAApDqX,QAAOC,cAAc/uB,KAAKymB,MAAMjc,UAAUlH,MAAsB,CACzE,GAAIssB,GAAQ,GAAId,QAAOC,cAAc/uB,KAAKymB,MAAMjc,UAAUlH,MAAM2gB,EAAS4L,YAAY7vB,MACrF4vB,GAAME,KAAKzkB,EAAM9C,MAIvBwnB,kBAAmB,WACjB/vB,KAAKgvB,aAEPgB,mBAAoB,WAClBhwB,KAAKgvB,aAEP3J,OAAQ,WACN,MAAIrlB,MAAK6uB,YACA3I,EAAM4E,cAAc,OACzBvC,UAAW,QACX7B,MAAO1mB,KAAK0c,MAAM6S,aAGf,UAKXU,MAAS,QACT/I,YAAa,cAEfgJ,IAAK,SAAShvB,EAASzB,EAAQD,GAM7B,QAAS2wB,KACP,GAAIC,GAAiBvF,SAASC,cAAc,MAG5C,OAFAsF,GAAe7H,UAAY,iCAC3BsC,SAAStM,KAAKwM,YAAYqF,GACnBA,EART,GAAIlK,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEjC,EAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SACzElhB,EAAQ7B,EAAQ,gBASdkjB,EAAS3kB,EAAOD,QAAU0mB,EAAMwI,aAClCC,YAAa,UAEb0B,SACE7K,OAAQ,WACN,GAAI8K,GAAgBpK,EAAMC,cAAc/B,GACpChG,EAAU+R,GAEd,QACE5J,KAAM,SAASE,GACbxC,EAASoB,OAAOiL,EAAc7J,GAAQrI,OAK9CgS,eAAgB,KAChBG,gBAAiB,SAASroB,GACxBlI,KAAKowB,eAAe7H,UAAYvoB,KAAKymB,MAAMlc,MAAM2T,iBAAiBhW,GAASkW,SAE7E2R,kBAAmB,WACjB/vB,KAAKowB,eAAiBnM,EAAS4L,YAAY7vB,MAAMkpB,WACjDlpB,KAAKuwB,iBAAgB,GACrBxtB,EAAMopB,iBAAiBnsB,KAAKowB,eAAgB,QAASpwB,KAAKwwB,MAE1D,IAAIC,GAAgBzwB,KAAKowB,eAAeM,SAAS,GAC7CC,EAAoBF,EAAcC,SAAS,GAAGA,SAAS,GAEvDE,EAAcnuB,KAAKH,IAAIuoB,SAASwC,gBAAgBwD,YAAahxB,OAAOixB,YAAc,GAClFC,EAAetuB,KAAKH,IAAIuoB,SAASwC,gBAAgB2D,aAAcnxB,OAAOoxB,aAAe,GACrFC,EAAY,EAAIH,EAAe,CACnCG,GAAwB,IAAZA,EAAkB,IAAMA,CACpC,IAAIC,GAASV,EAAcvG,aAAeuG,EAActG,aAAe+G,EAAY,GAAK,GACpFE,EAAUX,EAActG,aAAe+G,EAAYA,EAAYT,EAActG,YAEjFsG,GAAc/J,MAAMqC,KAAOgI,EAAeK,GAAWL,EAAeK,GAAW,EAAI,GAAK,KACxFX,EAAc/J,MAAMmC,MAAQ+H,EAAcO,GAAUP,EAAcO,GAAU,EAAI,GAAK,KACrFV,EAAc/J,MAAMrc,OAAS+mB,EAAU,KACvCT,EAAkBjK,MAAMtc,MAAQ+mB,EAAS,KACzCR,EAAkBjK,MAAMrc,OAAS+mB,EAAU,GAAK,MAElDZ,MAAO,SAAStwB,GACd,GAAImxB,GAASnxB,EAAEmxB,QAAUnxB,EAAEoxB,YACvBD,GAAUrxB,KAAKowB,gBAAuC,iBAArBiB,EAAO9I,aAC1CxlB,EAAMwpB,oBAAoBvsB,KAAKowB,eAAgB,QAASpwB,KAAKwwB,OAC7DvM,EAASsN,uBAAuBvxB,KAAKowB,gBACrCpwB,KAAKuwB,iBAAgB,KAGzBlL,OAAQ,WACN,GAAIrlB,KAAKymB,MAAMD,KAAM,CACnB,GAAIA,GAAON,EAAM4E,cAAc9qB,KAAKymB,MAAMD,KAAKljB,KAAMtD,KAAKymB,MAAMD,KAAKC,OACjEtI,EAAUne,KAAKymB,MAAMlc,MAAM2T,kBAE/B,OAAOgI,GAAM4E,cACX,OACEvC,UAAWpK,EAAQE,OACnBqI,MAAO1mB,KAAKymB,MAAMC,WAEpBR,EAAM4E,cACJ,OACEvC,UAAWpK,EAAQG,SAErB4H,EAAM4E,cACJ,OACEvC,UAAWpK,EAAQtN,QAErBqV,EAAM4E,cAAc,OAClBvC,UAAW,eACXiJ,QAASxxB,KAAKwwB,QAEhBtK,EAAM4E,cACJ,OACEvC,UAAWpK,EAAQlG,OAErBjY,KAAKymB,MAAMxO,QAGfiO,EAAM4E,cACJ,OACEvC,UAAWpK,EAAQI,MAErBiI,WASZiL,eAAgB,GAChBxB,MAAS,QACT/I,YAAa,cAEfwK,IAAK,SAASxwB,EAASzB,EAAQD,GAE7B,GAAIykB,GAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SAC3ElhB,EAAQ7B,EAAQ,eAEAzB,GAAOD,QAAU,WAYjC,QAASmyB,GAAkBC,EAAWC,GACpC,QAASD,EAAUxI,MAAQyI,EAAUhJ,MAAQ+I,EAAU/I,KAAOgJ,EAAUzI,OAASwI,EAAUvI,OAASwI,EAAU9I,KAAO6I,EAAU7I,IAAM8I,EAAUxI,QAGjJ,QAASyI,GAAkBC,EAAYjwB,GACjCkwB,EACFC,EAAcD,EAAiB,WAC7BA,EAAkBD,EAClBG,EAAeH,EAAYjwB,MAG7BkwB,EAAkBD,EAClBG,EAAeH,EAAYjwB,IAI/B,QAASqwB,GAAqBC,GACxBC,EACFJ,EAAcI,EAAoB,WAChCA,EAAqBD,EACrBF,EAAeE,MAGjBC,EAAqBD,EACrBF,EAAeE,IAInB,QAASF,GAAeb,EAAQvvB,GAC1BuvB,GAAUA,EAAOiB,WACnBjB,EAAOiB,WAAWxwB,GACTA,GACTA,IAIJ,QAASmwB,GAAcZ,EAAQvvB,GACzBuvB,GAAUA,EAAOkB,UACnBlB,EAAOkB,UAAUzwB,GACRA,GACTA,IAlDJ,GAAI0wB,GAAa,KAEbC,EAAmB,KACnBT,EAAkB,KAClBK,EAAqB,KAErBK,EAAY,KACZC,KACAC,KA8DAC,GAAe,CAEnB,QACErO,KAAM,SAASsO,GACbD,GAAe,EACfL,EAAaM,GAEfC,eAAgB,SAASC,GAEvB,GAAIC,GAAkBR,CAEtB,IADAA,EAAmBO,EACfP,GAAoBQ,EACtB,GAAY,MAARD,EAAc,CAEhB,GAAIhB,EAAiB,CACnB,GAAI/kB,GAAiC,MAAtBolB,EAA6BA,EAAmBplB,SAAW,IAC1EulB,GAAWU,WAAWD,EAAiBjB,EAAgBmB,UAAU1M,MAAMlf,QAAS0F,GAGlFylB,EAAY,KACZZ,EAAkB,MAClBK,EAAqB,UAErBO,GAAYzO,EAAS4L,YAAY4C,IAIvCW,eAAgB,SAAS/B,EAAQ9pB,EAAS8rB,EAAiBC,GACzDX,EAAahuB,MACXwuB,UAAW9B,EACX9pB,QAASA,EACT+qB,WAAYe,EACZd,UAAWe,KAGfC,iBAAkB,SAASlC,GAEzB,IAAK,GADDmC,GACK7yB,EAAI,EAAGA,EAAIgyB,EAAa3xB,OAAQL,IACvC,GAAIgyB,EAAahyB,GAAGwyB,WAAa9B,EAAQ,CACvCmC,EAAS7yB,CACT,OAGU,MAAV6yB,GACFb,EAAallB,OAAO+lB,EAAQ,IAGhCC,kBAAmB,SAASC,EAAWnsB,EAAS0F,EAAUomB,EAAiBC,GACzEV,EAAgBjuB,MACdwuB,UAAWO,EACXnsB,QAASA,EACT0F,SAAUA,EACVqlB,WAAYe,EACZd,UAAWe,KAGfK,oBAAqB,SAASD,GAE5B,IAAK,GADDE,GACKjzB,EAAI,EAAGA,EAAIiyB,EAAgB5xB,OAAQL,IAC1C,GAAIiyB,EAAgBjyB,GAAGwyB,WAAaO,EAAW,CAC7CE,EAASjzB,CACT,OAGU,MAAVizB,GACFhB,EAAgBnlB,OAAOmmB,EAAQ,IAGnCC,aAAc,WACZ,GAAwB,MAApBpB,EAA0B,CAC5B,GACIqB,GADAC,EAAerB,EAAU/J,uBAG7B5lB,GAAM0J,QAAQkmB,EAAc,SAAStB,GACnC,IAAKyC,EAAa,CAChB,GAAIE,GAAY/P,EAAS4L,YAAYwB,EAAO8B,WAAWxK,wBACnDsL,EAAYtC,EAAkBoC,EAAcC,EAChD,IAAIC,EAEF,YADAH,EAAczC,MAMhByC,GACFhC,EAAkBgC,EAAa,WAC7B,GAAII,GAAiB,IAkBrB,IAhBAnxB,EAAM0J,QAAQmmB,EAAiB,SAASc,EAAWpiB,GACjD,IAAK4iB,EAAgB,CACnB,GAAIC,GAAsBT,EAAUP,UAAU1M,MAAMlf,UAAYkrB,EAAiBhM,MAAMlf,SAAWmsB,EAAUP,UAAU1M,MAAMxZ,WAAawlB,EAAiBhM,MAAMxZ,SAE5JmnB,EAAkBV,EAAUP,UAAU1M,MAAMlf,UAAYusB,EAAYX,UAAU1M,MAAMlf,OACxF,IAAI6sB,IAAoBD,EAAqB,CAC3C,GAAIH,GAAY/P,EAAS4L,YAAY6D,EAAUP,WAAWxK,wBACtDsL,EAAYtC,EAAkBoC,EAAcC,EAChD,IAAIC,EAEF,MADAC,GAAiBR,GACV,OAMVQ,EAAgB,CACnB,GAAIG,GAAgBzB,EAAgB/mB,OAAO,SAAS6nB,GAClD,MAAOA,GAAUP,UAAU1M,MAAMlf,UAAYusB,EAAYX,UAAU1M,MAAMlf,SAEvE8sB,GAAcrzB,OAAS,IACzBkzB,EAAiBG,EAAcA,EAAcrzB,OAAS,IAG1DmxB,EAAqB+B,aASjCzC,eAAgB,GAChBvK,YAAa,cAEfoN,IAAK,SAASpzB,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEqO,EAAcrzB,EAAQ,8BAExBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,gBACbC,gBAAiB,WAEf,MADA2F,GAAYd,kBAAkBzzB,KAAMA,KAAKymB,MAAMlf,QAASvH,KAAKymB,MAAMxZ,SAAUjN,KAAKsyB,WAAYtyB,KAAKuyB,YAEjGiC,QAAQ,IAGZC,qBAAsB,WACpBF,EAAYZ,oBAAoB3zB,OAElCsyB,WAAY,SAASxwB,GACf9B,KAAK00B,YACP10B,KAAKgiB,UACHwS,QAAQ,GACP1yB,GACMA,GACTA,KAGJywB,UAAW,SAASzwB,GACd9B,KAAK00B,YACP10B,KAAKgiB,UACHwS,QAAQ,GACP1yB,GACMA,GACTA,KAGJujB,OAAQ,WACN,GAAIiD,GAAY,aAAetoB,KAAKymB,MAAMkO,WAAa,YAAc,GAEjE30B,MAAKymB,MAAMmO,UACbtM,GAAa,oBAGXtoB,KAAKymB,MAAMoO,SACbvM,GAAa,kBAGf,IAAI5B,KAKJ,OAJI1mB,MAAK0c,MAAM8X,SACblM,GAAa,mBAGRpC,EAAM4E,cAAc,OACzBpE,MAAOA,EACP6B,UAAWD,SAMjBwM,8BAA+B,GAC/B7E,MAAS,UAEX8E,IAAK,SAAS7zB,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEqO,EAAcrzB,EAAQ,+BACtB8zB,EAAgB9zB,EAAQ,iCACxB0G,EAAM1G,EAAQ,cACd+zB,EAAO,CAETx1B,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbC,gBAAiB,WAEf,MADA5uB,MAAKi1B,OAASA,GAEZT,QAAQ,IAGZzE,kBAAmB,WACjBwE,EAAYnB,eAAepzB,KAAMA,KAAKymB,MAAMlf,QAASvH,KAAKsyB,WAAYtyB,KAAKuyB,YAE7EkC,qBAAsB,WACpBF,EAAYhB,iBAAiBvzB,OAE/BsyB,WAAY,SAASxwB,GACf9B,KAAK00B,YACP10B,KAAKgiB,UACHwS,QAAQ,GACP1yB,GACMA,GACTA,KAGJywB,UAAW,SAASzwB,GACd9B,KAAK00B,YACP10B,KAAKgiB,UACHwS,QAAQ,GACP1yB,GACMA,GACTA,KAGJujB,OAAQ,WACN,GAAItlB,GAAOC,KAEPmP,EAAUnP,KAAKymB,MAAMtX,QAAQvJ,IAAI,SAASmnB,EAAQzb,GACpD,MAAIA,GAAQvR,EAAK0mB,MAAMtX,QAAQnO,OAAS,GAC9BklB,EAAM4E,cACZ,KACA,KACA5E,EAAM4E,cAAckK,GAClBJ,QAAmB,IAAVtjB,EACTrE,SAAUqE,EACV/J,QAASxH,EAAK0mB,MAAMlf,WAErB2e,EAAM4E,cACP,KACA,KACAiC,KAGM7G,EAAM4E,cACZ,KACA,KACA5E,EAAM4E,cAAckK,GAClBJ,QAAmB,IAAVtjB,EACTrE,SAAUqE,EACV/J,QAASxH,EAAK0mB,MAAMlf,WAErB2e,EAAM4E,cACP,KACA,KACAiC,GACC7G,EAAM4E,cACP,KACA,KACA5E,EAAM4E,cAAckK,GAClBH,QAAQ,EACR5nB,SAAU,KACV1F,QAASxH,EAAK0mB,MAAMlf,cAMxBmf,EAAQ3mB,EAAK0mB,MAAMlf,UAAYK,EAAI1B,KAAK/C,MAC1C8J,SAAU,WACV4b,KAAM,EACNQ,OAAQ,IACN,IAEJ,OAAOnD,GAAM4E,cACX,OACEvC,UAAW,YAAcvoB,KAAK0c,MAAM8X,OAAS,iBAAmB,KAA0B,IAAnBrlB,EAAQnO,OAAe,kBAAoB,IAClH0lB,MAAOA,GAETR,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,KACA,KACA3b,WASZ+lB,aAAc,EACdJ,8BAA+B,GAC/BK,gCAAiC,GACjClF,MAAS,UAEXmF,IAAK,SAASl0B,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEqO,EAAcrzB,EAAQ,+BACtB8zB,EAAgB9zB,EAAQ,iCACxB+zB,EAAO,CAETx1B,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbC,gBAAiB,WAEf,MADA5uB,MAAKi1B,OAASA,GAEZT,QAAQ,IAGZzE,kBAAmB,WACjBwE,EAAYnB,eAAepzB,KAAMA,KAAKymB,MAAMlf,QAASvH,KAAKsyB,WAAYtyB,KAAKuyB,YAE7EkC,qBAAsB,WACpBF,EAAYhB,iBAAiBvzB,OAE/BsyB,WAAY,SAASxwB,GACf9B,KAAK00B,YACP10B,KAAKgiB,UACHwS,QAAQ,GACP1yB,GACMA,GACTA,KAGJywB,UAAW,SAASzwB,GACd9B,KAAK00B,YACP10B,KAAKgiB,UACHwS,QAAQ,GACP1yB,GACMA,GACTA,KAGJujB,OAAQ,WACN,GAAItlB,GAAOC,KAEPmP,EAAUnP,KAAKymB,MAAMtX,QAAQvJ,IAAI,SAASmnB,EAAQzb,GACpD,GAAI+jB,IAAcnP,EAAM4E,cACtB,KACA,KACA5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAckK,GAClBJ,QAAmB,IAAVtjB,EACTrE,SAAUqE,EACV/J,QAASxH,EAAK0mB,MAAMlf,QACpBotB,YAAY,MAGfzO,EAAM4E,cACP,KACA,KACA5E,EAAM4E,cACJ,KACA,KACAiC,IAqBJ,OAjBIzb,IAASvR,EAAK0mB,MAAMtX,QAAQnO,OAAS,GACvCq0B,EAAW1wB,KAAKuhB,EAAM4E,cACpB,KACA,KACA5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAckK,GAClBH,QAAQ,EACR5nB,SAAU,KACV1F,QAASxH,EAAK0mB,MAAMlf,QACpBotB,YAAY,OAMbU,GAGT,OAAOnP,GAAM4E,cACX,OACEvC,UAAW,qBAAuBvoB,KAAK0c,MAAM8X,OAAS,iBAAmB,KAA0B,IAAnBrlB,EAAQnO,OAAe,2BAA6B,KAEtIklB,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,QACA,KACA3b,UAQV2lB,8BAA+B,GAC/BK,gCAAiC,GACjClF,MAAS,UAEXqF,IAAK,SAASp0B,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEnjB,EAAQ7B,EAAQ,eAElBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEb4G,YAAa,SAASr1B,GACpB,GAAIs1B,GAAYx1B,KAAKy1B,KAAKC,aACtBC,EAAiB31B,KAAKy1B,KAAKG,WAC3BvE,EAASnxB,EAAEmxB,QAAUnxB,EAAEoxB,UAEvBD,KAAWmE,GAA8C,SAAjCG,EAAejP,MAAMuD,QAC/C0L,EAAejP,MAAMuD,QAAU,QAE/B0L,EAAejP,MAAMuD,QAAU,QAGnC4L,aAAc,WACZ,GAAIL,GAAYx1B,KAAKy1B,KAAKC,YAC1BF,GAAUjN,UAAY,mBACtBiN,EAAU9O,MAAMoP,mBAAqB,gBAEvCC,aAAc,WACZ/1B,KAAKy1B,KAAKC,aAAanN,UAAY,IAErCwH,kBAAmB,WACjBhtB,EAAMopB,iBAAiBtB,SAAU,QAAS7qB,KAAKu1B,cAEjDd,qBAAsB,WACpB1xB,EAAMwpB,oBAAoB1B,SAAU,QAAS7qB,KAAKu1B,cAEpDS,YAAa,SAAS91B,GAIpB,IAHA,GAAI+1B,GAAWj2B,KAAKy1B,KAAKG,WACrBvE,EAASnxB,EAAEmxB,QAAUnxB,EAAEoxB,WACvB4E,GAAO,GACHA,GAAkB,MAAV7E,GAAgB,CAC9B,GAAIA,EAAOnI,YAAc+M,EAAU,CACjCC,GAAO,CACP,OAEF7E,EAASA,EAAOnI,WAGlB,GAAIgN,EAAM,CACR,GAAInwB,GAAQsrB,EAAO8E,YACfT,EAAe11B,KAAKy1B,KAAKC,YACzBA,GAAaS,aAAepwB,IAC9B2vB,EAAaS,YAAcpwB,EACvB/F,KAAKymB,MAAM2P,gBACbp2B,KAAKymB,MAAM2P,eAAerwB,MAKlCsf,OAAQ,WAQN,IAAK,GADD3gB,MACK/D,EAAI,EAAGA,EAAIX,KAAKymB,MAAM/hB,OAAO1D,OAAQL,IAC5C+D,EAAOC,KAAKuhB,EAAM4E,cAAc,MAC9BrO,IAAK,OAAS9b,EACd01B,yBACEC,OAAQt2B,KAAKymB,MAAM/hB,OAAO/D,MAKhC,OAAOulB,GAAM4E,cACX,OACEvC,UAAW,cAEbrC,EAAM4E,cAAc,OAClByL,IAAK,eACLF,yBACEC,OAAQt2B,KAAKymB,MAAM+P,eAErBX,aAAc71B,KAAK61B,aACnBE,aAAc/1B,KAAK+1B,eAErB7P,EAAM4E,cACJ,MACEyL,IAAK,aACL7P,OACEuD,QAAS,QAEXuH,QAASxxB,KAAKg2B,aAEhBtxB,SAOR+sB,eAAgB,GAChBxB,MAAS,UAEXwG,IAAK,SAASv1B,EAASzB,EAAQD,GAkP7B,QAASk3B,GAAcC,EAAWC,GA+DhC,QAASC,GAAgBC,EAAU9M,GACjC,MAAiB,OAAbA,EAGqD,QAAhD8M,EAAS5N,WAAWA,WAAWxC,MAAMuD,aAF5C6M,EAAS5N,WAAWA,WAAWxC,MAAMuD,QAAUD,EAAY,GAAK,QAMpE,QAAS+M,KACP,GAAIH,EAAqB,CACvB,GAAII,IACFtyB,OAAQkyB,EAAoB9kB,YAC5BmlB,UAAWL,EAAoB7kB,cAG7B6kB,GAAoB/kB,MACtBqlB,GAAe,EAEftlB,EAAWglB,EAAoBhlB,SAC/B7R,EAAKo3B,+BAEDP,EAAoB1kB,YACtBklB,GAAc,EACdr3B,EAAKs3B,0BACLC,EAAiBV,EAAoB/kB,KAAKU,QAE1C+kB,EAAiBV,EAAoB/kB,KAGvC0lB,EAAMC,UAAUzxB,MAAQuxB,EAExBv3B,EAAK03B,gBAAgBb,EAAoBhlB,SAAUglB,EAAoB/kB,OAEvE6lB,EAAqBV,EAGvBj3B,EAAK43B,iBAAiBX,GACtBj3B,EAAK63B,qBAIT,QAASC,KACP93B,EAAKo3B,+BAELp0B,EAAMopB,iBAAiBoL,EAAMO,gBAAiB,QAAS/3B,EAAKg4B,cAC5Dh1B,EAAMopB,iBAAiBoL,EAAMC,UAAW,QAASz3B,EAAKi4B,eAEtDj1B,EAAMopB,iBAAiBoL,EAAMU,kBAAmB,QAASl4B,EAAKm4B,gBAE9Dn1B,EAAMopB,iBAAiBoL,EAAMY,SAAU,QAAS,WAC9C,GAAIC,GAAar4B,EAAKs4B,kBACtB1B,GAAU2B,SAAS1mB,EAASlO,KAAMkO,EAASO,iBAAmB+kB,GAAgBE,EAAc,GAAI9kB,QAAOglB,EAAgB,KAAOA,EAAgBc,EAAW1zB,OAAQ0zB,EAAWnB,aAE9Kl0B,EAAMopB,iBAAiBoL,EAAMgB,aAAc,QAAS,WAClD5B,EAAU6B,YAId,QAASC,GAAcC,EAAoBC,EAAiBC,GAE1D,GAAIC,GAAoB,IACpBC,EAAqB,IAErBC,GACFnQ,EAAG,EACHE,EAAG,GAEDkQ,GAAc,CAElBh5B,MAAKi5B,gBAAkB,SAAS/4B,GAE9B,GAAgC,IAA5B6C,EAAM+pB,eAAe5sB,GAAzB,CAEA,GAAIg5B,GAAcn2B,EAAMiqB,eAAe9sB,EAEvC84B,IAAc,EACdnO,SAAStM,KAAKmI,MAAMyS,OAAS,YAE7BJ,EAAanQ,EAAIsQ,EAAYjM,MAC7B8L,EAAajQ,EAAIoQ,EAAYhM,MAG7BnqB,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,KAGvBF,KAAKo5B,cAAgB,WAGnB,MAFAJ,IAAc,EACdnO,SAAStM,KAAKmI,MAAMyS,OAAS,QACtB,GAGTn5B,KAAKq5B,gBAAkB,SAASn5B,GAE9B,GAAK84B,EAAL,CAEA,GAAIE,GAAcn2B,EAAMiqB,eAAe9sB,GAEnCo5B,EAAiBV,EAAejQ,wBAChC4Q,EAAqBb,EAAmB/P,wBACxC6Q,EAAkBb,EAAgBc,QAAQ,GAAG9Q,wBAE7C+Q,EAAsBH,EAAmBnQ,MAAQmQ,EAAmB1Q,KACpE8Q,EAAuBJ,EAAmBlQ,OAASkQ,EAAmBxQ,IAEtE6Q,GACFhR,EAA0BiQ,GAAvBa,GAA4CR,EAAYjM,MAAQqM,EAAezQ,KAAO,EAAIqQ,EAAYjM,MAAQ8L,EAAanQ,EAC9HE,EAA2BgQ,GAAxBa,GAA8CT,EAAYhM,MAAQoM,EAAevQ,IAAM,EAAImQ,EAAYhM,MAAQ6L,EAAajQ,GAG7H+Q,EAAoBH,EAAsBE,EAAOhR,EACjDkR,EAAqBH,EAAuBC,EAAO9Q,CAEvDiQ,GAAanQ,EAAIsQ,EAAYjM,MAC7B8L,EAAajQ,EAAIoQ,EAAYhM,MAEzB2M,GAAqBhB,IACvBH,EAAmBhS,MAAMtc,MAAQyvB,EAAoB,MAGnDC,GAAsBhB,IACxBJ,EAAmBhS,MAAMrc,OAASyvB,EAAqB,KACvDnB,EAAgBc,QAAQ,GAAG/S,MAAMrc,OAASmvB,EAAgBnQ,OAASmQ,EAAgBzQ,IAAM6Q,EAAO9Q,EAAI,MAGtG/lB,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,KAGvB6C,EAAMopB,iBAAiByM,EAAgB,YAAa54B,KAAKi5B,iBACzDl2B,EAAMopB,iBAAiBtB,SAAU,UAAW7qB,KAAKo5B,eACjDr2B,EAAMopB,iBAAiBtB,SAAU,YAAa7qB,KAAKq5B,iBAhMrD,GAGI3B,GAoBAqC,EAvBAh6B,EAAOC,KACPg6B,EAAgB,gBAGhB9C,GAAe,EACfE,GAAc,EACdxlB,EAAW5I,EAAU2J,UAAUC,MAC/B0kB,EAAiB,GAEjBC,GACFO,gBAAiB,KACjBmC,cACAzC,UAAW,KACX0C,YAAa,KACbC,YAAa,KACbC,YAAa,KACbC,kBAAmB,KACnBpC,kBAAmB,KACnBE,SAAU,KACVI,aAAc,KACd+B,WAAY,KAKdt6B,MAAKwkB,KAAO,SAAS+V,GAEnBhD,EAAMO,gBAAkByC,EACxBhD,EAAM0C,cACN1C,EAAMC,UAAYD,EAAMO,gBAAgB3sB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,GAAGvlB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,GAC/F6G,EAAMU,kBAAoBV,EAAMO,gBAAgB3sB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,GAAGvlB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,GACvG6G,EAAM2C,YAAc3C,EAAMO,gBAAgB3sB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,GACpE6G,EAAMY,SAAWZ,EAAMO,gBAAgB3sB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,GACjE6G,EAAMgB,aAAehB,EAAMO,gBAAgB3sB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,GACrE6G,EAAM+C,WAAa/C,EAAMO,gBAAgB3sB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,EAGnE,KAAK,GADDvlB,GAAOosB,EAAMO,gBAAgB3sB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,GAAGvlB,KACrDxK,EAAI,EAAGA,EAAIwK,EAAKnK,OAAQL,IAAK,CACpC,GAAIm2B,GAAW3rB,EAAKxK,GAAG65B,MAAM,GAAG9J,SAAS,EACzC6G,GAAM0C,WAAWnD,EAAS/wB,OAAS+wB,EAGrCS,EAAM4C,YAAc5C,EAAM0C,WAAWjxB,EAAUyI,KAC/C8lB,EAAMkD,eAAiBlD,EAAM0C,WAAWjxB,EAAU2I,OAClD4lB,EAAM6C,YAAc,KACpB7C,EAAM8C,kBAAoB9C,EAAMO,gBAAgB3sB,KAAK,GAAGqvB,MAAM,GAE9DT,EAAgB,GAAItB,GAAclB,EAAMO,gBAAgB5O,WAAYqO,EAAMO,gBAAgB3sB,KAAK,GAAGqvB,MAAM,GAAG9J,SAAS,GAAI6G,EAAM+C,YAE9HvD,IACAc,KAGF73B,KAAK06B,kBAAoB,SAASC,GAC5B/oB,EAASlO,OAASi3B,IACpB/oB,EAAW5I,EAAU2J,UAAUV,IAAI0oB,GACnC56B,EAAKo3B,+BACLp3B,EAAKi4B,cAAc,qBA0IvBh4B,KAAKk4B,eAAiB,WACpBX,EAAMC,UAAUzxB,MAAQ,GACxBhG,EAAKi4B,iBAGPh4B,KAAKm3B,6BAA+B,WAC9BvlB,EAASO,iBACXpP,EAAMopB,iBAAiBoL,EAAM8C,kBAAmB,QAASt6B,EAAK66B,qBAC9DC,EAASxS,YAAYkP,EAAM8C,kBAAmB,wBAE9Ct3B,EAAMwpB,oBAAoBgL,EAAM8C,kBAAmB,QAASt6B,EAAK66B,qBACjEC,EAASrS,SAAS+O,EAAM8C,kBAAmB,wBAI/Cr6B,KAAKq3B,wBAA0B,WAC7BE,EAAM8C,kBAAkB9R,UAAYgP,EAAM8C,kBAAkB9R,UAAUP,QAAQ,qBAAsB,IAChGoP,EACFyD,EAASrS,SAAS+O,EAAM8C,kBAAmB,sBAE3CQ,EAASxS,YAAYkP,EAAM8C,kBAAmB,uBAIlDr6B,KAAK46B,oBAAsB,WACzBxD,GAAeA,EACfr3B,EAAKs3B,0BACLt3B,EAAKi4B,cAAc,qBAGrBh4B,KAAK+3B,aAAe,SAAS73B,GAC3B,GAAImxB,GAASnxB,EAAEmxB,QAAUnxB,EAAEoxB,UACvBD,IAAUA,EAAO/tB,MAAwB,aAAhB+tB,EAAO/tB,OAC9B+tB,GAAUkG,EAAM4C,YAClBp6B,EAAK43B,kBACHjzB,OAAQ6yB,EAAM4C,YAAYW,UAG5B/6B,EAAK63B,sBAKX53B,KAAKy3B,gBAAkB,SAAS7lB,EAAUC,GACxC,GAAIkpB,GAAiBlpB,GAAO,GAAQ,EAChCmpB,EAASppB,EAASO,iBAAmB+kB,EAAeE,EAAcvlB,EAAO9O,EAAM0oB,YAAY5Z,GAAQA,CACvGglB,GAAgBU,EAAM4C,YAAaY,EACnC,KAAK,GAAIp6B,GAAI,EAAGA,EAAIg2B,EAAUjyB,OAAO1D,OAAQL,IAAK,CAChD,GAAIiB,GAAM+0B,EAAUjyB,OAAO/D,GACvBm2B,EAAkB,MAAPl1B,EAAc21B,EAAM0C,WAAWr4B,GAAO21B,EAAMkD,eACvDvyB,GAAWgvB,GAAgBtlB,EAAS1P,KAAKN,EAAKo5B,EAClDnE,GAAgBC,EAAU5uB,GAC1B4uB,EAASgE,QAAU5yB,IAIvBlI,KAAKg4B,cAAgB,SAAS93B,GAC5B,GAAIkT,IAAUmkB,EAAMC,UAAUzxB,OAAS,IAAIyX,MAC3C,IAAU,oBAANtd,GAAiC,qBAANA,GAA4BkT,GAAUA,GAAUkkB,EAAgB,CAC7FA,EAAiBlkB,CAEjB,IAAI6nB,GAAuB/D,CAC3BA,GAA0B,KAAX9jB,EAEX8jB,IAAiB+D,IACnBvD,EAAqB33B,EAAKs4B,qBAIlB,oBAANn4B,GAA2Bg3B,IAC7Bn3B,EAAK03B,gBAAgB7lB,EAAUwB,IAG5B8jB,GAAgB+D,GACnBl7B,EAAK43B,iBAAiBD,GAGxB33B,EAAK63B,sBAIT53B,KAAKq4B,iBAAmB,WACtB,GAAKnB,GAAiBK,EAAM4C,YAAYe,cAKjC,CACL,GAAIppB,GACAnR,EAAGiB,EAAKk1B,EACRqE,EAAc,EAChBC,EAAe,CAEjB,KAAKz6B,EAAI,EAAGA,EAAIg2B,EAAUjyB,OAAO1D,OAAQL,IACvCiB,EAAM+0B,EAAUjyB,OAAO/D,GACvBm2B,EAAkB,MAAPl1B,EAAc21B,EAAM0C,WAAWr4B,GAAO21B,EAAMkD,eACnD5D,EAAgBC,KAClBqE,IACIrE,EAASgE,SACXM,IAKN,IAAIC,IAAmB,CAEvB,IAAqB,IAAjBD,EACFtpB,EAAc9I,EAAU0I,SACnB,IAAI0pB,GAAgBD,EACzBrpB,EAAc9I,EAAUyI,QAKxB,KAHAK,KACAupB,EAAmBD,EAAeD,EAAc,EAAI,EAE/Cx6B,EAAI,EAAGA,EAAIg2B,EAAUjyB,OAAO1D,OAAQL,IACvCiB,EAAM+0B,EAAUjyB,OAAO/D,GACvBm2B,EAAkB,MAAPl1B,EAAc21B,EAAM0C,WAAWr4B,GAAO21B,EAAMkD,eACnD5D,EAAgBC,MACbuE,GAAoBvE,EAASgE,SAAWO,IAAqBvE,EAASgE,UACzEhpB,EAAYnN,KAAK/C,EAKzB,QACE8C,OAAQoN,EACRmlB,UAAWoE,GA3Cb,OACE32B,OAAQ6yB,EAAM4C,YAAYW,QAAU9xB,EAAUyI,IAAMzI,EAAU0I,KAC9DulB,WAAW,IA8CjBj3B,KAAK23B,iBAAmB,SAAS2D,GAG/B,IAAK,GAFD52B,GAAS42B,EAAcA,EAAY52B,OAAS,KAC5C62B,EAAax4B,EAAMe,QAAQY,GAAU,KAAiB,MAAVA,GAAkBA,IAAWsE,EAAUyI,KAAM,EAAO/M,IAAWsE,EAAU0I,MAAO,IAAUhN,EACjI/D,EAAI,EAAGA,EAAIg2B,EAAUjyB,OAAO1D,OAAQL,IAAK,CAChD,GAAIiB,GAAM+0B,EAAUjyB,OAAO/D,GACvBm2B,EAAkB,MAAPl1B,EAAc21B,EAAM0C,WAAWr4B,GAAO21B,EAAMkD,cAC3D,IAAI5D,EAAgBC,GAClB,GAAkB,MAAdyE,EACFzE,EAASgE,QAAUS,MACd,CACL,GAAIC,GAAY92B,EAAOmG,QAAQjJ,IAAQ,CACvCk1B,GAASgE,QAAUQ,EAAYrE,WAAauE,EAAYA,KAMhEx7B,KAAK43B,kBAAoB,WACvB,IAAKV,EAAc,CAEjB,IAAK,GADDqE,GAAa,KACR56B,EAAI,EAAGA,EAAIg2B,EAAUjyB,OAAO1D,OAAQL,IAAK,CAChD,GAAIiB,GAAM+0B,EAAUjyB,OAAO/D,GACvBm2B,EAAkB,MAAPl1B,EAAc21B,EAAM0C,WAAWr4B,GAAO21B,EAAMkD,cAC3D,IAAkB,MAAdc,EACFA,EAAazE,EAASgE,YAEtB,IAAIS,IAAezE,EAASgE,QAAS,CACnCS,EAAavB,CACb,QAKFuB,IAAevB,GACjBzC,EAAM4C,YAAYe,eAAgB,EAClC3D,EAAM4C,YAAYW,SAAU,IAE5BvD,EAAM4C,YAAYe,eAAgB,EAClC3D,EAAM4C,YAAYW,QAAUS,KA9lBpC,GAAIrV,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEjC,EAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SACzEwX,EAAWv6B,EAAQ,4BACnB6B,EAAQ7B,EAAQ,gBAChB8H,EAAY9H,EAAQ,oBACpB25B,EAAW35B,EAAQ,mBAErBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEb7f,YAAa,KACbpK,OAAQ,KACRg3B,cAAe,KACf9M,gBAAiB,WAEf,MADA5uB,MAAK8O,YAAc9O,KAAKymB,MAAMyI,eAAepgB,gBAG/C0pB,QAAS,WACP,GAAI9a,GAAYuG,EAAS4L,YAAY7vB,MAAMkpB,UAC3CjF,GAASsN,uBAAuB7T,GAChCA,EAAUwL,WAAWyB,YAAYjN,IAEnC4a,SAAU,SAAS1mB,EAAUC,EAAMC,EAAaC,GAC9C/R,KAAKymB,MAAMyI,eAAehZ,YAAYlW,KAAKymB,MAAMjjB,MAAOoO,EAAUC,EAAMC,EAAaC,GACrF/R,KAAKw4B,WAEPmD,YAAa,SAASz7B,GAGpB,IAFA,GAAIwd,GAAYuG,EAAS4L,YAAY7vB,MAAMkpB,WACvCmI,EAASnxB,EAAEmxB,QAAUnxB,EAAEoxB,WACV,MAAVD,GAAgB,CACrB,GAAIA,GAAU3T,EACZ,OAAO,CAET2T,GAASA,EAAOnI,WAGlBlpB,KAAKw4B,WAEPoD,aAAc,SAAS17B,GAGrB,IAFA,GAAI27B,GAAc77B,KAAKy1B,KAAKoG,YACxBxK,EAASnxB,EAAEmxB,QAAUnxB,EAAEoxB,WACV,MAAVD,GAAgB,CACrB,GAAIA,GAAUwK,EAKZ,YAJIA,EAAYC,cAAgBD,EAAY7K,eAC1CjuB,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,IAIzBmxB,GAASA,EAAOnI,WAGlBlpB,KAAKw4B,WAEPuD,mBAAoB,WAClBh5B,EAAMopB,iBAAiBtB,SAAU,YAAa7qB,KAAK27B,aACnD54B,EAAMopB,iBAAiBtB,SAAU,QAAS7qB,KAAK47B,cAC/C74B,EAAMopB,iBAAiBtsB,OAAQ,SAAUG,KAAKw4B,UAEhDzI,kBAAmB,WACjB/vB,KAAK07B,cAAclX,KAAKP,EAAS4L,YAAY7vB,QAE/Cy0B,qBAAsB,WACpB1xB,EAAMwpB,oBAAoB1B,SAAU,YAAa7qB,KAAK27B,aACtD54B,EAAMwpB,oBAAoB1B,SAAU,QAAS7qB,KAAK47B,cAClD74B,EAAMwpB,oBAAoB1sB,OAAQ,SAAUG,KAAKw4B,UAEnDnT,OAAQ,WAMN,QAAS2W,GAAej2B,EAAOk2B,GAC7B,MAAOhC,GAAWt1B,KAAKuhB,EAAM4E,cAC3B,MACErO,IAAK1W,GAEPmgB,EAAM4E,cACJ,MACEvC,UAAW,eAEbrC,EAAM4E,cAAc,SAClBxnB,KAAM,WACNyC,MAAOA,EACPm2B,eAAgB,aAGpBhW,EAAM4E,cACJ,MACEvC,UAAW,WACXtQ,MAAOgkB,GAAQl2B,GAEjBk2B,GAAQl2B,KAzBd,GAAIk0B,KAEJj6B,MAAK07B,cAAgB,GAAIhF,GAAc12B,KAAMA,KAAK8O,YAAYzL,MAAMwT,eAAe7W,KAAKymB,MAAMjjB,QAC9FxD,KAAK0E,OAAS1E,KAAK8O,YAAYzL,MAAMgT,eAAerW,KAAKymB,MAAMjjB,OA2B/Dw4B,EAAehzB,EAAUyI,IAAK,aAE9B,KAAK,GAAI9Q,GAAI,EAAGA,EAAIX,KAAK0E,OAAO1D,OAAQL,IAChB,MAAlBX,KAAK0E,OAAO/D,GACdq7B,EAAeh8B,KAAK0E,OAAO/D,IAE3Bq7B,EAAehzB,EAAU2I,MAAO,UAIpC,IAAIwqB,GAAcn8B,KAAKymB,MAAMyI,eAAe7rB,MAAM0B,OAAOwF,MAAMqT,mBAAmBE,UAC9E4I,EAAQ1mB,KAAKymB,MAAMyI,eAAevI,UAElCyV,EAAgBp8B,KAAK8O,YAAYzL,MAAMwT,eAAe7W,KAAKymB,MAAMjjB,MAErE,OAAO0iB,GAAM4E,cACX,SACEvC,UAAW,cACX7B,MAAOA,GAETR,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cACJ,MACEvC,UAAW,cAEbrC,EAAM4E,cAAc2Q,GAClB/2B,QAASsE,EAAU2J,UAAUC,MAAMlP,KAAMsF,EAAU2J,UAAUE,SAASnP,KAAMsF,EAAU2J,UAAUG,GAAGpP,KAAMsF,EAAU2J,UAAUI,IAAIrP,KAAMsF,EAAU2J,UAAUK,GAAGtP,KAAMsF,EAAU2J,UAAUM,IAAIvP,KAAMsF,EAAU2J,UAAUO,GAAGxP,KAAMsF,EAAU2J,UAAUQ,IAAIzP,MACvP8yB,cAAe4F,GAAiBA,EAAcxqB,SAAWwqB,EAAcxqB,SAASlO,KAAOsF,EAAU2J,UAAUC,MAAMlP,KACjH0yB,eAAgBp2B,KAAK07B,cAAchB,qBAGvCxU,EAAM4E,cACJ,MACEvC,UAAW,cACXtQ,MAAO,sCAET,MAEFiO,EAAM4E,cACJ,MACEvC,UAAW,eAEbrC,EAAM4E,cACJ,SACEpE,OACEtc,MAAO,SAGX8b,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAc,SAClBxnB,KAAM,OACN+4B,YAAa,YAGjBnW,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cACJ,OACEvC,UAAW,gBACXiJ,QAASxxB,KAAKs8B,aAEhB,WAQdpW,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cACJ,MACEyR,QAAS,IACThU,UAAW,iBAEbrC,EAAM4E,cACJ,SACEvC,UAAW,gBACXgO,IAAK,eAEPrQ,EAAM4E,cACJ,QACA,KACAmP,MAKR/T,EAAM4E,cACJ,MACEvC,UAAW,cAEbrC,EAAM4E,cACJ,MACEvC,UAAW,gBACXgU,QAAS,KAEXrW,EAAM4E,cAAc,SAClBxnB,KAAM,SACNilB,UAAW4T,EACXp2B,MAAO,KACP2gB,OACE8V,QAAO,UAGXtW,EAAM4E,cAAc,SAClBxnB,KAAM,SACNilB,UAAW4T,EACXp2B,MAAO,SACP2gB,OACE8V,QAAO,WAIbtW,EAAM4E,cACJ,MACEvC,UAAW,cAEbrC,EAAM4E,cAAc,MAAO,eA6XvC2R,mBAAoB,EACpBhL,eAAgB,GAChBiL,mBAAoB;AACpBC,2BAA4B,GAC5B1M,MAAS,QACT/I,YAAa,cAEf0V,IAAK,SAAS17B,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEnjB,EAAQ7B,EAAQ,eAElBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbtJ,OAAQ,WACN,GAAIha,GAAOrL,KAAKymB,MAAMpb,KAClBgB,EAAUrM,KAAKymB,MAAMpa,QACrBwwB,EAAe78B,KAAKymB,MAAMlc,MAAM0T,iBAEhC9S,IAEJ,IAAIkB,GAAWA,EAAQrL,OAAS,EAAG,CAEjC,IAAK,GADD87B,MACKC,EAAI,EAAGA,EAAI1wB,EAAQrL,OAAQ+7B,IAClCD,EAAUn4B,KAAKuhB,EAAM4E,cACnB,MACErO,IAAK,IAAMsgB,GAEb1wB,EAAQ0wB,IAGZ5xB,GAAKxG,KAAKuhB,EAAM4E,cACd,MACErO,IAAK,KAEPqgB,IAIJ,GAAIzxB,GAAQA,EAAKrK,OAAS,EACxB,IAAK,GAAIL,GAAI,EAAGA,EAAI0K,EAAKrK,OAAQL,IAAK,CACpC,GAAIsD,KACJ,IAAIlB,EAAMe,QAAQuH,EAAK1K,IACrB,IAAK,GAAI6N,GAAI,EAAGA,EAAInD,EAAK1K,GAAGK,OAAQwN,IAClCvK,EAAIU,KAAKuhB,EAAM4E,cACb,MACErO,IAAK9b,EAAI,GAAK6N,GAEhBnD,EAAK1K,GAAG6N,SAIZ,KAAK,GAAIob,KAAQve,GAAK1K,GAChB0K,EAAK1K,GAAGua,eAAe0O,IACzB3lB,EAAIU,KAAKuhB,EAAM4E,cACb,MACErO,IAAK9b,EAAI,GAAKipB,GAEhBve,EAAK1K,GAAGipB,IAKhBze,GAAKxG,KAAKuhB,EAAM4E,cACd,MACErO,IAAK9b,GAEPsD,IAKN,MAAOiiB,GAAM4E,cACX,SACEvC,UAAWsU,EAAalf,OAE1BuI,EAAM4E,cACJ,QACA,KACA3f,SAORsmB,eAAgB,GAChBxB,MAAS,UAEX+M,IAAK,SAAS97B,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEjC,EAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SACzEgZ,EAAc/7B,EAAQ,+BACtBqzB,EAAcrzB,EAAQ,+BACtB6B,EAAQ7B,EAAQ,gBAChB0G,EAAM1G,EAAQ,cACd25B,EAAW35B,EAAQ,oBACnBg8B,EAAO,CAETz9B,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,cACbC,gBAAiB,WAIf,MAHA5uB,MAAKk9B,OAASA,GAIZC,KACEvU,EAAG,EACHE,EAAG,GAELsU,UACExU,EAAG,EACHE,EAAG,GAELuU,WAAW,EACXC,UAAU,IAGdC,kBAAmB,SAASr9B,GAE1B,GAAiB,IAAbA,EAAE6sB,OAAN,CAEA,GAAIyQ,GAAex9B,KAAKy1B,KAAK+H,aACzBC,EAAkB5C,EAASpS,UAAU+U,GACrC1F,EAAkBjN,SAASC,cAAc,OAEzC4S,EAAqBxX,EAAMC,cAAc8W,GACzCU,EAAcD,GAChBl6B,MAAOxD,KAAKymB,MAAMjjB,MAAME,KACxBwrB,eAAgBlvB,KAAKymB,MAAMyI,gBAG7B4I,GAAgBvP,UAAYvoB,KAAKymB,MAAMyI,eAAe7rB,MAAM0B,OAAOwF,MAAMyT,mBAAmBN,UAC5Foa,EAAgBpR,MAAMqC,IAAM0U,EAAgB3U,EAAI,KAChDgP,EAAgBpR,MAAMmC,KAAO4U,EAAgB7U,EAAI,KACjDiC,SAAStM,KAAKwM,YAAY+M,GAE1B7T,EAASoB,OAAOsY,EAAa7F,GAG7B/0B,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,KAEvB8vB,mBAAoB,WACdhwB,KAAKymB,MAAMyI,eAAe7rB,MAAM0B,OAAOkF,gBACpCjK,KAAK0c,MAAM2gB,UAILr9B,KAAK0c,MAAM2gB,YAEpB9I,EAAYxB,eAAe/yB,MAC3B+C,EAAMopB,iBAAiBtB,SAAU,YAAa7qB,KAAK49B,eALnDrJ,EAAYxB,eAAe,MAC3BhwB,EAAMwpB,oBAAoB1B,SAAU,YAAa7qB,KAAK49B,gBAQ5D7N,kBAAmB,WACjB/vB,KAAKymB,MAAMyI,eAAe2O,qBAAqB79B,KAAK89B,gBAEtDrJ,qBAAsB,WACpBz0B,KAAKymB,MAAMyI,eAAe6O,uBAAuB/9B,KAAK89B,eACtD/6B,EAAMwpB,oBAAoB1B,SAAU,YAAa7qB,KAAK49B,cAExDjC,YAAa,SAASz7B,GAEpB,GAAiB,IAAbA,EAAE6sB,OAAN,CAEA,GAAI7sB,EAAE89B,QACJh+B,KAAKymB,MAAMyI,eAAepgB,YAAY4Q,qBAAqB1f,KAAKymB,MAAMlf,QAASvH,KAAKymB,MAAMjjB,WACrF,CAEL,GAAIy6B,GAAUpD,EAASpS,UAAUxE,EAAS4L,YAAY7vB,OAClDk5B,EAAcn2B,EAAMiqB,eAAe9sB,EAGvCF,MAAKgiB,UACHqb,WAAW,EACXa,aACEtV,EAAGqV,EAAQrV,EAAIsQ,EAAYjM,MAC3BnE,EAAGmV,EAAQnV,EAAIoQ,EAAYhM,OAE7BkQ,UACExU,EAAGsQ,EAAYjM,MACfnE,EAAGoQ,EAAYhM,SAMrBnqB,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,KAEvBi+B,UAAW,SAASj+B,GAElB,GAAIk+B,GAAYp+B,KAAK0c,MAAM4gB,QAE3Bt9B,MAAKgiB,UACHqb,WAAW,EACXC,UAAU,EACVe,KAAM,KACNlB,KACEvU,EAAG,EACHE,EAAG,KAIF5oB,EAAE89B,SAAYI,GAEjBp+B,KAAKymB,MAAMyI,eAAe7pB,KAAKrF,KAAKymB,MAAMlf,QAASvH,KAAKymB,MAAMjjB,QAGlEo6B,YAAa,SAAS19B,GAEpB,GAAKF,KAAKymB,MAAMyI,eAAe7rB,MAAM0B,OAAOkF,eAAkBjK,KAAK0c,MAAM2gB,UAAzE,CAEA,GAAIgB,GAAO,KACPnF,EAAcn2B,EAAMiqB,eAAe9sB,EAKrCm+B,GAHGr+B,KAAK0c,MAAM4gB,SAGPt9B,KAAK0c,MAAM2hB,KAFXxD,EAAS1R,QAAQlF,EAAS4L,YAAY7vB,MAK/C,IAAIs+B,IACF1V,EAAGsQ,EAAYjM,MAAQjtB,KAAK0c,MAAMwhB,YAAYtV,EAC9CE,EAAGoQ,EAAYhM,MAAQltB,KAAK0c,MAAMwhB,YAAYpV,EAG3C9oB,MAAK0c,MAAM4gB,UAAYgB,EAAO1V,GAAK5oB,KAAK0c,MAAMygB,IAAIvU,GAAK0V,EAAOxV,GAAK9oB,KAAK0c,MAAMygB,IAAIrU,IACrF9oB,KAAKgiB,UACHsb,UAAU,EACVe,KAAMA,EACNlB,IAAKmB,IAGP/J,EAAYV,gBAGd9wB,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,KAEvB49B,cAAe,WACb7Z,EAAS4L,YAAY7vB,MAAMuoB,UAAYvoB,KAAKymB,MAAMyI,eAAe7rB,MAAM0B,OAAOwF,MAAMqT,mBAAmBC,aAEzGwH,OAAQ,WACN,GAAItlB,GAAOC,KACPu+B,GACF1V,KAAM9oB,EAAK2c,MAAMygB,IAAIvU,EAAI,KACzBG,IAAKhpB,EAAK2c,MAAMygB,IAAIrU,EAAI,KACxB7b,SAAUlN,EAAK2c,MAAM4gB,SAAW,QAAU,GAC1CkB,OAAQ,IAGNz+B,GAAK2c,MAAM2hB,OACbE,EAASn0B,MAAQrK,EAAK2c,MAAM2hB,KAAKj0B,MAAQ,KAG3C,IAAIq0B,GAAqD,QAAhC1+B,EAAK0mB,MAAMjjB,MAAM6B,KAAKC,MAAkB,WAE/B,SAAhCvF,EAAK0mB,MAAMjjB,MAAM6B,KAAKC,MAAmB,YAEzC,GACEo5B,GAAe3+B,EAAK2c,MAAM4gB,SAAW,GAAK,aAAet9B,KAAKymB,MAAMyI,eAAe7rB,MAAMyT,gBAAgB9W,KAAKymB,MAAMjjB,MAAME,MAAQ,mBAAqB,IACvJi7B,EAAe,EASnB,OARI5+B,GAAK0mB,MAAMlf,UAAYK,EAAI1B,KAAK9C,OAClCu7B,EAAezY,EAAM4E,cACnB,QACA,KACA,KAAO/qB,EAAK0mB,MAAMjjB,MAAM0D,kBAAoB,MAIzCgf,EAAM4E,cACX,OACErO,IAAK1c,EAAK0mB,MAAMjjB,MAAME,KACtB6kB,UAAWvoB,KAAKymB,MAAMyI,eAAe7rB,MAAM0B,OAAOwF,MAAMqT,mBAAmBC,YAC3E8d,YAAa37B,KAAK27B,YAClBwC,UAAWn+B,KAAKm+B,UAChBzX,MAAO6X,GAETrY,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cACJ,MACEvC,UAAW,WAEbxoB,EAAK0mB,MAAMjjB,MAAMyE,QACjB02B,GAEFzY,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAc,OAClBvC,UAAW,kBAAoBkW,KAGnCvY,EAAM4E,cACJ,MACEvC,UAAW,UAEbrC,EAAM4E,cAAc,OAClByL,IAAK,eACLhO,UAAWmW,EACX/C,YAAa57B,EAAK2c,MAAM4gB,SAAW,KAAOt9B,KAAKu9B,8BAW/DrI,aAAc,EACdzD,eAAgB,GAChBiL,mBAAoB,GACpB5H,8BAA+B,GAC/B8J,8BAA+B,GAC/B3O,MAAS,QACT/I,YAAa,cAEf2X,IAAK,SAAS39B,EAASzB,EAAQD,GA+L7B,QAASs/B,GAAaC,GACpB,GAAIrZ,GAAOqZ,EAAUrZ,KACjB4C,EAAY5C,EAAK7D,QACW,yBAAlB6D,EAAK9D,QA0BnB,OAxBK8D,GAAKxd,YACRogB,GAAa,gBAGX5C,EAAKpiB,OAASoL,EAAUoC,WAAWgP,WAAa4F,EAAK3F,WACvDuI,GAAa,kBAGX5C,EAAKpiB,OAASoL,EAAUoC,WAAWyQ,cACd,IAAnBmE,EAAKxhB,IAAIG,MACXikB,GAAa,mBACJ5C,EAAKxhB,IAAIG,MAAQ,IAC1BikB,GAAa,mBAIbyW,EAAUC,WACZ1W,GAAa,KAAyB,4BAAlB5C,EAAK9D,SAAyC,OAAS,UAAY,aAGrFmd,EAAUE,UACZ3W,GAAa,iBAGRA,EA1NT,GAAIpC,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEjC,EAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SACzEvV,EAAYxN,EAAQ,oBACpB25B,EAAW35B,EAAQ,oBACnBg+B,EAAe,KACfC,EAAc,IAEhB1/B,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEb1O,OAAQ,WACNjgB,KAAKymB,MAAMyI,eAAepgB,YAAY2W,UAAUzlB,KAAKymB,MAAMf,OAE7D1F,SAAU,WACRhgB,KAAKymB,MAAMyI,eAAepgB,YAAY6W,YAAY3lB,KAAKymB,MAAMf,OAE/D0Z,gBAAiB,WACf,GAAIC,GAAOpb,EAAS4L,YAAY7vB,MAC5B0lB,EAAO1lB,KAAKymB,MAAMf,IAGtB,IAFA2Z,EAAKC,MAAQD,EAAKC,UAEb5Z,EAAKxd,UAGH,CACL,GAAIq3B,GAAkBv/B,KAAKy1B,KAAK+J,YAE5BC,KACAC,EAAiC,MAAhBR,EACjBS,GAAiB3/B,KAAKymB,MAAMuY,UAA2B,MAAfG,EACxClD,EAAOoD,EAAKlJ,aAAekJ,EAAKO,SAUpC,IARIF,GACFD,EAAS96B,KAAK,gBAGZg7B,GACFF,EAAS96B,KAAK,qBAGZ86B,EAASz+B,OAAS,EAAG,CACvB,GAAI6+B,GAAYhF,EAASvR,SAAS+V,EAAMI,GAAU,EAE9CC,KACFR,EAAejgB,WAAW4gB,EAAU,KAGlCF,IACFR,EAAclgB,WAAW4gB,EAAUH,EAAiB,EAAI,KAI5D7E,EAASxS,YAAYgX,EAAM,eAE3BA,EAAKC,MAAMQ,UAAW,EAClB7D,GAAQoD,EAAKC,MAAMS,WAAcV,EAAKC,MAAMU,aAC9CX,EAAKC,MAAMS,UAAY9D,EACvBoD,EAAKC,MAAMU,WAAanF,EAAS1R,QAAQoW,GAAiBn1B,OAE5Di1B,EAAKC,MAAMW,SAAWjgC,KAAKymB,MAAMf,KAAK1U,OAAM,IAAS,EACrDquB,EAAKC,MAAMY,SAAWlgC,KAAKymB,MAAMf,KAAKzU,OAAM,IAAS,EACrDouB,EAAKC,MAAMJ,aAAeA,EAC1BG,EAAKC,MAAMa,cAAgBjB,EAC3BG,EAAKC,MAAMc,iBAAmBpgC,KAAKymB,MAAMuY,SAAW,EAAIG,EACxDE,EAAKC,MAAMe,kBAAoB,MAzC/BhB,GAAKC,MAAMQ,UAAW,GA4C1B/P,kBAAmB,WACjB/vB,KAAKo/B,mBAEPpP,mBAAoB,WAClBhwB,KAAKo/B,mBAEPkB,sBAAuB,SAASC,EAAWC,GACzC,OAAID,EAAU7a,MAAQ6a,EAAU7a,MAAQ1lB,KAAKymB,MAAMf,MAAS1lB,KAAKygC,qBAAwBF,EAAU7a,KAAKxd,WAGjG,GAFE,GAIXu4B,qBAAqB,EACrBpb,OAAQ,WACN,GAGItf,GACA26B,EAJA3gC,EAAOC,KACP0lB,EAAO1lB,KAAKymB,MAAMf,KAClBib,KAGAC,GAAe,CAInB,QAFA5gC,KAAKygC,oBAAsB/a,EAAKxd,UAExBwd,EAAK9D,UACX,IAAK,2BACL,IAAK,8BACH,GAAIif,GAAYnb,EAAKpiB,OAASoL,EAAUoC,WAAWsR,SAAWsD,EAAKxhB,IAAIV,MAAMyD,SAASiB,SAAWwd,EAAKxhB,IAAIV,MAAMyD,SAASkB,YACrH24B,EAAapb,EAAKpiB,OAASoL,EAAUoC,WAAWgP,YAAc4F,EAAK3F,QACnE8gB,IAAaC,GACfF,GAAe,EAEfD,EAAWh8B,KAAKuhB,EAAM4E,cACpB,SACErO,IAAK,eACL8Z,IAAK,eAEPrQ,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cACJ,MACEvC,UAAW,eAEbrC,EAAM4E,cAAc,OAClBvC,UAAW,gBAAkBsY,EAAY,OAAS,SAClDrP,QAASqP,EAAY7gC,KAAKggB,SAAWhgB,KAAKigB,UAG9CiG,EAAM4E,cACJ,MACEvC,UAAW,WAEbrC,EAAM4E,cAAc,OAClBuL,yBACEC,OAAQ5Q,EAAK3f,OAAS,kBAQlCA,GAAS2f,EAAK3f,OAAS,WAAa2f,EAAKpiB,OAASoL,EAAUoC,WAAWgP,UAAY,SAAW,GAEhG,MACF,KAAK,2BACH/Z,EAAQ2f,EAAK3f,MAAMkC,OACnB,MACF,KAAK,0BACHlC,EAAQ2f,EAAKtkB,WAAaskB,EAAKtkB,UAAUgG,WAAase,EAAKtkB,UAAUgG,aAAase,EAAK3f,OAAS2f,EAAK3f,MACrG26B,EAAY,WACV3gC,EAAK0mB,MAAMyI,eAAepgB,YAAYuX,UAAUX,EAAM3lB,EAAK0mB,MAAMyI,eAAe9gB,KAOtF,IAAKwyB,EAAc,CACjB,GAAIG,EACJ,QAAQrb,EAAK9D,UACX,IAAK,0BACHmf,EAAkB,WAClB,MACF,SACuB,4BAAjBrb,EAAK9D,UAA0C8D,EAAKpiB,OAASoL,EAAUoC,WAAWyQ,cACpFwf,EAAkB,WAGxBJ,EAAWh8B,KAAKuhB,EAAM4E,cACpB,OACErO,IAAK,aACL8Z,IAAK,cACLhO,UAAWwY,GAEb7a,EAAM4E,cAAc,OAClBuL,yBACEC,OAAQvwB,GAAS,cAMzB,MAAOmgB,GAAM4E,cACX,MACEvC,UAAWuW,EAAa9+B,KAAKymB,OAC7Bua,cAAeN,EACfnE,QAAS7W,EAAK1U,QACdiwB,QAASvb,EAAKzU,SAEhBiV,EAAM4E,cACJ,MACA,KACA6V,SAuCRO,mBAAoB,GACpBxE,mBAAoB,GACpBzM,MAAS,QACT/I,YAAa,cAEfia,IAAK,SAASjgC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEjC,EAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SACzEsQ,EAAcrzB,EAAQ,+BACtBkgC,EAAgBlgC,EAAQ,4CAExBmgC,GADUngC,EAAQ,2BACHA,EAAQ,4CACvBogC,EAAgBpgC,EAAQ,4CACxBqgC,EAAargC,EAAQ,yCACrBsgC,EAAQtgC,EAAQ,yBAChB25B,EAAW35B,EAAQ,oBACnBolB,EAAU,EACVmb,IAEFhiC,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbvgB,GAAIkY,IACJjjB,MAAO,KACPyL,YAAa,KACb6X,UAAW,KACXiI,gBAAiB,WAQf,MAPA2F,GAAY/P,KAAKxkB,MAEjByhC,EAAqBzhC,KAAKoO,OAC1BpO,KAAK69B,qBAAqB79B,KAAK89B,eAE/B99B,KAAK8O,YAAc9O,KAAKymB,MAAM3X,YAC9B9O,KAAKqD,MAAQrD,KAAK8O,YAAYzL,UAGhCgC,KAAM,SAASkC,EAAS/D,GACtBxD,KAAK8O,YAAYzJ,KAAKkC,EAAS/D,IAEjC0vB,WAAY,SAASnG,EAAQlH,EAAY5Y,GACvCjN,KAAK8O,YAAYhC,UAAUigB,EAAOtG,MAAMjjB,MAAME,KAAMqpB,EAAOtG,MAAMlf,QAASse,EAAY5Y,IAExFiJ,YAAa,SAASrM,EAAW+H,EAAUC,EAAMC,EAAaC,GAC5D/R,KAAK8O,YAAYoH,YAAYrM,EAAW+H,EAAUC,EAAMC,EAAaC,IAEvE8rB,qBAAsB,SAAS6D,GACzBA,GACFD,EAAqBzhC,KAAKoO,IAAIzJ,KAAK+8B,IAGvC3D,uBAAwB,SAAS2D,GAC/B,GAAI/gC,EACA+gC,KAAiB/gC,EAAI8gC,EAAqBzhC,KAAKoO,IAAIvD,QAAQ62B,KAAkB,GAC/ED,EAAqBzhC,KAAKoO,IAAIX,OAAO9M,EAAG,IAG5ColB,YAAa,SAAS9a,GACpB,GAAIjL,KAAK8O,YAAYzL,MAAM0B,OAAOiG,SAASC,GAEzC,IAAK,GAAItK,GAAI,EAAGA,EAAI8gC,EAAqBzhC,KAAKoO,IAAIpN,OAAQL,IACxD8gC,EAAqBzhC,KAAKoO,IAAIzN,MAIpCm9B,cAAe,WACb,GAAI6D,GAAW1d,EAAS4L,YAAY7vB,MAChCme,EAAUne,KAAK8O,YAAYzL,MAAM0B,OAAOwF,MAAMkT,iBAClDkkB,GAASpZ,UAAYpK,EAAQT,UAC7BikB,EAASjR,SAAS,GAAGnI,UAAYpK,EAAQR,OAE3CqS,mBAAoB,WAClBhwB,KAAK4hC,qBAEP7R,kBAAmB,WACjB,GAAI8R,GAAYhH,EAASvR,SAASrF,EAAS4L,YAAY7vB,OAAQ,cAAe,cAAc,EAC5FA,MAAK2mB,WACH6I,WAAYqS,EAAU,GACtBpS,SAAUoS,EAAU,IAGtB7hC,KAAK4hC,qBAEPA,kBAAmB,WACjB,GAAIrS,GAAa6R,EAAcQ,kBAAkB5hC,KACjDuvB,GAAWC,WAAaxvB,KAAK2mB,UAAU6I,WACvCD,EAAWE,SAAWzvB,KAAK2mB,UAAU8I,SAErCzvB,KAAKy1B,KAAK7F,MAAM5N,UACd6M,WAAW,EACXU,WAAYA,KAGhBlK,OAAQ,WAEN,GAAItlB,GAAOC,KAEP+E,EAAS/E,KAAK8O,YAAYzL,MAAM0B,OAChCoZ,EAAUpZ,EAAOwF,MAAMkT,kBAEvBqkB,IAQJ,OAPI/8B,GAAOqF,QACT03B,EAAS13B,MAAQrF,EAAOqF,OAEtBrF,EAAOsF,SACTy3B,EAASz3B,OAAStF,EAAOsF,QAGpB6b,EAAM4E,cACX,OACEvC,UAAWpK,EAAQT,UACnBgJ,MAAOob,EACPvL,IAAK,SAEPrQ,EAAM4E,cACJ,SACE1c,GAAI,OAASrO,EAAKqO,GAClBmoB,IAAK,oBACLhO,UAAWpK,EAAQR,OAErBuI,EAAM4E,cACJ,WACA,KACA5E,EAAM4E,cAAc,OAClByL,IAAK,YAEPrQ,EAAM4E,cAAc,OAClByL,IAAK,aAGTrQ,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,MACEyL,IAAK,gBAEPrQ,EAAM4E,cACJ,MACEyR,QAAS,KAEXrW,EAAM4E,cAAcuW,GAClBnS,eAAgBnvB,MAItBmmB,EAAM4E,cACJ,MACEyL,IAAK,cAEPrQ,EAAM4E,cAAc,KAAM,MAC1B5E,EAAM4E,cACJ,MACEpE,OACEqb,QAAS,wBAGb7b,EAAM4E,cAAcwW,GAClBpS,eAAgBnvB,MAItBmmB,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cACJ,MACEpE,OACEzZ,SAAU,aAGdiZ,EAAM4E,cAAcyW,GAClBrS,eAAgBnvB,EAChBw2B,IAAK,gBAGTrQ,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAc0W,GAClBtS,eAAgBnvB,EAChByK,UAAWzF,EAAOyF,UAClB+rB,IAAK,oBAWrBmG,mBAAoB,GACpBsF,wBAAyB,GACzBlN,8BAA+B,GAC/BmN,2CAA4C,GAC5CC,wCAAyC,GACzCC,2CAA4C,GAC5CC,0CAA2C,GAC3CC,0BAA2B,GAC3BpS,MAAS,QACT/I,YAAa,cAEfob,IAAK,SAASphC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEqc,EAAYrhC,EAAQ,6BACpB0G,EAAM1G,EAAQ,aAEhBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbtJ,OAAQ,WACN,GAMImV,GANAz6B,EAAOC,KAIPwiC,GAFgBxiC,KAAKymB,MAAMxiB,IAAIjD,OAAS,EAChChB,KAAKymB,MAAMxiB,IAAI,IACH,GACpBw+B,EAAc1iC,EAAK0mB,MAAMgc,YAGzBC,KAEAC,GAAY,CAwChB,OAtCAnI,GAAQx6B,KAAKymB,MAAMxiB,IAAI2B,IAAI,SAAS8f,EAAMpU,GAExC,GAAIsxB,IAAa,CAsBjB,OAjBIld,GAAKxd,WAAau6B,IAChB/c,EAAKxhB,KACHwhB,EAAKxhB,IAAI4B,QAA2DrB,SAAjDg+B,EAAYI,aAAand,EAAKxhB,IAAIG,MAAQ,KAAqBqhB,EAAKxhB,IAAI4B,QAAuDrB,SAA7Cg+B,EAAYI,aAAand,EAAKxhB,IAAIG,SAAyBqhB,EAAKxhB,IAAI8B,OAAOF,QAAU28B,EAAYI,aAAand,EAAKxhB,IAAIG,MAAQ,KAAOqhB,EAAKxhB,IAAI8B,WACtP28B,GAAY,EACZF,EAAYI,aAAand,EAAKxhB,IAAIG,OAASqhB,EAAKxhB,KAExCu+B,EAAYI,aAAa,KACnCF,EAAYF,EAAYI,aAAa,IAAO,GAGzCL,GAAsBziC,EAAK0mB,MAAMlf,UAAYK,EAAI1B,KAAK9C,MAAQrD,EAAK0mB,MAAMlf,UAAYK,EAAI1B,KAAKhD,SAAkD,IAAtCu/B,EAAYK,wBAEzHF,EAAaJ,GAAoB,EACjCC,EAAYK,sBAAwBpd,EAAKzU,QAAU,IAIhDiV,EAAM4E,cAAcyX,GACzB9lB,IAAKnL,EACLoU,KAAMA,EACNsZ,SAAU4D,EACV3D,QAAS0D,EACTzT,eAAgBnvB,EAAK0mB,MAAMyI,mBAK3BuT,GAAeA,EAAYK,sBAAwB,IAAMN,GAC3DC,EAAYK,wBAGP5c,EAAM4E,cACX,MACEpE,MAAOgc,GAETlI,QAMNtF,aAAc,EACd6N,4BAA6B,GAC7B9S,MAAS,UAEX+S,IAAK,SAAS9hC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEte,EAAM1G,EAAQ,cACd+hC,EAAc/hC,EAAQ,+BACtBgiC,EAAahiC,EAAQ,6BAEvBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbtJ,OAAQ,WACN,GAAItlB,GAAOC,KACP+E,EAAS/E,KAAKymB,MAAMyI,eAAepgB,YAAYzL,MAAM0B,OAErDo+B,EAAgBp+B,EAAOC,aAAaY,IAAI,SAASpC,EAAO8N,GAC1D,MAAO4U,GAAM4E,cAAcmY,GACzBxmB,IAAKjZ,EAAME,KACXF,MAAOA,EACP+D,QAASK,EAAI1B,KAAKhD,QAClB+J,SAAUqE,EACV4d,eAAgBnvB,EAAK0mB,MAAMyI,kBAI/B,OAAOhJ,GAAM4E,cAAcoY,GACzB/zB,QAASg0B,EACT57B,QAASK,EAAI1B,KAAKhD,eAMxBgyB,aAAc,EACdkO,6BAA8B,GAC9BC,8BAA+B,GAC/BpT,MAAS,UAEXqT,IAAK,SAASpiC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEte,EAAM1G,EAAQ,cACdqiC,EAAWriC,EAAQ,2BAErBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbtJ,OAAQ,WACN,GAAItlB,GAAOC,KACP8O,EAAc9O,KAAKymB,MAAMyI,eAAepgB,YACxC00B,EAAmD,IAAvC10B,EAAY1D,QAAQiB,QAAQrL,OAAe,GAAK,gBAE5DyhC,GACFK,sBAAuB,EACvBD,iBAGEnyB,EAAgB5B,EAAY1D,QAAQiB,QAAQzG,IAAI,SAASk3B,EAAWxrB,GACtE,MAAO4U,GAAM4E,cAAcyY,GACzB9mB,IAAKnL,EACLrN,IAAK64B,EACLv1B,QAASK,EAAI1B,KAAKhD,QAClBgsB,eAAgBnvB,EAAK0mB,MAAMyI,eAC3BuT,YAAaA,KAIjB,OAAOvc,GAAM4E,cACX,OACEvC,UAAW,wBAA0Bib,EACrCC,QAASzjC,KAAKymB,MAAMyI,eAAeuU,SAErCvd,EAAM4E,cACJ,SACEvC,UAAW,eAEbrC,EAAM4E,cAAc,WAAY,MAChC5E,EAAM4E,cACJ,QACA,KACApa,UAQVwkB,aAAc,EACdwO,2BAA4B,GAC5BzT,MAAS,UAEX0T,IAAK,SAASziC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEte,EAAM1G,EAAQ,cACdqiC,EAAWriC,EAAQ,2BAErBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbtJ,OAAQ,WACN,GAAItlB,GAAOC,KACP8O,EAAc9O,KAAKymB,MAAMyI,eAAepgB,YACxC2zB,GACFK,sBAAuB,EACvBD,iBAGEe,EAAY90B,EAAYsC,SAASxL,IAAI,SAASuL,EAASG,GACzD,MAAO4U,GAAM4E,cAAcyY,GACzB9mB,IAAKnL,EACLrN,IAAKkN,EACL5J,QAASK,EAAI1B,KAAK9C,KAClBq/B,YAAaA,EACbvT,eAAgBnvB,EAAK0mB,MAAMyI,kBAI/B,OAAOhJ,GAAM4E,cACX,OACEvC,UAAW,kCACXkb,QAASzjC,KAAKymB,MAAMyI,eAAeuU,SAErCvd,EAAM4E,cACJ,SACEvC,UAAW,eAEbrC,EAAM4E,cAAc,WAAY,MAChC5E,EAAM4E,cACJ,QACA,KACA8Y,UAQV1O,aAAc,EACdwO,2BAA4B,GAC5BzT,MAAS,UAEX4T,IAAK,SAAS3iC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpE+c,EAAc/hC,EAAQ,+BACtBgiC,EAAahiC,EAAQ,8BACrB4iC,EAAqB5iC,EAAQ,sCAC7B0G,EAAM1G,EAAQ,aAEhBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbtJ,OAAQ,WACN,GAAItlB,GAAOC,KACP+E,EAAS/E,KAAKymB,MAAMyI,eAAepgB,YAAYzL,MAAM0B,OAErDg/B,EAAah/B,EAAOE,UAAUW,IAAI,SAASpC,EAAO8N,GACpD,MAAO4U,GAAM4E,cAAcmY,GACzBxmB,IAAKjZ,EAAME,KACXF,MAAOA,EACP+D,QAASK,EAAI1B,KAAK/C,KAClB8J,SAAUqE,EACV4d,eAAgBnvB,EAAK0mB,MAAMyI,kBAI/B,OAAInqB,GAAOyF,UAAUzB,QACZmd,EAAM4E,cAAcgZ,GACzB30B,QAAS40B,EACTx8B,QAASK,EAAI1B,KAAK/C,OAGb+iB,EAAM4E,cAAcoY,GACzB/zB,QAAS40B,EACTx8B,QAASK,EAAI1B,KAAK/C,YAO1B+xB,aAAc,EACdkO,6BAA8B,GAC9BY,qCAAsC,GACtCX,8BAA+B,GAC/BpT,MAAS,UAEXgU,IAAK,SAAS/iC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEjC,EAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SACzEsf,EAAWriC,EAAQ,4BACnB0G,EAAM1G,EAAQ,aAEhBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbuV,YAAa,SAAS5Z,GACpB,GAAI+U,GAAOpb,EAAS4L,YAAY7vB,MAC5BuqB,EAAevqB,KAAKy1B,KAAK0O,QAC7B9E,GAAK3Y,MAAMgE,YAAc,OAEzBH,EAAa6Z,UAAY,EACzB,KAAK,GAAIzjC,GAAI,EAAGA,EAAI2pB,EAAOtpB,OAAQL,IAAK,CACtC,GAAIiqB,GAAMC,SAASC,cAAc,MACjCF,GAAIlE,MAAMtc,MAAQkgB,EAAO3pB,GAAK,EAAI,KAClC4pB,EAAaQ,YAAYH,GAE3ByU,EAAK3Y,MAAMgE,YAAc,SAE3BrF,OAAQ,WACN,GAAItlB,GAAOC,KACP8O,EAAc9O,KAAKymB,MAAMyI,eAAepgB,YACxC00B,EAAgD,IAApC10B,EAAY3D,KAAKkB,QAAQrL,OAAe,GAAK,aAEzDyhC,GACFK,sBAAuB,EACvBD,iBAGEpyB,EAAa3B,EAAY3D,KAAKkB,QAAQzG,IAAI,SAASk3B,EAAWxrB,GAChE,MAAO4U,GAAM4E,cAAcyY,GACzB9mB,IAAKnL,EACLrN,IAAK64B,EACLv1B,QAASK,EAAI1B,KAAK/C,KAClBs/B,YAAaA,EACbvT,eAAgBnvB,EAAK0mB,MAAMyI,kBAI/B,OAAOhJ,GAAM4E,cACX,OACEvC,UAAW,wBAA0Bib,EACrCC,QAASzjC,KAAKymB,MAAMyI,eAAeuU,SAErCvd,EAAM4E,cACJ,SACEvC,UAAW,eAEbrC,EAAM4E,cAAc,YAClByL,IAAK,aAEPrQ,EAAM4E,cACJ,QACA,KACAra,UAQVykB,aAAc,EACdwO,2BAA4B,GAC5BzT,MAAS,QACT/I,YAAa,cAEfmd,IAAK,SAASnjC,EAASzB,EAAQD,GAuF7B,QAAS8kC,GAAkBnR,EAAW0N,EAAW0D,GAC/C,GAEElG,GAFEt+B,EAAOC,KACTq/B,EAAOpb,EAAS4L,YAAYsD,EAG9BnzB,MAAKq/B,KAAOwB,EAAYxB,EAAK3O,SAAS,GAAK2O,EAE3ChB,EAAOxD,EAAS1R,QAAQnpB,KAAKq/B,MAC7Br/B,KAAKwkC,EAAInG,EAAKj0B,MACdpK,KAAK+8B,EAAIsB,EAAKh0B,OAEdrK,KAAKykC,SAAW,SAASC,EAAW3+B,GAClChG,EAAKs/B,KAAK3Y,MAAMge,GAAa3+B,EAAQ,MAGvC/F,KAAK2kC,eAAiB,SAASD,EAAW3+B,GACxChG,EAAKs/B,KAAKnW,WAAWxC,MAAMge,GAAa3+B,EAAQ,MAGlD/F,KAAK4kC,iBAAmB,SAASC,GAO/B,IAAK,GANDt2B,IACFjM,OACAwiC,MAAO,GAIAnkC,EAAI,EAAGA,EAAIZ,EAAKglC,UAAU/jC,OAAQL,IACzC4N,EAAOjM,IAAIqC,KAAKlC,KAAKH,IAAIvC,EAAKglC,UAAUpkC,GAAIkkC,EAAcE,UAAUpkC,KACpE4N,EAAOu2B,OAASv2B,EAAOjM,IAAI3B,EAG7B,OAAO4N,IAGTvO,KAAKglC,WAAa,SAASj/B,GACrBA,EAAQ,IACVhG,EAAKykC,GAAKz+B,EACVhG,EAAKglC,UAAUhlC,EAAKglC,UAAU/jC,OAAS,IAAM+E,IAI/B,UAAdw+B,GAEFU,EAAmBjlC,MAIvB,QAASilC,GAAmBC,GAC1B,GAAIA,GAAaA,EAAU7F,KAAM,CAK/B,IAAK,GAHD8F,GAAMD,EAAU7F,KAChB0F,KAEKhhC,EAAW,EAAGA,EAAWohC,EAAIh6B,KAAKnK,OAAQ+C,IAAY,CAQ7D,IAAK,GAND4M,GAAUw0B,EAAIh6B,KAAKpH,GAEnBqhC,EAAa,EACbC,EAAY,KAGPC,EAAY,EAAGA,EAAY30B,EAAQ6pB,MAAMx5B,OAAQskC,IAAa,CAErE,GAAIC,GAAW50B,EAAQ6pB,MAAM8K,EAE7B,IAAIC,EAASjG,MAAMQ,SAQjB,IAAK,GALD0F,GAAY/iC,KAAKsnB,KAAKwb,EAASjG,MAAMU,WAAauF,EAASjG,MAAMW,SAAWsF,EAASjG,MAAMJ,aAAeqG,EAASjG,MAAMa,cAAgBoF,EAASjG,MAAMc,iBAAmBmF,EAASjG,MAAMe,mBAKrLoF,GAHMF,EAASjG,MAAMY,SAAW,GAAKqF,EAASjG,MAAMY,UAAYiF,EAAIh6B,KAAKnK,OAAS+C,EAG1E,GAAG0hC,EAAQF,EAASjG,MAAMW,SAAUwF,IAAS,CAM5D,IAFAJ,EAAYN,EAAUK,GAEfC,GAAaA,EAAUK,QAAU,GACtCL,EAAUK,UACVN,IACAC,EAAYN,EAAUK,EAGpBL,GAAU/jC,OAAS,EAAIokC,EACzBL,EAAUpgC,MACRyF,MAAOo7B,IAEAA,EAAYT,EAAUK,GAAYh7B,QAC3C26B,EAAUK,GAAYh7B,MAAQo7B,GAGhCT,EAAUK,GAAYM,QAAUH,EAASjG,MAAMY,SAAW,EAG1DkF,KAON,IADAC,EAAYN,EAAUK,GACfC,GACDA,EAAUK,QAAU,GACtBL,EAAUK,UAEZN,IACAC,EAAYN,EAAUK,GAK1BF,EAAUV,EAAI,EACdU,EAAUH,UAAYA,EAAUn/B,IAAI,SAASimB,EAAMva,GAEjD,MADA4zB,GAAUV,GAAK3Y,EAAKzhB,MACbyhB,EAAKzhB,SAzMlB,GAAI6Z,GAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SAC3E4W,EAAW35B,EAAQ,oBAEjBkgC,EAAgB3hC,EAAOD,SACzBoiC,kBAAmB,SAAS9O,GAC1B,MAAIA,GAAUhkB,YAAYzL,MAAM0B,OAAOyF,UAAUzB,QACxCq4B,EAAcuE,4BAA4B7S,OAEjDsO,GAAcwE,4BAA4B9S,IAG9C6S,4BAA6B,SAAS7S,GACpC,GAAI+S,GAAoB/S,EAAU2C,KAAKoQ,kBACrCC,EAAQ,GAAIxB,GAAkBxR,EAAU2C,KAAKqQ,OAC7CC,EAAU,GAAIzB,GAAkBxR,EAAU2C,KAAKuQ,cAC/CC,EAAQ,GAAI3B,GAAkBxR,EAAU2C,KAAKyQ,YAC7CC,EAAW,GAAI7B,GAAkBxR,EAAU2C,KAAKsO,YAEhDqC,GADQ,GAAI9B,GAAkBxR,EAAU2C,KAAK7F,OAChCntB,KAAKH,IAAI6jC,EAAS3B,EAAG,KAClC6B,EAAaP,EAAMtB,EAAI4B,EACvBE,EAAcxT,EAAUhkB,YAAYzL,MAAM0B,OAAOsF,OACjDk8B,EAAeD,EAAqBA,GAAeP,EAAQhJ,EAAIkJ,EAAMlJ,GAAxC,IAK/B,OAFAlC,GAASzQ,oBAAoByb,GAAoBO,EAAYC,KAG3Dj8B,MAAOi8B,EACPh8B,OAAQk8B,IAGZX,4BAA6B,SAAS9S,GAEpC,GAAI+S,GAAoB/S,EAAU2C,KAAKoQ,kBACrCC,EAAQ,GAAIxB,GAAkBxR,EAAU2C,KAAKqQ,OAC7Cx7B,EAAU,GAAIg6B,GAAkBxR,EAAU2C,KAAKnrB,SAC/Ck8B,EAAc,GAAIlC,GAAkBxR,EAAU2C,KAAKgR,YAAY,EAAM,SACrEC,EAAc,GAAIpC,GAAkBxR,EAAU2C,KAAKhlB,YAAY,EAAM,SACrEk2B,EAAe,GAAIrC,GAAkBxR,EAAU2C,KAAKmO,WAAW,EAAM,SACrEmC,EAAU,GAAIzB,GAAkBxR,EAAU2C,KAAKuQ,cAC/CC,EAAQ,GAAI3B,GAAkBxR,EAAU2C,KAAKyQ,YAC7CC,EAAW,GAAI7B,GAAkBxR,EAAU2C,KAAKsO,YAAY,GAC5D6C,EAAU,GAAItC,GAAkBxR,EAAU2C,KAAKoR,qBAC/CC,EAAU,GAAIxC,GAAkBxR,EAAU2C,KAAKsR,mBAC/CC,EAAkBL,EAAa/B,iBAAiB4B,GAChDS,EAAgBxkC,KAAKH,IAAIokC,EAAYlC,EAAG2B,EAAS3B,EAAG,IACpD0C,EAA0BzkC,KAAKJ,IAAI2kC,EAAgBlC,MAAQ,EAAGgB,EAAMtB,EAAIyC,EAAgBH,EAAQtC,GAChG8B,EAAcxT,EAAUhkB,YAAYzL,MAAM0B,OAAOsF,OACjD88B,EAAsBb,EAAqBA,GAAeh8B,EAAUA,EAAQyyB,EAAI,GAAK,IAAMgJ,EAAQhJ,EAAIkJ,EAAMlJ,EAAIyJ,EAAYzJ,EAAI6J,EAAQ7J,GAArG,KACpCqK,EAAwBD,EAA4B1kC,KAAKsnB,KAAKtnB,KAAKJ,IAAI8kC,EAAoBR,EAAa5J,IAA3D,IAG/C2J,GAAY1B,WAAWiC,EAAgBP,EAAYlC,GAGnD3J,EAASzQ,oBAAoBuc,EAAatH,KAAM2H,EAAgB1kC,KAGhEu4B,EAASzQ,oBAAoBoc,EAAYnH,KAAM2H,EAAgB1kC,KAG/Du4B,EAASzQ,oBAAoBsc,EAAYrH,KAAMqH,EAAY3B,WAE3D4B,EAAalC,SAAS,QAASuC,EAAgBlC,OAC/C0B,EAAY/B,SAAS,QAASuC,EAAgBlC,OAC9C4B,EAAYjC,SAAS,QAASwC,GAG9BN,EAAahC,eAAe,QAASuC,GACrCV,EAAY7B,eAAe,QAASuC,GAEhCE,IAEFT,EAAahC,eAAe,SAAUyC,GACtCV,EAAY/B,eAAe,SAAUyC,IAIvCvM,EAASzQ,oBAAoByb,GAAoBoB,EAAeC,EAAyBJ,EAAQtC,EAAG/hC,KAAKH,IAAIwjC,EAAMtB,GAAKyC,EAAgBC,EAA0BJ,EAAQtC,GAAI,KAE9K1R,EAAU2C,KAAKoR,oBAAoB/yB,UACnCgf,EAAU2C,KAAKsR,kBAAkBjzB,cA4MrC4oB,mBAAoB,GACpBxV,YAAa,cAEfmgB,IAAK,SAASnmC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpE+c,EAAc/hC,EAAQ,+BACtBgiC,EAAahiC,EAAQ,8BACrB0G,EAAM1G,EAAQ,aAEhBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbtJ,OAAQ,WACN,GAGIiiB,GAHAvnC,EAAOC,KACP+E,EAAS/E,KAAKymB,MAAMyI,eAAepgB,YAAYzL,MAAM0B,MAGzD,IAAIA,EAAOkF,cAAe,CACxB,GAAIs9B,GAAgBxiC,EAAO6G,kBAAkBhG,IAAI,SAASpC,EAAO8N,GAC/D,MAAO4U,GAAM4E,cAAcmY,GACzBxmB,IAAKjZ,EAAME,KACXF,MAAOA,EACP+D,QAAS,KACT0F,SAAUqE,EACV4d,eAAgBnvB,EAAK0mB,MAAMyI,kBAG/BoY,GAAmBphB,EAAM4E,cACvB,KACA,KACA5E,EAAM4E,cACJ,MACEvC,UAAW,mCAEbrC,EAAM4E,cACJ,MACA,KACA,WAGJ5E,EAAM4E,cACJ,MACEvC,UAAW,WAEbrC,EAAM4E,cAAcoY,GAClB/zB,QAASo4B,EACThgC,QAAS,aAKf+/B,GAAmB,IAGrB,IAAIE,GAAcziC,EAAOG,WAAWU,IAAI,SAASpC,EAAO8N,GACtD,MAAO4U,GAAM4E,cAAcmY,GACzBxmB,IAAKjZ,EAAME,KACXF,MAAOA,EACP+D,QAASK,EAAI1B,KAAK9C,KAClB6J,SAAUqE,EACV4d,eAAgBnvB,EAAK0mB,MAAMyI,mBAI3BuY,EAAiBvhB,EAAM4E,cACzB,KACA,KACA5E,EAAM4E,cACJ,MACEvC,UAAW,2BAEbrC,EAAM4E,cACJ,MACA,KACA,SAGJ5E,EAAM4E,cACJ,MACEvC,UAAW,SAEbrC,EAAM4E,cAAcoY,GAClB/zB,QAASq4B,EACTjgC,QAASK,EAAI1B,KAAK9C,QAKxB,OAAO8iB,GAAM4E,cACX,SACEvC,UAAW,6BAEbrC,EAAM4E,cACJ,QACA,KACAwc,EACAG,SAORvS,aAAc,EACdkO,6BAA8B,GAC9BC,8BAA+B,GAC/BpT,MAAS,UAEXyX,IAAK,SAASxmC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEjC,EAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SACzEsQ,EAAcrzB,EAAQ,+BACtBkgC,EAAgBlgC,EAAQ,4CACxBymC,EAAUzmC,EAAQ,2BAClBmgC,EAAengC,EAAQ,2CACvBogC,EAAgBpgC,EAAQ,4CACxBqgC,EAAargC,EAAQ,yCACrB0mC,EAAa1mC,EAAQ,yCACrB2mC,EAAgB3mC,EAAQ,4CACxB4mC,EAAY5mC,EAAQ,wCACpB6mC,EAAa7mC,EAAQ,8BACrB8mC,EAAsBD,EAAWC,oBACjCC,EAAoBF,EAAWE,kBAC/BllC,EAAQ7B,EAAQ,gBAChB25B,EAAW35B,EAAQ,oBACnBolB,EAAU,EACVmb,IAEFhiC,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEbvgB,GAAIkY,IACJjjB,MAAO,KACPyL,YAAa,KACb6X,UAAW,KACXiI,gBAAiB,WAQf,MAPA2F,GAAY/P,KAAKxkB,MAEjByhC,EAAqBzhC,KAAKoO,OAC1BpO,KAAK69B,qBAAqB79B,KAAK89B,eAE/B99B,KAAK8O,YAAc9O,KAAKymB,MAAM3X,YAC9B9O,KAAKqD,MAAQrD,KAAK8O,YAAYzL,UAGhCgC,KAAM,SAASkC,EAAS/D,GACtBxD,KAAK8O,YAAYzJ,KAAKkC,EAAS/D,IAEjC0vB,WAAY,SAASnG,EAAQlH,EAAY5Y,GACvCjN,KAAK8O,YAAYhC,UAAUigB,EAAOtG,MAAMjjB,MAAME,KAAMqpB,EAAOtG,MAAMlf,QAASse,EAAY5Y,IAExFS,gBAAiB,SAASnG,GACxBvH,KAAK8O,YAAYpB,gBAAgBnG,IAEnCsG,iBAAkB,SAAStG,GACzBvH,KAAK8O,YAAYjB,iBAAiBtG,IAEpC2O,YAAa,SAASrM,EAAW+H,EAAUC,EAAMC,EAAaC,GAC5D/R,KAAK8O,YAAYoH,YAAYrM,EAAW+H,EAAUC,EAAMC,EAAaC,IAEvE8rB,qBAAsB,SAAS6D,GACzBA,GACFD,EAAqBzhC,KAAKoO,IAAIzJ,KAAK+8B,IAGvC3D,uBAAwB,SAAS2D,GAC/B,GAAI/gC,EACA+gC,KAAiB/gC,EAAI8gC,EAAqBzhC,KAAKoO,IAAIvD,QAAQ62B,KAAkB,GAC/ED,EAAqBzhC,KAAKoO,IAAIX,OAAO9M,EAAG,IAG5ColB,YAAa,SAAS9a,GACpB,GAAIjL,KAAK8O,YAAYzL,MAAM0B,OAAOiG,SAASC,GAEzC,IAAK,GAAItK,GAAI,EAAGA,EAAI8gC,EAAqBzhC,KAAKoO,IAAIpN,OAAQL,IACxD8gC,EAAqBzhC,KAAKoO,IAAIzN,MAIpCm9B,cAAe,WACb,GAAI6D,GAAW1d,EAAS4L,YAAY7vB,MAChCme,EAAUne,KAAK8O,YAAYzL,MAAM0B,OAAOwF,MAAMkT,iBAClDkkB,GAASpZ,UAAYpK,EAAQT,UAC7BikB,EAASjR,SAAS,GAAGnI,UAAYpK,EAAQR,OAE3CqS,mBAAoB,WAClBhwB,KAAK4hC,qBAEP7R,kBAAmB,WACjB,GAAI8R,GAAYhH,EAASvR,SAASrF,EAAS4L,YAAY7vB,OAAQ,cAAe,cAAc,EAC5FA,MAAK2mB,WACH6I,WAAYqS,EAAU,GACtBpS,SAAUoS,EAAU,GAGtB,IAAIqG,GAAgBjkB,EAAS4L,YAAY7vB,KAAKy1B,KAAKmO,WAC/CuE,EAAqBD,EAAcxX,SAAS,GAC5C0X,EAAiBnkB,EAAS4L,YAAY7vB,KAAKy1B,KAAKgR,YAChD4B,EAAiBpkB,EAAS4L,YAAY7vB,KAAKy1B,KAAKhlB,WAEpDzQ,MAAKy1B,KAAKoR,oBAAoByB,gBAAgBJ,EAAe,SAASK,GACpE,GAAIC,GAAe/lC,KAAKsnB,KAAKwe,GAAiB1N,EAAS1R,QAAQgf,GAAoB/9B,MAAQywB,EAAS1R,QAAQ+e,GAAe99B,OAC3Hg+B,GAAehb,WAAaob,EAC5BN,EAAc9a,WAAaob,IAG7BxoC,KAAKy1B,KAAKsR,kBAAkBuB,gBAAgBJ,EAAe,SAASK,GAClE,GAAIC,GAAe/lC,KAAKsnB,KAAKwe,GAAiB1N,EAAS1R,QAAQgf,GAAoB99B,OAASwwB,EAAS1R,QAAQ+e,GAAe79B,QAC5Hg+B,GAAe9a,UAAYib,EAC3BN,EAAc3a,UAAYib,IAG5BxoC,KAAK4hC,qBAEP6B,QAAS,SAASvjC,GAChB,GAAI8yB,GACAyV,EACAC,CAEAxoC,GAAEyoC,gBAAkB3V,EAAO/O,EAAS4L,YAAY7vB,KAAKy1B,KAAKgR,cAC5DgC,EAAYzoC,KAAKy1B,KAAKoR,oBACtB6B,EAASxoC,EAAE0oC,QAAU1oC,EAAE2oC,SACd3oC,EAAEyoC,gBAAkB3V,EAAO/O,EAAS4L,YAAY7vB,KAAKy1B,KAAKhlB,cAAgBvQ,EAAEyoC,gBAAkB3V,EAAO/O,EAAS4L,YAAY7vB,KAAKy1B,KAAKmO,eAC7I6E,EAAYzoC,KAAKy1B,KAAKsR,kBACtB2B,EAASxoC,EAAE2oC,QAGTJ,GAAaA,EAAUK,OAAOJ,EAAQxoC,EAAE6oC,aAC1ChmC,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,KAGzB0hC,kBAAmB,WACjBR,EAAcQ,kBAAkB5hC,MAChCA,KAAKy1B,KAAKoR,oBAAoB/yB,UAC9B9T,KAAKy1B,KAAKsR,kBAAkBjzB,WAE9BuR,OAAQ,WAEN,GAAItlB,GAAOC,KAEP+E,EAAS/E,KAAK8O,YAAYzL,MAAM0B,OAChCoZ,EAAUpZ,EAAOwF,MAAMkT,kBAEvBqkB,IAQJ,OAPI/8B,GAAOqF,QACT03B,EAAS13B,MAAQrF,EAAOqF,OAEtBrF,EAAOsF,SACTy3B,EAASz3B,OAAStF,EAAOsF,QAGpB6b,EAAM4E,cACX,OACEvC,UAAWpK,EAAQT,UACnBgJ,MAAOob,EACPvL,IAAK,SAEPxxB,EAAOuF,SAAWvF,EAAOuF,QAAQpC,QAAUge,EAAM4E,cAC/C,OACEyL,IAAK,UACLhO,UAAW,eAEbrC,EAAM4E,cAAc6c,GAClBzY,eAAgBnvB,KAEhB,KACJmmB,EAAM4E,cACJ,SACE1c,GAAI,OAASrO,EAAKqO,GAClBmoB,IAAK,oBACLhO,UAAWpK,EAAQR,MACnB+I,OACEgE,YAAa,UAGjBxE,EAAM4E,cACJ,WACA,KACA5E,EAAM4E,cAAc,OAClByL,IAAK,YAEPrQ,EAAM4E,cAAc,OAClByL,IAAK,YAEPrQ,EAAM4E,cAAc,OAClByL,IAAK,YAEPrQ,EAAM4E,cAAc,OAClByL,IAAK,aAGTrQ,EAAM4E,cACJ,QACA,KACA5E,EAAM4E,cACJ,MACEyL,IAAK,gBAEPrQ,EAAM4E,cACJ,MACEyR,QAAS,KAEXrW,EAAM4E,cAAcuW,GAClBnS,eAAgBnvB,MAItBmmB,EAAM4E,cACJ,MACEyL,IAAK,cAEPrQ,EAAM4E,cAAc,KAAM,MAC1B5E,EAAM4E,cACJ,MACEpE,OACEqb,QAAS,wBAGb7b,EAAM4E,cAAcwW,GAClBpS,eAAgBnvB,KAGpBmmB,EAAM4E,cAAc,MAClByR,QAAS,OAGbrW,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cACJ,MACEpE,OACEzZ,SAAU,aAGdiZ,EAAM4E,cAAcyW,GAClBrS,eAAgBnvB,EAChBw2B,IAAK,gBAGTrQ,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAc+c,GAClB3Y,eAAgBnvB,EAChBw2B,IAAK,gBAGTrQ,EAAM4E,cAAc,MAClByR,QAAS,OAGbrW,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAc8c,GAClB1Y,eAAgBnvB,EAChBw2B,IAAK,gBAGTrQ,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAcgd,GAClB5Y,eAAgBnvB,EAChBw2B,IAAK,eAGTrQ,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAcmd,GAClB/Y,eAAgBnvB,EAChBw2B,IAAK,uBAGTrQ,EAAM4E,cAAc,KAAM,OAE5B5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAc,KAAM,MAC1B5E,EAAM4E,cACJ,KACA,KACA5E,EAAM4E,cAAckd,GAClB9Y,eAAgBnvB,EAChBw2B,IAAK,yBAGTrQ,EAAM4E,cAAc,MAClByR,QAAS,SAKjBrW,EAAM4E,cAAc,OAClBvC,UAAW,iCACXna,GAAI,cAAgBrO,EAAKqO,WAOjCqjB,eAAgB,GAChBiL,mBAAoB,GACpB5H,8BAA+B,GAC/BmN,2CAA4C,GAC5C+G,2CAA4C,GAC5CC,uCAAwC,GACxC/G,wCAAyC,GACzCgH,wCAAyC,GACzC/G,2CAA4C,GAC5CC,0CAA2C,GAC3C+G,6BAA8B,GAC9B9G,0BAA2B,GAC3BpS,MAAS,QACT/I,YAAa,cAEfkiB,IAAK,SAASloC,EAASzB,EAAQD,GAyK7B,QAAS6pC,GAAYC,GACnB,GAAIvpC,GAAOC,IACXA,MAAKspC,cAAgBA,EACrBtpC,KAAK8B,SAAW,KAChB9B,KAAKupC,MAAQ,WACPxpC,EAAK+B,UACP/B,EAAK+B,SAAS/B,EAAKupC,cAAcE,qBA7KvC,GAAItjB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEjC,EAA6B,mBAAXpkB,QAAyBqB,EAAQ,aAAerB,OAAOokB,SACzElhB,EAAQ7B,EAAQ,gBAChB25B,EAAW35B,EAAQ,oBAEjBuoC,GACFC,YAAa,KACbC,aAAc,KACd/a,gBAAiB,WAEf,OACEyP,KAAM,GACNhB,WAAW,EACXuM,YAAa,IAGjB7Z,kBAAmB,WACjB/vB,KAAK0pC,YAAc,GAAIL,GAAYrpC,OAErCgwB,mBAAoB,WACbhwB,KAAK0c,MAAM2gB,UAILr9B,KAAK0c,MAAM2gB,YAEpBt6B,EAAMopB,iBAAiBtB,SAAU,YAAa7qB,KAAK49B,aACnD76B,EAAMopB,iBAAiBtB,SAAU,UAAW7qB,KAAKm+B,aALjDp7B,EAAMwpB,oBAAoB1B,SAAU,YAAa7qB,KAAK49B,aACtD76B,EAAMwpB,oBAAoB1B,SAAU,UAAW7qB,KAAKm+B,aAOxD1J,qBAAsB,WACpB1xB,EAAMwpB,oBAAoB1B,SAAU,YAAa7qB,KAAK49B,aACtD76B,EAAMwpB,oBAAoB1B,SAAU,UAAW7qB,KAAKm+B,YAEtDxC,YAAa,SAASz7B,GAEpB,GAAiB,IAAbA,EAAE6sB,OAAN,CAEA,GAAI8c,GAAY7pC,KAAKy1B,KAAKqU,YACtBC,EAAmBlP,EAAS7R,gBAAgB6gB,GAC5C3Q,EAAcn2B,EAAMiqB,eAAe9sB,EAEvC26B,GAASrS,SAASqhB,EAAW,yBAG7B7pC,KAAKgiB,UACHqb,WAAW,EACXa,YAAahF,EAAYl5B,KAAKgqC,cAC9BJ,YAAaG,EAAiB/pC,KAAKiqC,WAIrClnC,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,KAEvBi+B,UAAW,WAET,GAAIn+B,KAAK0c,MAAM2gB,UAAW,CACxB,GAAIwM,GAAY7pC,KAAKy1B,KAAKqU,WAC1BjP,GAASxS,YAAYwhB,EAAW,yBAGlC7pC,KAAKgiB,UACHqb,WAAW,KAGfO,YAAa,SAAS19B,GAGpB,GAAKF,KAAK0c,MAAM2gB,UAAhB,CAEAt6B,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,EAErB,IAAIg5B,GAAcn2B,EAAMiqB,eAAe9sB,GACnCwoC,EAASxP,EAAYl5B,KAAKgqC,cAAgBhqC,KAAK0c,MAAMwhB,WACzDl+B,MAAK0c,MAAMwhB,YAAchF,EAAYl5B,KAAKgqC,cAE1ChqC,KAAK8oC,OAAOJ,KAEdwB,cAAe,WACb,MAAyB,OAArBlqC,KAAK2pC,aACA9O,EAAS1R,QAAQnpB,KAAK2pC,cAAc3pC,KAAKmqC,UAEzCtP,EAAS1R,QAAQlF,EAAS4L,YAAY7vB,OAAOA,KAAKmqC,WAG7D7B,gBAAiB,SAASqB,EAAcS,GACtCpqC,KAAK2pC,aAAeA,EACpB3pC,KAAK0pC,YAAY5nC,SAAWsoC,GAE9BZ,iBAAkB,WAChB,GAAIa,GAAYrqC,KAAKkqC,gBAAkBlqC,KAAK0c,MAAM2hB,IAClD,OAAoB,IAAbgM,EAAiB,EAAIrqC,KAAK0c,MAAMktB,YAAcS,GAEvDv2B,QAAS,WACP,GAAI9T,KAAK2pC,aAAc,CACrB,GAAIW,GAAkBtqC,KAAK2pC,aAAajZ,SAAS,GAE7C6Z,EAAa1P,EAAS1R,QAAQnpB,KAAK2pC,cACnCa,EAAc3P,EAAS1R,QAAQmhB,GAE/BG,EAAyBzqC,KAAKkqC,gBAC9BQ,EAAUH,EAAWvqC,KAAKmqC,WAAaK,EAAYxqC,KAAKmqC,UAAY,EAAII,EAAWvqC,KAAKmqC,UAAYK,EAAYxqC,KAAKmqC,UAAYM,CAErIzqC,MAAKgiB,UACH2oB,cAAeF,EACfpM,KAAMqM,EACNd,YAAannC,KAAKJ,IAAIrC,KAAK0c,MAAMktB,YAAaa,EAAyBC,IACtE1qC,KAAK0pC,YAAYH,SAGxBT,OAAQ,SAASJ,EAAQkC,GACvB,GAAI5qC,KAAK0c,MAAM2hB,KAAO,EAAG,CACX,GAARuM,IAAWlC,GAAU,EAEzB,IAAI2B,GAAYrqC,KAAKkqC,gBAAkBlqC,KAAK0c,MAAM2hB,KAC9CwM,EAAY7qC,KAAK0c,MAAMktB,YAAclB,CAIzC,IAHgB,EAAZmC,IAAeA,EAAY,GAC3BA,EAAYR,IAAWQ,EAAYR,GAEnCrqC,KAAK0c,MAAMktB,aAAeiB,EAI5B,MAHA7qC,MAAKgiB,UACH4nB,YAAaiB,GACZ7qC,KAAK0pC,YAAYH,QACb,EAGX,OAAO,GAET9F,QAAS,SAASvjC,GAChBF,KAAK8oC,OAAO5oC,EAAE2oC,OAAQ3oC,EAAE6oC,WACxBhmC,EAAM6pB,gBAAgB1sB,GACtB6C,EAAM0pB,eAAevsB,IAEvBmlB,OAAQ,WACN,GAEIylB,IACF/I,QAAS,EAEX+I,GAAW9qC,KAAKmqC,UAAYnqC,KAAK0c,MAAM2hB,KACvCyM,EAAW9qC,KAAK+qC,eAAiB/qC,KAAK0c,MAAMktB,WAE5C,IAAIoB,KACJA,GAAUhrC,KAAKmqC,UAAYnqC,KAAK0c,MAAMiuB,aAEtC,IAAIM,GAAa,mBAAqBjrC,KAAKymB,MAAMyI,eAAe7rB,MAAM0B,OAAOwF,MAAMqT,mBAAmBG,UAElG+rB,EAAc9pC,KAAK0c,MAAM2hB,MAAQ,EAAI,KAAOnY,EAAM4E,cAAc,OAClEvC,UAAW0iB,EACXvkB,MAAOokB,EACPvU,IAAK,cACLoF,YAAa37B,KAAK27B,aAGpB,OAAOzV,GAAM4E,cACX,OACEvC,UAAWvoB,KAAKkrC,SAChBxkB,MAAOskB,EACPvH,QAASzjC,KAAKyjC,SAEhBqG,IAgBNrqC,GAAOD,QAAQwoC,oBAAsB9hB,EAAMwI,aACzCC,YAAa,sBAEbwc,QAAS1B,GACTQ,QAAS,IACTD,aAAc,QACdG,SAAU,QACVY,cAAe,OACfG,SAAU,oBAGZzrC,EAAOD,QAAQyoC,kBAAoB/hB,EAAMwI,aACvCC,YAAa,oBAEbwc,QAAS1B,GACTQ,QAAS,IACTD,aAAc,QACdG,SAAU,SACVY,cAAe,MACfG,SAAU,sBAIZzZ,eAAgB,GAChBiL,mBAAoB,GACpBzM,MAAS,QACT/I,YAAa,cAEfkkB,IAAK,SAASlqC,EAASzB,EAAQD,GAE7B,GAAI0mB,GAA0B,mBAAXrmB,QAAyBqB,EAAQ,SAAWrB,OAAOqmB,MACpEte,EAAM1G,EAAQ,cACd25B,EAAW35B,EAAQ,mBAErBzB,GAAOD,QAAU0mB,EAAMwI,aACrBC,YAAa,UAEb0c,WACAtb,kBAAmB,WACjB,IAAK,GAAIpvB,GAAI,EAAGA,EAAIX,KAAKqrC,QAAQrqC,OAAQL,IAAK,CAC5C,GAAI2qC,GAAMtrC,KAAKqrC,QAAQ1qC,EACvB2qC,GAAI9mB,KAAKxkB,KAAKymB,MAAMyI,eAAgBlvB,KAAKy1B,KAAK6V,EAAI/U,QAGtDvG,mBAAoB,WAClB,IAAK,GAAIrvB,GAAI,EAAGA,EAAIX,KAAKqrC,QAAQrqC,OAAQL,IAAK,CAC5C,GAAI2qC,GAAMtrC,KAAKqrC,QAAQ1qC,EACvB2qC,GAAI9mB,KAAKxkB,KAAKymB,MAAMyI,eAAgBlvB,KAAKy1B,KAAK6V,EAAI/U,QAGtDgV,eAAgB,SAASC,GACvB,GAAc,MAAVA,EAAgB,CAClB,GAAIC,GAAiBzrC,KAAKymB,MAAMyI,cAChC,OAAO,UAAShvB,GACdsrC,EAAOC,EAAgBvrC,EAAEmxB,QAAUnxB,EAAEoxB,aAGzC,MAAO,OAETjM,OAAQ,WAEN,GAAItgB,GAAS/E,KAAKymB,MAAMyI,eAAepgB,YAAYzL,MAAM0B,MAEzD,IAAIA,EAAOuF,SAAWvF,EAAOuF,QAAQpC,QAAS,CAK5C,IAAK,GAHDwjC,GAAgB3mC,EAAOuF,QAAQ6E,QAAUw8B,EAAqBx8B,QAAQ0J,OAAO9T,EAAOuF,QAAQ6E,SAAWw8B,EAAqBx8B,QAE5HA,KACKxO,EAAI,EAAGA,EAAI+qC,EAAc1qC,OAAQL,IAAK,CAC7C,GAAIirC,GAAYF,EAAc/qC,GAC1BkrC,EAAU,MAAQlrC,CAEA,cAAlBirC,EAAUtoC,KACZ6L,EAAQxK,KAAKuhB,EAAM4E,cAAc,OAC/BrO,IAAK9b,EACL4nB,UAAW,kBAEc,SAAlBqjB,EAAUtoC,KACnB6L,EAAQxK,KAAKuhB,EAAM4E,cACjB,OACErO,IAAK9b,EACL4nB,UAAW,gBAEbqjB,EAAU3P,OAGZ9sB,EAAQxK,KAAKuhB,EAAM4E,cAAc,OAC/BrO,IAAK9b,EACL4nB,UAAW,gBAAkBqjB,EAAUV,SACvCjzB,MAAO2zB,EAAUE,QACjBvV,IAAKsV,EACLra,QAASxxB,KAAKurC,eAAeK,EAAUJ,WAGvCI,EAAUpnB,MACZxkB,KAAKqrC,QAAQ1mC,MACX4xB,IAAKsV,EACLrnB,KAAMonB,EAAUpnB,OAKtB,MAAO0B,GAAM4E,cACX,MACA,KACA3b,GAIJ,MAAO+W,GAAM4E,cAAc,MAAO,QAItC,IAAIihB,GAAc7qC,EAAQ,uBAEtByqC,GACFK,cAAe,SAASP,EAAgB1e,GACtC,GAAItsB,GAAIoqB,SAASC,cAAc,IAC/BrqB,GAAEwrC,SAAW,mBACbxrC,EAAEyrC,KAAOH,EAAYN,EAAehlB,MAAM3X,aAC1C+b,SAAStM,KAAKwM,YAAYtqB,GAC1BA,EAAE0rC,QACFthB,SAAStM,KAAKoM,YAAYlqB,IAE5B2rC,cAAe,SAASX,EAAgB1e,GACtC0e,EAAe38B,YAAY4Q,qBAAqB9X,EAAI1B,KAAK/C,KAAM,MAAM,IAEvEkpC,gBAAiB,SAASZ,EAAgB1e,GACxC0e,EAAe38B,YAAY4Q,qBAAqB9X,EAAI1B,KAAK/C,KAAM,MAAM,IAEvEmpC,iBAAkB,SAASb,EAAgB1e,GACzC0e,EAAe38B,YAAY4Q,qBAAqB9X,EAAI1B,KAAKhD,QAAS,MAAM,IAE1EqpC,mBAAoB,SAASd,EAAgB1e,GAC3C0e,EAAe38B,YAAY4Q,qBAAqB9X,EAAI1B,KAAKhD,QAAS,MAAM,IAE1EspC,sBAAuB,SAASjlC,EAASkkC,EAAgB1e,GACvD,GAAI0f,GAAiBhB,EAAe38B,YAAYtB,oBAAoBjG,EACpEwlB,GAAOrG,MAAMuD,QAA6B,OAAnBwiB,EAA0B,OAAS,EAE1D,IAAIC,GAAa,GACbC,EAAgB,EAChBF,IACFC,EAAa,oBACbC,EAAgB,qBAEhBD,EAAa,mBACbC,EAAgB,qBAGlB9R,EAASxS,YAAY0E,EAAQ4f,GAC7B9R,EAASrS,SAASuE,EAAQ2f,IAE5BE,cAAe,SAASrlC,GACtB,GAAIxH,GAAOC,IACX,OAAO,UAASyrC,EAAgB1e,GAC9BhtB,EAAKysC,sBAAsBjlC,EAASkkC,EAAgB1e,KAGxDrf,gBAAiB,SAASnG,GACxB,GAAIxH,GAAOC,IACX,OAAO,UAASyrC,EAAgB1e,GAC9B0e,EAAe/9B,gBAAgBnG,GAC/BxH,EAAKysC,sBAAsBjlC,EAASkkC,EAAgB1e,KAGxD8f,uBAAwB,SAAStlC,EAASkkC,EAAgB1e,GACxD,GAAI0f,GAAiBhB,EAAe38B,YAAYhB,oBAAoBvG,EACpEwlB,GAAOrG,MAAMuD,QAA6B,OAAnBwiB,EAA0B,OAAS,EAE1D,IAAIC,GAAa,GACbC,EAAgB,EAChBF,IACFC,EAAa,oBACbC,EAAgB,qBAEhBD,EAAa,mBACbC,EAAgB,qBAGlB9R,EAASxS,YAAY0E,EAAQ4f,GAC7B9R,EAASrS,SAASuE,EAAQ2f,IAE5BI,eAAgB,SAASvlC,GACvB,GAAIxH,GAAOC,IACX,OAAO,UAASyrC,EAAgB1e,GAC9BhtB,EAAK8sC,uBAAuBtlC,EAASkkC,EAAgB1e,KAGzDlf,iBAAkB,SAAStG,GACzB,GAAIxH,GAAOC,IACX,OAAO,UAASyrC,EAAgB1e;AAC9B0e,EAAe59B,iBAAiBtG,GAChCxH,EAAK8sC,uBAAuBtlC,EAASkkC,EAAgB1e,KAK3D4e,GAAqBx8B,UACnB7L,KAAM,QACN24B,KAAM,UAEN34B,KAAM,SACNwoC,QAAS,kBACTZ,SAAU,aACVM,OAAQG,EAAqBS,gBAE7B9oC,KAAM,SACNwoC,QAAS,oBACTZ,SAAU,eACVM,OAAQG,EAAqBU,kBAE7B/oC,KAAM,SACNwoC,QAAS,yBACTtnB,KAAMmnB,EAAqBiB,cAAchlC,EAAI1B,KAAK/C,MAClDqoC,OAAQG,EAAqBj+B,gBAAgB9F,EAAI1B,KAAK/C,QAEtDG,KAAM,SACNwoC,QAAS,0BACTtnB,KAAMmnB,EAAqBmB,eAAellC,EAAI1B,KAAK/C,MACnDqoC,OAAQG,EAAqB99B,iBAAiBjG,EAAI1B,KAAK/C,QAEvDG,KAAM,cAENA,KAAM,QACN24B,KAAM,aAEN34B,KAAM,SACNwoC,QAAS,qBACTZ,SAAU,aACVM,OAAQG,EAAqBW,mBAE7BhpC,KAAM,SACNwoC,QAAS,uBACTZ,SAAU,eACVM,OAAQG,EAAqBY,qBAE7BjpC,KAAM,SACNwoC,QAAS,4BACTtnB,KAAMmnB,EAAqBiB,cAAchlC,EAAI1B,KAAKhD,SAClDsoC,OAAQG,EAAqBj+B,gBAAgB9F,EAAI1B,KAAKhD,WAEtDI,KAAM,SACNwoC,QAAS,6BACTtnB,KAAMmnB,EAAqBmB,eAAellC,EAAI1B,KAAKhD,SACnDsoC,OAAQG,EAAqB99B,iBAAiBjG,EAAI1B,KAAKhD,WAEvDI,KAAM,cAENA,KAAM,QACN24B,KAAM,YAEN34B,KAAM,SACNwoC,QAAS,kBACTZ,SAAU,aACVM,OAAQG,EAAqBK,kBAI/B9W,aAAc,EACd6X,sBAAuB,EACvBrQ,mBAAoB,GACpBzM,MAAS,eAEL,IAAI","file":"orb.min.js","sourcesContent":["/**\n * orb v1.1.0, Pivot table javascript library.\n *\n * Copyright (c) 2014-2015 Najmeddine Nouri <devnajm@gmail.com>.\n *\n * @version v1.1.0\n * @link http://orbjs.net/\n * @license MIT\n */\n\n/* global module, require, define, window, document, global, React */\n/*jshint node: true, eqnull: true*/\n\n'use strict';\n(function(f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f()\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f)\n  } else {\n    var g;\n    if (typeof window !== \"undefined\") {\n      g = window\n    } else if (typeof global !== \"undefined\") {\n      g = global\n    } else if (typeof self !== \"undefined\") {\n      g = self\n    } else {\n      g = this\n    }\n    g.orb = f()\n  }\n})(function() {\n  var define, module, exports;\n  return (function e(t, n, r) {\n    function s(o, u) {\n      if (!n[o]) {\n        if (!t[o]) {\n          var a = typeof require == \"function\" && require;\n          if (!u && a) return a(o, !0);\n          if (i) return i(o, !0);\n          var f = new Error(\"Cannot find module '\" + o + \"'\");\n          throw f.code = \"MODULE_NOT_FOUND\", f\n        }\n        var l = n[o] = {\n          exports: {}\n        };\n        t[o][0].call(l.exports, function(e) {\n          var n = t[o][1][e];\n          return s(n ? n : e)\n        }, l, l.exports, e, t, n, r)\n      }\n      return n[o].exports\n    }\n    var i = typeof require == \"function\" && require;\n    for (var o = 0; o < r.length; o++) s(r[o]);\n    return s\n  })({\n    1: [function(_dereq_, module, exports) {\n\n      var Aggregations = module.exports = {\n        toAggregateFunc: function(func) {\n          if (func) {\n            if (typeof func === 'string' && Aggregations[func]) {\n              return Aggregations[func];\n            } else if (typeof func === 'function') {\n              return func;\n            } else {\n              return Aggregations.sum;\n            }\n          } else {\n            return Aggregations.sum;\n          }\n        },\n        count: function(datafield, intersection, datasource) {\n          return intersection === 'all' ? datasource.length : intersection.length;\n        },\n        sum: function(datafield, intersection, datasource) {\n          var sum = 0;\n          forEachIntersection(datafield, intersection, datasource, function(val) {\n            sum += val;\n          });\n          return sum;\n        },\n        min: function(datafield, intersection, datasource) {\n          var min = null;\n          forEachIntersection(datafield, intersection, datasource, function(val) {\n            if (min == null || val < min) {\n              min = val;\n            }\n          });\n          return min;\n        },\n        max: function(datafield, intersection, datasource) {\n          var max = null;\n          forEachIntersection(datafield, intersection, datasource, function(val) {\n            if (max == null || val > max) {\n              max = val;\n            }\n          });\n          return max;\n        },\n        avg: function(datafield, intersection, datasource) {\n          var avg = 0;\n          var len = (intersection === 'all' ? datasource : intersection).length;\n          if (len > 0) {\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              avg += val;\n            });\n            avg /= len;\n          }\n          return avg;\n        },\n        prod: function(datafield, intersection, datasource) {\n          var prod;\n          var len = (intersection === 'all' ? datasource : intersection).length;\n          if (len > 0) {\n            prod = 1;\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              prod *= val;\n            });\n          }\n          return prod;\n        },\n        stdev: function(datafield, intersection, datasource) {\n          return Math.sqrt(calcVariance(datafield, intersection, datasource, false));\n        },\n        stdevp: function(datafield, intersection, datasource) {\n          return Math.sqrt(calcVariance(datafield, intersection, datasource, true));\n        },\n        'var': function(datafield, intersection, datasource) {\n          return calcVariance(datafield, intersection, datasource, false);\n        },\n        varp: function(datafield, intersection, datasource) {\n          return calcVariance(datafield, intersection, datasource, true);\n        }\n      };\n\n      function calcVariance(datafield, intersection, datasource, population) {\n        var variance = 0;\n        var avg = 0;\n        var len = (intersection === 'all' ? datasource : intersection).length;\n        if (len > 0) {\n          if (population || len > 1) {\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              avg += val;\n            });\n            avg /= len;\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              variance += (val - avg) * (val - avg);\n            });\n            variance = variance / (population ? len : len - 1);\n          } else {\n            variance = NaN;\n          }\n        }\n        return variance;\n      }\n\n      function forEachIntersection(datafield, intersection, datasource, callback) {\n        var all = intersection === 'all';\n        intersection = all ? datasource : intersection;\n        if (intersection.length > 0) {\n          for (var i = 0; i < intersection.length; i++) {\n            callback((all ? intersection[i] : datasource[intersection[i]])[datafield]);\n          }\n        }\n      }\n\n    }, {}],\n    2: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var Dimension = _dereq_('./orb.dimension');\n\n      var AxeType = {\n        COLUMNS: 1,\n        ROWS: 2,\n        DATA: 3\n      };\n\n      module.exports = function(pgrid, type) {\n\n        var self = this;\n        var dimid = 0;\n\n        if (pgrid != null && pgrid.config != null) {\n\n\n          this.pgrid = pgrid;\n\n\n          this.type = type;\n\n\n          this.fields = (function() {\n            switch (type) {\n              case AxeType.COLUMNS:\n                return self.pgrid.config.columnFields;\n              case AxeType.ROWS:\n                return self.pgrid.config.rowFields;\n              case AxeType.DATA:\n                return self.pgrid.config.dataFields;\n              default:\n                return [];\n            }\n          })();\n\n\n          this.dimensionsCount = null;\n\n\n          this.root = null;\n\n\n          this.dimensionsByDepth = null;\n\n          this.update = function() {\n            self.dimensionsCount = self.fields.length;\n            self.root = new Dimension(++dimid, null, null, null, self.dimensionsCount + 1, true);\n\n            self.dimensionsByDepth = {};\n            for (var depth = 1; depth <= self.dimensionsCount; depth++) {\n              self.dimensionsByDepth[depth] = [];\n            }\n\n            // fill data\n            fill();\n\n            // initial sort\n            for (var findex = 0; findex < self.fields.length; findex++) {\n              var ffield = self.fields[findex];\n              if (ffield.sort.order === 'asc' || ffield.sort.order === 'desc') {\n                self.sort(ffield, true);\n              }\n            }\n          };\n\n          this.sort = function(field, donottoggle) {\n            if (field != null) {\n              if (donottoggle !== true) {\n                if (field.sort.order !== 'asc') {\n                  field.sort.order = 'asc';\n                } else {\n                  field.sort.order = 'desc';\n                }\n              }\n\n              var depth = self.dimensionsCount - getfieldindex(field);\n              var parents = depth === self.dimensionsCount ? [self.root] : self.dimensionsByDepth[depth + 1];\n              for (var i = 0; i < parents.length; i++) {\n                if (field.sort.customfunc != null) {\n                  parents[i].values.sort(field.sort.customfunc);\n                } else {\n                  parents[i].values.sort();\n                }\n                if (field.sort.order === 'desc') {\n                  parents[i].values.reverse();\n                }\n              }\n            }\n          };\n\n          this.flattenValues = function() {\n            return self.dimensionsByDepth[1].map(function(dim) {\n              var name = '';\n              var currDim = dim;\n              while (!currDim.isRoot) {\n                name = currDim.value + (name !== '' ? '-' + name : '');\n                currDim = currDim.parent;\n              }\n              return {\n                name: name,\n                dim: dim\n              };\n            }).sort(function(a, b) {\n              if (a.name < b.name) return -1;\n              if (a.name > b.name) return 1;\n              return 0;\n            });\n          };\n        }\n\n        function getfieldindex(field) {\n          for (var i = 0; i < self.fields.length; i++) {\n            if (self.fields[i].name === field.name) {\n              return i;\n            }\n          }\n          return -1;\n        }\n\n\n        function fill() {\n\n          if (self.pgrid.filteredDataSource != null && self.dimensionsCount > 0) {\n\n            var datasource = self.pgrid.filteredDataSource;\n            if (datasource != null && utils.isArray(datasource) && datasource.length > 0) {\n              for (var rowIndex = 0, dataLength = datasource.length; rowIndex < dataLength; rowIndex++) {\n                var row = datasource[rowIndex];\n                var dim = self.root;\n                for (var findex = 0; findex < self.dimensionsCount; findex++) {\n                  var depth = self.dimensionsCount - findex;\n                  var subfield = self.fields[findex];\n                  var subvalue = row[subfield.name];\n                  var subdimvals = dim.subdimvals;\n\n                  if (subdimvals[subvalue] !== undefined) {\n                    dim = subdimvals[subvalue];\n                  } else {\n                    dim.values.push(subvalue);\n                    dim = new Dimension(++dimid, dim, subvalue, subfield, depth, false, findex == self.dimensionsCount - 1);\n                    subdimvals[subvalue] = dim;\n                    dim.rowIndexes = [];\n                    self.dimensionsByDepth[depth].push(dim);\n                  }\n\n                  dim.rowIndexes.push(rowIndex);\n                }\n              }\n            }\n          }\n        }\n      };\n\n      module.exports.Type = AxeType;\n\n    }, {\n      \"./orb.dimension\": 4,\n      \"./orb.utils\": 19\n    }],\n    3: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var axe = _dereq_('./orb.axe');\n      var aggregation = _dereq_('./orb.aggregation');\n      var filtering = _dereq_('./orb.filtering');\n      var themeManager = _dereq_('./orb.themes');\n\n      function getpropertyvalue(property, configs, defaultvalue) {\n        for (var i = 0; i < configs.length; i++) {\n          if (configs[i][property] != null) {\n            return configs[i][property];\n          }\n        }\n        return defaultvalue;\n      }\n\n      function mergefieldconfigs() {\n\n        var merged = {\n          configs: [],\n          sorts: [],\n          subtotals: [],\n          functions: []\n        };\n\n        for (var i = 0; i < arguments.length; i++) {\n          var nnconfig = arguments[i] || {};\n          merged.configs.push(nnconfig);\n          merged.sorts.push(nnconfig.sort || {});\n          merged.subtotals.push(nnconfig.subTotal || {});\n          merged.functions.push({\n            aggregateFuncName: nnconfig.aggregateFuncName,\n            aggregateFunc: i === 0 ? nnconfig.aggregateFunc : nnconfig.aggregateFunc ? nnconfig.aggregateFunc() : null,\n            formatFunc: i === 0 ? nnconfig.formatFunc : nnconfig.formatFunc ? nnconfig.formatFunc() : null\n          });\n        }\n\n        return merged;\n      }\n\n      function createfield(rootconfig, axetype, fieldconfig, defaultfieldconfig) {\n\n        var axeconfig;\n        var fieldAxeconfig;\n\n        if (defaultfieldconfig) {\n          switch (axetype) {\n            case axe.Type.ROWS:\n              axeconfig = rootconfig.rowSettings;\n              fieldAxeconfig = defaultfieldconfig.rowSettings;\n              break;\n            case axe.Type.COLUMNS:\n              axeconfig = rootconfig.columnSettings;\n              fieldAxeconfig = defaultfieldconfig.columnSettings;\n              break;\n            case axe.Type.DATA:\n              axeconfig = rootconfig.dataSettings;\n              fieldAxeconfig = defaultfieldconfig.dataSettings;\n              break;\n            default:\n              axeconfig = null;\n              fieldAxeconfig = null;\n              break;\n          }\n        } else {\n          axeconfig = null;\n          fieldAxeconfig = null;\n        }\n\n        var merged = mergefieldconfigs(fieldconfig, fieldAxeconfig, axeconfig, defaultfieldconfig, rootconfig);\n\n        return new Field({\n          name: getpropertyvalue('name', merged.configs, ''),\n\n          caption: getpropertyvalue('caption', merged.configs, ''),\n\n          sort: {\n            order: getpropertyvalue('order', merged.sorts, null),\n            customfunc: getpropertyvalue('customfunc', merged.sorts, null)\n          },\n          subTotal: {\n            visible: getpropertyvalue('visible', merged.subtotals, true),\n            collapsible: getpropertyvalue('collapsible', merged.subtotals, true),\n            collapsed: getpropertyvalue('collapsed', merged.subtotals, false) && getpropertyvalue('collapsible', merged.subtotals, true)\n          },\n\n          aggregateFuncName: getpropertyvalue('aggregateFuncName', merged.functions, 'sum'),\n          aggregateFunc: getpropertyvalue('aggregateFunc', merged.functions, aggregation.sum),\n          formatFunc: getpropertyvalue('formatFunc', merged.functions, null)\n        }, false);\n      }\n\n      function GrandTotalConfig(options) {\n\n        options = options || {};\n\n        this.rowsvisible = options.rowsvisible !== undefined ? options.rowsvisible : true;\n        this.columnsvisible = options.columnsvisible !== undefined ? options.columnsvisible : true;\n      }\n\n      function SubTotalConfig(options, setdefaults) {\n\n        var defaults = {\n          visible: setdefaults === true ? true : undefined,\n          collapsible: setdefaults === true ? true : undefined,\n          collapsed: setdefaults === true ? false : undefined\n        };\n        options = options || {};\n\n        this.visible = options.visible !== undefined ? options.visible : defaults.visible;\n        this.collapsible = options.collapsible !== undefined ? options.collapsible : defaults.collapsible;\n        this.collapsed = options.collapsed !== undefined ? options.collapsed : defaults.collapsed;\n      }\n\n      function SortConfig(options) {\n        options = options || {};\n\n        this.order = options.order || (options.customfunc ? 'asc' : null);\n        this.customfunc = options.customfunc;\n      }\n\n      function ChartConfig(options) {\n        options = options || {};\n\n        this.enabled = options.enabled || false;\n        // type can be: 'LineChart', 'AreaChart', 'ColumnChart', 'BarChart', 'SteppedAreaChart'\n        this.type = options.type || 'LineChart';\n      }\n\n      var Field = module.exports.field = function(options, createSubOptions) {\n\n        options = options || {};\n\n        // field name\n        this.name = options.name;\n\n        // shared settings\n        this.caption = options.caption || this.name;\n\n        // rows & columns settings\n        this.sort = new SortConfig(options.sort);\n        this.subTotal = new SubTotalConfig(options.subTotal);\n\n        // data settings\n        var _aggregatefunc;\n        var _formatfunc;\n\n        function defaultFormatFunc(val) {\n          return val != null ? val.toString() : '';\n        }\n\n        this.aggregateFunc = function(func) {\n          if (func) {\n            _aggregatefunc = aggregation.toAggregateFunc(func);\n          } else {\n            return _aggregatefunc;\n          }\n        };\n\n        this.formatFunc = function(func) {\n          if (func) {\n            _formatfunc = func;\n          } else {\n            return _formatfunc;\n          }\n        };\n\n        this.aggregateFuncName = options.aggregateFuncName || (options.aggregateFunc ? utils.isString(options.aggregateFunc) ? options.aggregateFunc : 'custom' : null);\n\n        this.aggregateFunc(options.aggregateFunc);\n        this.formatFunc(options.formatFunc || defaultFormatFunc);\n\n        if (createSubOptions !== false) {\n          (this.rowSettings = new Field(options.rowSettings, false)).name = this.name;\n          (this.columnSettings = new Field(options.columnSettings, false)).name = this.name;\n          (this.dataSettings = new Field(options.dataSettings, false)).name = this.name;\n        }\n      };\n\n      module.exports.config = function(config) {\n\n        var self = this;\n\n        this.dataSource = config.dataSource || [];\n        this.canMoveFields = config.canMoveFields !== undefined ? !!config.canMoveFields : true;\n        this.dataHeadersLocation = config.dataHeadersLocation === 'columns' ? 'columns' : 'rows';\n        this.grandTotal = new GrandTotalConfig(config.grandTotal);\n        this.subTotal = new SubTotalConfig(config.subTotal, true);\n        this.width = config.width;\n        this.height = config.height;\n        this.toolbar = config.toolbar;\n        this.theme = themeManager;\n        this.chartMode = new ChartConfig(config.chartMode);\n\n        themeManager.current(config.theme);\n\n        this.rowSettings = new Field(config.rowSettings, false);\n        this.columnSettings = new Field(config.columnSettings, false);\n        this.dataSettings = new Field(config.dataSettings, false);\n\n        // datasource field names\n        this.dataSourceFieldNames = [];\n        // datasource field captions\n        this.dataSourceFieldCaptions = [];\n\n        this.captionToName = function(caption) {\n          var fcaptionIndex = self.dataSourceFieldCaptions.indexOf(caption);\n          return fcaptionIndex >= 0 ? self.dataSourceFieldNames[fcaptionIndex] : caption;\n        };\n\n        this.nameToCaption = function(name) {\n          var fnameIndex = self.dataSourceFieldNames.indexOf(name);\n          return fnameIndex >= 0 ? self.dataSourceFieldCaptions[fnameIndex] : name;\n        };\n\n        this.setTheme = function(newTheme) {\n          return self.theme.current() !== self.theme.current(newTheme);\n        };\n\n        this.allFields = (config.fields || []).map(function(fieldconfig) {\n          var f = new Field(fieldconfig);\n          // map fields names to captions\n          self.dataSourceFieldNames.push(f.name);\n          self.dataSourceFieldCaptions.push(f.caption);\n          return f;\n        });\n\n        function ensureFieldConfig(obj) {\n          if (typeof obj === 'string') {\n            return {\n              name: self.captionToName(obj)\n            };\n          }\n          return obj;\n        }\n\n        this.rowFields = (config.rows || []).map(function(fieldconfig) {\n          fieldconfig = ensureFieldConfig(fieldconfig);\n          return createfield(self, axe.Type.ROWS, fieldconfig, getfield(self.allFields, fieldconfig.name));\n        });\n\n        this.columnFields = (config.columns || []).map(function(fieldconfig) {\n          fieldconfig = ensureFieldConfig(fieldconfig);\n          return createfield(self, axe.Type.COLUMNS, fieldconfig, getfield(self.allFields, fieldconfig.name));\n        });\n\n        this.dataFields = (config.data || []).map(function(fieldconfig) {\n          fieldconfig = ensureFieldConfig(fieldconfig);\n          return createfield(self, axe.Type.DATA, fieldconfig, getfield(self.allFields, fieldconfig.name));\n        });\n\n        this.dataFieldsCount = this.dataFields ? this.dataFields.length || 1 : 1;\n\n        var runtimeVisibility = {\n          subtotals: {\n            rows: self.rowSettings.subTotal.visible !== undefined ? self.rowSettings.subTotal.visible : true,\n            columns: self.columnSettings.subTotal.visible !== undefined ? self.columnSettings.subTotal.visible : true\n          }\n        };\n\n        function getfield(axefields, fieldname) {\n          var fieldindex = getfieldindex(axefields, fieldname);\n          if (fieldindex > -1) {\n            return axefields[fieldindex];\n          }\n          return null;\n        }\n\n        function getfieldindex(axefields, fieldname) {\n          for (var fi = 0; fi < axefields.length; fi++) {\n            if (axefields[fi].name === fieldname) {\n              return fi;\n            }\n          }\n          return -1;\n        }\n\n        this.getField = function(fieldname) {\n          return getfield(self.allFields, fieldname);\n        };\n\n        this.getRowField = function(fieldname) {\n          return getfield(self.rowFields, fieldname);\n        };\n\n        this.getColumnField = function(fieldname) {\n          return getfield(self.columnFields, fieldname);\n        };\n\n        this.getDataField = function(fieldname) {\n          return getfield(self.dataFields, fieldname);\n        };\n\n        this.availablefields = function() {\n          return self.allFields.filter(function(field) {\n            var notequalfield = function(otherfield) {\n              return field.name !== otherfield.name;\n            };\n\n            return self.dataFields.every(notequalfield) && self.rowFields.every(notequalfield) && self.columnFields.every(notequalfield);\n          });\n        };\n\n        this.getDataSourceFieldCaptions = function() {\n          var row0;\n          if (self.dataSource && (row0 = self.dataSource[0])) {\n            var fieldNames = utils.ownProperties(row0);\n            var headers = [];\n            for (var i = 0; i < fieldNames.length; i++) {\n              headers.push(self.nameToCaption(fieldNames[i]));\n            }\n            return headers;\n          }\n          return null;\n        };\n\n        this.getPreFilters = function() {\n          var prefilters = {};\n          if (config.preFilters) {\n            utils.forEach(utils.ownProperties(config.preFilters), function(filteredField) {\n              var prefilterConfig = config.preFilters[filteredField];\n              if (utils.isArray(prefilterConfig)) {\n                prefilters[self.captionToName(filteredField)] = new filtering.expressionFilter(null, null, prefilterConfig, false);\n              } else {\n                var opname = utils.ownProperties(prefilterConfig)[0];\n                if (opname) {\n                  prefilters[self.captionToName(filteredField)] = new filtering.expressionFilter(opname, prefilterConfig[opname]);\n                }\n              }\n            });\n          }\n\n          return prefilters;\n        };\n\n        this.moveField = function(fieldname, oldaxetype, newaxetype, position) {\n\n          var oldaxe, oldposition;\n          var newaxe;\n          var fieldConfig;\n          var defaultFieldConfig = getfield(self.allFields, fieldname);\n\n          if (defaultFieldConfig) {\n\n            switch (oldaxetype) {\n              case axe.Type.ROWS:\n                oldaxe = self.rowFields;\n                break;\n              case axe.Type.COLUMNS:\n                oldaxe = self.columnFields;\n                break;\n              case axe.Type.DATA:\n                oldaxe = self.dataFields;\n                break;\n              default:\n                break;\n            }\n\n            switch (newaxetype) {\n              case axe.Type.ROWS:\n                newaxe = self.rowFields;\n                fieldConfig = self.getRowField(fieldname);\n                break;\n              case axe.Type.COLUMNS:\n                newaxe = self.columnFields;\n                fieldConfig = self.getColumnField(fieldname);\n                break;\n              case axe.Type.DATA:\n                newaxe = self.dataFields;\n                fieldConfig = self.getDataField(fieldname);\n                break;\n              default:\n                break;\n            }\n\n            if (oldaxe || newaxe) {\n\n              var newAxeSubtotalsState = self.areSubtotalsVisible(newaxetype);\n\n              if (oldaxe) {\n                oldposition = getfieldindex(oldaxe, fieldname);\n                if (oldaxetype === newaxetype) {\n                  if (oldposition == oldaxe.length - 1 && position == null || oldposition === position - 1) {\n                    return false;\n                  }\n                }\n                oldaxe.splice(oldposition, 1);\n              }\n\n              var field = createfield(self, newaxetype, fieldConfig, defaultFieldConfig);\n\n              if (!newAxeSubtotalsState && field.subTotal.visible !== false) {\n                field.subTotal.visible = null;\n              }\n\n              if (newaxe) {\n                if (position != null) {\n                  newaxe.splice(position, 0, field);\n                } else {\n                  newaxe.push(field);\n                }\n              }\n\n              // update data fields count\n              self.dataFieldsCount = self.dataFields ? self.dataFields.length || 1 : 1;\n\n              return true;\n            }\n          }\n        };\n\n        this.toggleSubtotals = function(axetype) {\n\n          var i;\n          var axeFields;\n          var newState = !self.areSubtotalsVisible(axetype);\n\n          if (axetype === axe.Type.ROWS) {\n            runtimeVisibility.subtotals.rows = newState;\n            axeFields = self.rowFields;\n          } else if (axetype === axe.Type.COLUMNS) {\n            runtimeVisibility.subtotals.columns = newState;\n            axeFields = self.columnFields;\n          } else {\n            return false;\n          }\n\n          newState = newState === false ? null : true;\n          for (i = 0; i < axeFields.length; i++) {\n            if (axeFields[i].subTotal.visible !== false) {\n              axeFields[i].subTotal.visible = newState;\n            }\n          }\n          return true;\n        };\n\n        this.areSubtotalsVisible = function(axetype) {\n          if (axetype === axe.Type.ROWS) {\n            return runtimeVisibility.subtotals.rows;\n          } else if (axetype === axe.Type.COLUMNS) {\n            return runtimeVisibility.subtotals.columns;\n          } else {\n            return null;\n          }\n        };\n\n        this.toggleGrandtotal = function(axetype) {\n          var newState = !self.isGrandtotalVisible(axetype);\n\n          if (axetype === axe.Type.ROWS) {\n            self.grandTotal.rowsvisible = newState;\n          } else if (axetype === axe.Type.COLUMNS) {\n            self.grandTotal.columnsvisible = newState;\n          } else {\n            return false;\n          }\n          return true;\n        };\n\n        this.isGrandtotalVisible = function(axetype) {\n          if (axetype === axe.Type.ROWS) {\n            return self.grandTotal.rowsvisible;\n          } else if (axetype === axe.Type.COLUMNS) {\n            return self.grandTotal.columnsvisible;\n          } else {\n            return false;\n          }\n        };\n      };\n\n    }, {\n      \"./orb.aggregation\": 1,\n      \"./orb.axe\": 2,\n      \"./orb.filtering\": 6,\n      \"./orb.themes\": 12,\n      \"./orb.utils\": 19\n    }],\n    4: [function(_dereq_, module, exports) {\n\n      module.exports = function(id, parent, value, field, depth, isRoot, isLeaf) {\n\n        var self = this;\n\n        this.id = id;\n\n        this.parent = parent;\n\n        this.value = value;\n\n        this.isRoot = isRoot;\n\n        this.isLeaf = isLeaf;\n\n        this.field = field;\n\n        this.depth = depth;\n\n        this.values = [];\n\n        this.subdimvals = {};\n\n        this.rowIndexes = null;\n\n        this.getRowIndexes = function(result) {\n          if (self.rowIndexes == null) {\n            self.rowIndexes = [];\n            for (var i = 0; i < self.values.length; i++) {\n              self.subdimvals[self.values[i]].getRowIndexes(self.rowIndexes);\n            }\n          }\n          if (result != null) {\n            for (var j = 0; j < self.rowIndexes.length; j++) {\n              result.push(self.rowIndexes[j]);\n            }\n            return result;\n          } else {\n            return self.rowIndexes;\n          }\n        };\n      };\n\n    }, {}],\n    5: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var uiheaders = _dereq_('./orb.ui.header');\n      var themeManager = _dereq_('./orb.themes');\n\n      var uriHeader = 'data:application/vnd.ms-excel;base64,';\n      var docHeader = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\">' + '<head>' + '<meta http-equiv=Content-Type content=\"text/html; charset=UTF-8\">' + '<!--[if gte mso 9]><xml>' + ' <x:ExcelWorkbook>' + '  <x:ExcelWorksheets>' + '   <x:ExcelWorksheet>' + '    <x:Name>###sheetname###</x:Name>' + '    <x:WorksheetOptions>' + '     <x:ProtectContents>False</x:ProtectContents>' + '     <x:ProtectObjects>False</x:ProtectObjects>' + '     <x:ProtectScenarios>False</x:ProtectScenarios>' + '    </x:WorksheetOptions>' + '   </x:ExcelWorksheet>' + '  </x:ExcelWorksheets>' + '  <x:ProtectStructure>False</x:ProtectStructure>' + '  <x:ProtectWindows>False</x:ProtectWindows>' + ' </x:ExcelWorkbook>' + '</xml><![endif]-->' + '</head>' + '<body>';\n      var docFooter = '</body></html>';\n\n      module.exports = function(pgridwidget) {\n\n        var config = pgridwidget.pgrid.config;\n\n        var currTheme = themeManager.current();\n        currTheme = currTheme === 'bootstrap' ? 'white' : currTheme;\n        var override = currTheme === 'white';\n\n        var buttonTextColor = override ? 'black' : 'white';\n        var themeColor = themeManager.themes[currTheme];\n        var themeFadeout = themeManager.utils.fadeoutColor(themeColor, 0.1);\n\n        var buttonStyle = 'style=\"font-weight: bold; color: ' + buttonTextColor + '; background-color: ' + themeColor + ';\" bgcolor=\"' + themeColor + '\"';\n        var headerStyle = 'style=\"background-color: ' + themeFadeout + ';\" bgcolor=\"' + themeFadeout + '\"';\n\n        function createButtonCell(caption) {\n          return '<td ' + buttonStyle + '><font color=\"' + buttonTextColor + '\">' + caption + '</font></td>';\n        }\n\n        function createButtons(buttons, cellsCountBefore, cellsCountAfter, prefix) {\n          var i;\n          var str = prefix || '<tr>';\n          for (i = 0; i < cellsCountBefore; i++) {\n            str += '<td></td>';\n          }\n\n          str += buttons.reduce(function(tr, field) {\n            return tr += createButtonCell(field.caption);\n          }, '');\n\n          for (i = 0; i < cellsCountAfter; i++) {\n            str += '<td></td>';\n          }\n          return str + '</tr>';\n        }\n\n        var cellsHorizontalCount = Math.max(config.dataFields.length + 1, pgridwidget.layout.pivotTable.width);\n\n        var dataFields = createButtons(config.dataFields, 0, cellsHorizontalCount - config.dataFields.length, '<tr><td><font color=\"#ccc\">Data</font></td>');\n\n        var sep = '<tr><td style=\"height: 22px;\" colspan=\"' + cellsHorizontalCount + '\"></td></tr>';\n\n        var columnFields = createButtons(config.columnFields, pgridwidget.layout.rowHeaders.width, cellsHorizontalCount - (pgridwidget.layout.rowHeaders.width + config.columnFields.length));\n\n        var columnHeaders = (function() {\n          var str = '';\n          var j;\n          for (var i = 0; i < pgridwidget.columns.headers.length; i++) {\n            var currRow = pgridwidget.columns.headers[i];\n            var rowStr = '<tr>';\n            if (i < pgridwidget.columns.headers.length - 1) {\n              for (j = 0; j < pgridwidget.layout.rowHeaders.width; j++) {\n                rowStr += '<td></td>';\n              }\n            } else {\n              rowStr += config.rowFields.reduce(function(tr, field) {\n                return tr += createButtonCell(field.caption);\n              }, '');\n            }\n\n            rowStr += currRow.reduce(function(tr, header) {\n              var value = header.type === uiheaders.HeaderType.DATA_HEADER ? header.value.caption : header.value;\n              return tr += '<td ' + headerStyle + ' colspan=\"' + header.hspan(true) + '\" rowspan=\"' + header.vspan(true) + '\">' + value + '</td>';\n            }, '');\n            str += rowStr + '</tr>';\n          }\n          return str;\n        })();\n\n        var rowHeadersAndDataCells = (function() {\n          var str = '';\n          var j;\n          for (var i = 0; i < pgridwidget.rows.headers.length; i++) {\n            var currRow = pgridwidget.rows.headers[i];\n            var rowStr = '<tr>';\n            rowStr += currRow.reduce(function(tr, header) {\n              return tr += '<td ' + headerStyle + ' colspan=\"' + header.hspan(true) + '\" rowspan=\"' + header.vspan(true) + '\">' + header.value + '</td>';\n            }, '');\n            var dataRow = pgridwidget.dataRows[i];\n            rowStr += dataRow.reduce(function(tr, dataCell, index) {\n              var formatFunc = config.dataFields[index = index % config.dataFields.length].formatFunc;\n              var value = dataCell.value == null ? '' : formatFunc ? formatFunc()(dataCell.value) : dataCell.value;\n              return tr += '<td>' + value + '</td>';\n            }, '');\n            str += rowStr + '</tr>';\n          }\n          return str;\n        })();\n\n        function toBase64(str) {\n          return utils.btoa(unescape(encodeURIComponent(str)));\n        }\n\n        return uriHeader + toBase64(docHeader + '<table>' + dataFields + sep + columnFields + columnHeaders + rowHeadersAndDataCells + '</table>' + docFooter);\n      };\n\n    }, {\n      \"./orb.themes\": 12,\n      \"./orb.ui.header\": 15,\n      \"./orb.utils\": 19\n    }],\n    6: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n\n      var filtering = module.exports = {\n        ALL: '#All#',\n        NONE: '#None#',\n        BLANK: '#Blank#\"'\n      };\n\n      filtering.expressionFilter = function(operator, term, staticValue, excludeStatic) {\n        var self = this;\n\n        this.operator = ops.get(operator);\n        this.regexpMode = false;\n        this.term = term || null;\n        if (this.term && this.operator && this.operator.regexpSupported) {\n          if (utils.isRegExp(this.term)) {\n            this.regexpMode = true;\n            if (!this.term.ignoreCase) {\n              this.term = new RegExp(this.term.source, 'i');\n            }\n          }\n        }\n\n        this.staticValue = staticValue;\n        this.excludeStatic = excludeStatic;\n\n        this.test = function(value) {\n          if (utils.isArray(self.staticValue)) {\n            var found = self.staticValue.indexOf(value) >= 0;\n            return self.excludeStatic && !found || !self.excludeStatic && found;\n          } else if (self.term) {\n            return self.operator.func(value, self.term);\n          } else if (self.staticValue === true || self.staticValue === filtering.ALL) {\n            return true;\n          } else if (self.staticValue === false || self.staticValue === filtering.NONE) {\n            return false;\n          } else {\n            return true;\n          }\n        };\n\n        this.isAlwaysTrue = function() {\n          return !(self.term || utils.isArray(self.staticValue) || self.staticValue === filtering.NONE || self.staticValue === false);\n        };\n      };\n\n      var ops = filtering.Operators = {\n        get: function(opname) {\n          switch (opname) {\n            case ops.MATCH.name:\n              return ops.MATCH;\n            case ops.NOTMATCH.name:\n              return ops.NOTMATCH;\n            case ops.EQ.name:\n              return ops.EQ;\n            case ops.NEQ.name:\n              return ops.NEQ;\n            case ops.GT.name:\n              return ops.GT;\n            case ops.GTE.name:\n              return ops.GTE;\n            case ops.LT.name:\n              return ops.LT;\n            case ops.LTE.name:\n              return ops.LTE;\n            default:\n              return ops.NONE;\n          }\n        },\n        NONE: null,\n        MATCH: {\n          name: 'Matches',\n          func: function(value, term) {\n            if (value) {\n              return value.toString().search(utils.isRegExp(term) ? term : new RegExp(term, 'i')) >= 0;\n            } else {\n              return !!!term;\n            }\n          },\n          regexpSupported: true\n        },\n        NOTMATCH: {\n          name: 'Does Not Match',\n          func: function(value, term) {\n            if (value) {\n              return value.toString().search(utils.isRegExp(term) ? term : new RegExp(term, 'i')) < 0;\n            } else {\n              return !!term;\n            }\n          },\n          regexpSupported: true\n        },\n        EQ: {\n          name: '=',\n          func: function(value, term) {\n            return value == term;\n          },\n          regexpSupported: false\n        },\n        NEQ: {\n          name: '<>',\n          func: function(value, term) {\n            return value != term;\n          },\n          regexpSupported: false\n        },\n        GT: {\n          name: '>',\n          func: function(value, term) {\n            return value > term;\n          },\n          regexpSupported: false\n        },\n        GTE: {\n          name: '>=',\n          func: function(value, term) {\n            return value >= term;\n          },\n          regexpSupported: false\n        },\n        LT: {\n          name: '<',\n          func: function(value, term) {\n            return value < term;\n          },\n          regexpSupported: false\n        },\n        LTE: {\n          name: '<=',\n          func: function(value, term) {\n            return value <= term;\n          },\n          regexpSupported: false\n        }\n      };\n\n    }, {\n      \"./orb.utils\": 19\n    }],\n    7: [function(_dereq_, module, exports) {\n\n      module.exports.utils = _dereq_('./orb.utils');\n      module.exports.pgrid = _dereq_('./orb.pgrid');\n      module.exports.pgridwidget = _dereq_('./orb.ui.pgridwidget');\n      module.exports.query = _dereq_('./orb.query');\n      module.exports['export'] = _dereq_('./orb.export.excel');\n\n    }, {\n      \"./orb.export.excel\": 5,\n      \"./orb.pgrid\": 8,\n      \"./orb.query\": 10,\n      \"./orb.ui.pgridwidget\": 16,\n      \"./orb.utils\": 19\n    }],\n    8: [function(_dereq_, module, exports) {\n\n      var PubSub = _dereq_('./orb.pubsub'),\n        axe = _dereq_('./orb.axe'),\n        configuration = _dereq_('./orb.config').config,\n        filtering = _dereq_('./orb.filtering'),\n        query = _dereq_('./orb.query'),\n        utils = _dereq_('./orb.utils');\n\n      var pgrid = module.exports = function(config) {\n\n        var self = this,\n          defaultfield = {\n            name: '#undefined#'\n          },\n          _iCache;\n\n        // inherit PubSub\n        PubSub.call(this);\n\n        this.config = new configuration(config);\n        this.filters = self.config.getPreFilters();\n        this.filteredDataSource = self.config.dataSource;\n\n        this.rows = new axe(self, axe.Type.ROWS);\n        this.columns = new axe(self, axe.Type.COLUMNS);\n        this.dataMatrix = {};\n\n        function refresh(refreshFilters) {\n          if (refreshFilters !== false) {\n            refreshFilteredDataSource();\n          }\n          self.rows.update();\n          self.columns.update();\n          computeValues();\n\n          // publish updated event\n          self.publish(pgrid.EVENT_UPDATED);\n        }\n\n        function refreshFilteredDataSource() {\n          var filterFields = utils.ownProperties(self.filters);\n          if (filterFields.length > 0) {\n            self.filteredDataSource = [];\n\n            for (var i = 0; i < self.config.dataSource.length; i++) {\n              var row = self.config.dataSource[i];\n              var exclude = false;\n              for (var fi = 0; fi < filterFields.length; fi++) {\n                var fieldname = filterFields[fi];\n                var fieldFilter = self.filters[fieldname];\n\n                if (fieldFilter && !fieldFilter.test(row[fieldname])) {\n                  exclude = true;\n                  break;\n                }\n              }\n              if (!exclude) {\n                self.filteredDataSource.push(row);\n              }\n            }\n          } else {\n            self.filteredDataSource = self.config.dataSource;\n          }\n        }\n\n        this.sort = function(axetype, field) {\n          if (axetype === axe.Type.ROWS) {\n            self.rows.sort(field);\n          } else if (axetype === axe.Type.COLUMNS) {\n            self.columns.sort(field);\n          } else {\n            return;\n          }\n\n          self.publish(pgrid.EVENT_SORT_CHANGED);\n        };\n\n        this.moveField = function(fieldname, oldaxetype, newaxetype, position) {\n          if (self.config.moveField(fieldname, oldaxetype, newaxetype, position)) {\n            refresh(false);\n            return true;\n          }\n          return false;\n        };\n\n        this.applyFilter = function(fieldname, operator, term, staticValue, excludeStatic) {\n          self.filters[fieldname] = new filtering.expressionFilter(operator, term, staticValue, excludeStatic);\n          refresh();\n        };\n\n        this.refreshData = function(data) {\n          self.config.dataSource = data;\n          refresh();\n        };\n\n        this.toggleSubtotals = function(axetype) {\n          if (self.config.toggleSubtotals(axetype)) {\n            self.publish(pgrid.EVENT_CONFIG_CHANGED);\n          }\n        };\n\n        this.toggleGrandtotal = function(axetype) {\n          if (self.config.toggleGrandtotal(axetype)) {\n            self.publish(pgrid.EVENT_CONFIG_CHANGED);\n          }\n        };\n\n        this.areSubtotalsVisible = function(axetype) {\n          return self.config.areSubtotalsVisible(axetype);\n        };\n\n        this.isGrandtotalVisible = function(axetype) {\n          return self.config.isGrandtotalVisible(axetype);\n        };\n\n        this.getFieldValues = function(field, filterFunc) {\n          var values1 = [];\n          var values = [];\n          var containsBlank = false;\n          for (var i = 0; i < self.config.dataSource.length; i++) {\n            var row = self.config.dataSource[i];\n            var val = row[field];\n            if (filterFunc !== undefined) {\n              if (filterFunc === true || typeof filterFunc === 'function' && filterFunc(val)) {\n                values1.push(val);\n              }\n            } else {\n              if (val != null) {\n                values1.push(val);\n              } else {\n                containsBlank = true;\n              }\n            }\n          }\n          if (values1.length > 1) {\n            if (utils.isNumber(values1[0]) || utils.isDate(values1[0])) {\n              values1.sort(function(a, b) {\n                return a ? b ? a - b : 1 : b ? -1 : 0;\n              });\n            } else {\n              values1.sort();\n            }\n\n            for (var vi = 0; vi < values1.length; vi++) {\n              if (vi === 0 || values1[vi] !== values[values.length - 1]) {\n                values.push(values1[vi]);\n              }\n            }\n          } else {\n            values = values1;\n          }\n          if (containsBlank) {\n            values.unshift(null);\n          }\n          return values;\n        };\n\n        this.getFieldFilter = function(field) {\n          return self.filters[field];\n        };\n\n        this.isFieldFiltered = function(field) {\n          var filter = self.getFieldFilter(field);\n          return filter != null && !filter.isAlwaysTrue();\n        };\n\n        this.getData = function(field, rowdim, coldim, aggregateFunc) {\n          var value;\n          if (rowdim && coldim) {\n\n            var datafieldName = field || (self.config.dataFields[0] || defaultfield).name;\n            var datafield = self.config.getDataField(datafieldName);\n\n            if (!datafield || aggregateFunc && datafield.aggregateFunc != aggregateFunc) {\n              value = self.calcAggregation(rowdim.isRoot ? null : rowdim.getRowIndexes().slice(0), coldim.isRoot ? null : coldim.getRowIndexes().slice(0), [datafieldName], aggregateFunc)[datafieldName];\n            } else {\n              if (self.dataMatrix[rowdim.id] && self.dataMatrix[rowdim.id][coldim.id]) {\n                value = self.dataMatrix[rowdim.id][coldim.id][datafieldName];\n              } else {\n                value = null;\n              }\n            }\n          }\n\n          return value === undefined ? null : value;\n        };\n\n        this.calcAggregation = function(rowIndexes, colIndexes, fieldNames, aggregateFunc) {\n          return computeValue(rowIndexes, colIndexes, rowIndexes, fieldNames, aggregateFunc);\n        };\n\n        this.getChartData = function() {\n\n          var config = self.config;\n\n          function getAxisLabel(axisFields) {\n            var str = '';\n            for (var ti = 0; ti < axisFields.length; ti++) {\n              str += (ti > 0 ? ' - ' : '') + axisFields[ti].caption;\n            }\n            return str;\n          }\n\n          var hAxisLabel = getAxisLabel(config.columnFields);\n          var vAxisLabel = config.dataFields[0].aggregateFuncName + '(' + config.dataFields[0].caption + ')';\n          var legendsLabel = getAxisLabel(config.rowFields);\n\n          var rowLeafDimensions = self.rows.flattenValues();\n          var colLeafDimensions = self.columns.flattenValues();\n          var data = [];\n\n          for (var ci = 0; ci < colLeafDimensions.length; ci++) {\n            var cdim = colLeafDimensions[ci];\n            var currData = [cdim.name];\n            for (var rri = 0; rri < rowLeafDimensions.length; rri++) {\n              currData.push(self.getData(config.dataFields[0].name, rowLeafDimensions[rri].dim, cdim.dim));\n            }\n            data.push(currData);\n          }\n\n          return {\n            title: vAxisLabel + ': ' + hAxisLabel + ' by ' + legendsLabel,\n            hAxisLabel: hAxisLabel,\n            vAxisLabel: vAxisLabel,\n            legendsLabel: legendsLabel,\n            colNames: rowLeafDimensions.map(function(d) {\n              return d.name;\n            }),\n            dataTable: data\n          };\n        };\n\n        this.query = query(self);\n\n        refresh();\n\n        function computeValue(rowIndexes, colIndexes, origRowIndexes, fieldNames, aggregateFunc) {\n\n          var res = {};\n\n          if (self.config.dataFieldsCount > 0) {\n\n            var intersection;\n\n            if (rowIndexes == null) {\n              intersection = colIndexes;\n            } else if (colIndexes == null) {\n              intersection = rowIndexes;\n            } else {\n              intersection = [];\n              for (var ri = 0; ri < rowIndexes.length; ri++) {\n                var rowindex = rowIndexes[ri];\n                if (rowindex >= 0) {\n                  var colrowindex = colIndexes.indexOf(rowindex);\n                  if (colrowindex >= 0) {\n                    rowIndexes[ri] = 0 - (rowindex + 2);\n                    intersection.push(rowindex);\n                  }\n                }\n              }\n            }\n\n            var emptyIntersection = intersection && intersection.length === 0;\n            var datasource = self.filteredDataSource;\n            var datafield;\n            var datafields = [];\n\n            if (fieldNames) {\n              for (var fieldnameIndex = 0; fieldnameIndex < fieldNames.length; fieldnameIndex++) {\n                datafield = self.config.getDataField(fieldNames[fieldnameIndex]);\n                if (!aggregateFunc) {\n                  if (!datafield) {\n                    datafield = self.config.getField(fieldNames[fieldnameIndex]);\n                    if (datafield) {\n                      aggregateFunc = datafield.dataSettings ? datafield.dataSettings.aggregateFunc() : datafield.aggregateFunc();\n                    }\n                  } else {\n                    aggregateFunc = datafield.aggregateFunc();\n                  }\n                }\n\n                if (datafield && aggregateFunc) {\n                  datafields.push({\n                    field: datafield,\n                    aggregateFunc: aggregateFunc\n                  });\n                }\n              }\n            } else {\n              for (var datafieldIndex = 0; datafieldIndex < self.config.dataFieldsCount; datafieldIndex++) {\n                datafield = self.config.dataFields[datafieldIndex] || defaultfield;\n                if (aggregateFunc || datafield.aggregateFunc) {\n                  datafields.push({\n                    field: datafield,\n                    aggregateFunc: aggregateFunc || datafield.aggregateFunc()\n                  });\n                }\n              }\n            }\n\n            for (var dfi = 0; dfi < datafields.length; dfi++) {\n              datafield = datafields[dfi];\n              // no data\n              if (emptyIntersection) {\n                res[datafield.field.name] = null;\n              } else {\n                res[datafield.field.name] = datafield.aggregateFunc(datafield.field.name, intersection || 'all', self.filteredDataSource, origRowIndexes || rowIndexes, colIndexes);\n              }\n            }\n          }\n\n          return res;\n        }\n\n        function computeRowValues(rowDim) {\n\n          if (rowDim) {\n            var data = {};\n            var rid = 'r' + rowDim.id;\n\n            // set cached row indexes for current row dimension\n            if (_iCache[rid] === undefined) {\n              _iCache[rid] = rowDim.isRoot ? null : _iCache[rowDim.parent.id] || rowDim.getRowIndexes();\n            }\n\n            // calc grand-total cell\n            data[self.columns.root.id] = computeValue(rowDim.isRoot ? null : _iCache[rid].slice(0), null);\n\n            if (self.columns.dimensionsCount > 0) {\n              var p = 0;\n              var parents = [self.columns.root];\n\n              while (p < parents.length) {\n                var parent = parents[p];\n                var rowindexes = rowDim.isRoot ? null : parent.isRoot ? _iCache[rid].slice(0) : _iCache['c' + parent.id].slice(0);\n\n                for (var i = 0; i < parent.values.length; i++) {\n                  var subdim = parent.subdimvals[parent.values[i]];\n                  var cid = 'c' + subdim.id;\n\n                  // set cached row indexes for this column leaf dimension\n                  if (_iCache[cid] === undefined) {\n                    _iCache[cid] = _iCache[cid] || subdim.getRowIndexes().slice(0);\n                  }\n\n                  data[subdim.id] = computeValue(rowindexes, _iCache[cid], rowDim.isRoot ? null : rowDim.getRowIndexes());\n\n                  if (!subdim.isLeaf) {\n                    parents.push(subdim);\n                    if (rowindexes) {\n                      _iCache[cid] = [];\n                      for (var ur = 0; ur < rowindexes.length; ur++) {\n                        var vr = rowindexes[ur];\n                        if (vr != -1 && vr < 0) {\n                          _iCache[cid].push(0 - (vr + 2));\n                          rowindexes[ur] = -1;\n                        }\n                      }\n                    }\n                  }\n                }\n                _iCache['c' + parent.id] = undefined;\n                p++;\n              }\n            }\n\n            return data;\n          }\n        }\n\n        function computeValues() {\n          self.dataMatrix = {};\n          _iCache = {};\n\n          // calc grand total row\n          self.dataMatrix[self.rows.root.id] = computeRowValues(self.rows.root);\n\n          if (self.rows.dimensionsCount > 0) {\n            var parents = [self.rows.root];\n            var p = 0;\n            var parent;\n            while (p < parents.length) {\n              parent = parents[p];\n              // calc children rows\n              for (var i = 0; i < parent.values.length; i++) {\n                var subdim = parent.subdimvals[parent.values[i]];\n                // calc child row\n                self.dataMatrix[subdim.id] = computeRowValues(subdim);\n                // if row is not a leaf, add it to parents array to process its children\n                if (!subdim.isLeaf) {\n                  parents.push(subdim);\n                }\n              }\n              // next parent\n              p++;\n            }\n          }\n        }\n      };\n\n      // pgrid events\n      pgrid.EVENT_UPDATED = 'pgrid:updated';\n      pgrid.EVENT_SORT_CHANGED = 'pgrid:sort-changed';\n      pgrid.EVENT_CONFIG_CHANGED = 'pgrid:config-changed';\n\n    }, {\n      \"./orb.axe\": 2,\n      \"./orb.config\": 3,\n      \"./orb.filtering\": 6,\n      \"./orb.pubsub\": 9,\n      \"./orb.query\": 10,\n      \"./orb.utils\": 19\n    }],\n    9: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n\n      module.exports = function() {\n        var _topics = {};\n\n        this.subscribe = function(topic, callback) {\n          if (utils.isString(topic) && utils.isFunction(callback)) {\n            _topics[topic] = _topics[topic] || [];\n            _topics[topic].push(callback);\n          }\n        };\n\n        this.publish = function(topic) {\n          if (utils.isString(topic)) {\n            utils.forEach(_topics[topic], function(callback) {\n              callback.apply(null, [topic].concat(Array.prototype.slice.call(arguments, 1)));\n            });\n          }\n        };\n      };\n\n    }, {\n      \"./orb.utils\": 19\n    }],\n    10: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var axe = _dereq_('./orb.axe');\n      var aggregation = _dereq_('./orb.aggregation');\n\n      var queryBase = function(source, query, filters) {\n\n        var self = this;\n\n        this.source = source;\n        this.query = query;\n        this.filters = filters;\n\n        this.extractResult = function(aggs, options, outerArgs) {\n          if (outerArgs.multi === true) {\n            var res = {};\n            for (var ai = 0; ai < options.multiFieldNames.length; ai++) {\n              res[options.multiFieldNames[ai]] = aggs[self.getCaptionName(options.multiFieldNames[ai])];\n            }\n            return res;\n          } else {\n            return aggs[outerArgs.datafieldname];\n          }\n        };\n\n        this.measureFunc = function(datafieldname, multi, aggregateFunc, fieldsConfig) {\n\n          var outerArgs = {\n            datafieldname: self.getCaptionName(datafieldname),\n            multi: multi,\n            aggregateFunc: aggregateFunc\n          };\n\n          return function(options) {\n            options = self.cleanOptions(options, arguments, outerArgs);\n            var aggs = self.compute(options, fieldsConfig, multi);\n            return self.extractResult(aggs, options, outerArgs);\n          };\n        };\n\n        this.setDefaultAggFunctions = function(param) {\n\n          // if there is a registered field with a name or caption 'val', use 'val_'\n          var valname = self.query.val ? 'val_' : 'val';\n          self.query[valname] = self.measureFunc(undefined, true, undefined, param);\n\n\n          var aggFunctions = utils.ownProperties(aggregation);\n          for (var funcIndex = 0; funcIndex < aggFunctions.length; funcIndex++) {\n            var funcName = aggFunctions[funcIndex];\n            if (funcName !== 'toAggregateFunc') {\n              self.query[funcName] = self.measureFunc(undefined, true, aggregation[funcName], param);\n            }\n          }\n        };\n      };\n\n      var pgridQuery = function(pgrid) {\n\n        queryBase.call(this, pgrid, {}, {});\n\n        var self = this;\n\n        this.getCaptionName = function(caption) {\n          return self.source.config.captionToName(caption);\n        };\n\n        this.cleanOptions = function(options, innerArgs, outerArgs) {\n          var opts = {\n            fieldNames: []\n          };\n\n          if (outerArgs.multi === true) {\n            if (options && typeof options === 'object') {\n              opts.aggregateFunc = options.aggregateFunc;\n              opts.multiFieldNames = options.fields;\n            } else {\n              opts.aggregateFunc = outerArgs.aggregateFunc;\n              opts.multiFieldNames = innerArgs;\n            }\n\n            for (var ai = 0; ai < opts.multiFieldNames.length; ai++) {\n              opts.fieldNames.push(self.getCaptionName(opts.multiFieldNames[ai]));\n            }\n          } else {\n            opts.aggregateFunc = options;\n            opts.fieldNames.push(outerArgs.datafieldname);\n          }\n\n          if (opts.aggregateFunc) {\n            opts.aggregateFunc = aggregation.toAggregateFunc(opts.aggregateFunc);\n          }\n\n          return opts;\n        };\n\n        this.setup = function(parameters) {\n          var rowFields = self.source.config.rowFields;\n          var colFields = self.source.config.columnFields;\n          var datafields = self.source.config.dataFields;\n          var fIndex;\n\n          // row fields setup\n          for (fIndex = 0; fIndex < rowFields.length; fIndex++) {\n            self.slice(rowFields[fIndex], axe.Type.ROWS, rowFields.length - fIndex);\n          }\n\n          // column fields setup\n          for (fIndex = 0; fIndex < colFields.length; fIndex++) {\n            self.slice(colFields[fIndex], axe.Type.COLUMNS, colFields.length - fIndex);\n          }\n\n          // data fields setup\n          for (fIndex = 0; fIndex < datafields.length; fIndex++) {\n            var df = datafields[fIndex];\n            var dfname = df.name;\n            var dfcaption = df.caption || dfname;\n\n            self.query[dfname] = self.query[dfcaption] = self.measureFunc(dfname);\n          }\n\n          if (parameters) {\n            for (var param in parameters) {\n              if (parameters.hasOwnProperty(param)) {\n                self.query[param](parameters[param]);\n              }\n            }\n          }\n\n          self.setDefaultAggFunctions();\n\n          return self.query;\n        };\n\n        this.slice = function(field, axetype, depth) {\n          self.query[field.name] = self.query[field.caption || field.name] = function(val) {\n            var f = {\n              name: field.name,\n              val: val,\n              depth: depth\n            };\n            (self.filters[axetype] = self.filters[axetype] || []).push(f);\n            return self.query;\n          };\n        };\n\n        function filterDimensions(upperDims, filter) {\n          return function(dim) {\n            return dim.value === filter.val && (!upperDims || upperDims.some(function(upperDim) {\n              var parent = dim.parent;\n              if (parent) {\n                while (parent.depth < upperDim.depth) {\n                  parent = parent.parent;\n                }\n              }\n              return parent === upperDim;\n            }));\n          };\n        }\n\n        this.applyFilters = function(axetype) {\n          if (self.filters[axetype]) {\n            var sortedFilters = self.filters[axetype].sort(function(f1, f2) {\n              return f2.depth - f1.depth;\n            });\n\n            var currAxe = self.source[axetype === axe.Type.ROWS ? 'rows' : 'columns'];\n            var filterIndex = 0;\n            var filtered = null;\n            while (filterIndex < sortedFilters.length) {\n              var filter = sortedFilters[filterIndex];\n              filtered = currAxe.dimensionsByDepth[filter.depth].filter(filterDimensions(filtered, filter));\n              filterIndex++;\n            }\n            return filtered;\n          }\n          return null;\n        };\n\n        this.compute = function(options) {\n          var rowdims = self.applyFilters(axe.Type.ROWS) || [self.source.rows.root];\n          var coldims = self.applyFilters(axe.Type.COLUMNS) || [self.source.columns.root];\n\n          var aggs;\n\n          if (rowdims.length === 1 && coldims.length === 1) {\n            aggs = {};\n            for (var ai = 0; ai < options.fieldNames.length; ai++) {\n              aggs[options.fieldNames[ai]] = self.source.getData(options.fieldNames[ai], rowdims[0], coldims[0], options.aggregateFunc);\n            }\n          } else {\n            var rowIndexes = [];\n            var colIndexes = [];\n\n            for (var rdi = 0; rdi < rowdims.length; rdi++) {\n              rowIndexes = rowIndexes.concat(rowdims[rdi].getRowIndexes());\n            }\n            for (var cdi = 0; cdi < coldims.length; cdi++) {\n              colIndexes = colIndexes.concat(coldims[cdi].getRowIndexes());\n            }\n\n            aggs = self.source.calcAggregation(rowIndexes, colIndexes, options.fieldNames, options.aggregateFunc);\n          }\n\n          return aggs;\n        };\n      };\n\n      var arrayQuery = function(array) {\n\n        queryBase.call(this, array, {}, []);\n\n        var self = this;\n        var captionToName = {};\n\n        this.setCaptionName = function(caption, name) {\n          captionToName[caption || name] = name;\n        };\n\n        this.getCaptionName = function(caption) {\n          return captionToName[caption] || caption;\n        };\n\n        this.cleanOptions = function(options, innerArgs, outerArgs) {\n          var opts = {\n            fieldNames: []\n          };\n\n          if (outerArgs.multi === true) {\n            if (options && typeof options === 'object') {\n              opts.aggregateFunc = options.aggregateFunc;\n              opts.multiFieldNames = options.fields;\n            } else {\n              opts.aggregateFunc = outerArgs.aggregateFunc;\n              opts.multiFieldNames = innerArgs;\n            }\n\n            for (var ai = 0; ai < opts.multiFieldNames.length; ai++) {\n              opts.fieldNames.push(self.getCaptionName(opts.multiFieldNames[ai]));\n            }\n          } else {\n            opts.aggregateFunc = options || outerArgs.aggregateFunc;\n            opts.fieldNames.push(outerArgs.datafieldname);\n          }\n\n          return opts;\n        };\n\n        this.setup = function(fieldsConfig) {\n\n          self.query.slice = function(field, val) {\n            var f = {\n              name: field,\n              val: val\n            };\n            self.filters.push(f);\n            return self.query;\n          };\n\n          if (fieldsConfig) {\n\n            var fieldNames = utils.ownProperties(fieldsConfig);\n\n            for (var fi = 0; fi < fieldNames.length; fi++) {\n              var fname = fieldNames[fi];\n              var f = fieldsConfig[fname];\n              var fcaption = f.caption || f.name;\n              f.name = fname;\n\n              self.setCaptionName(fcaption, fname);\n\n              if (f.toAggregate) {\n                self.query[fname] = self.query[fcaption] = self.measureFunc(fname, false, f.aggregateFunc);\n              } else {\n                self.slice(f);\n              }\n            }\n          }\n\n          self.setDefaultAggFunctions(fieldsConfig);\n\n          return self.query;\n        };\n\n        this.slice = function(field) {\n          self.query[field.name] = self.query[field.caption || field.name] = function(val) {\n            return self.query.slice(field.name, val);\n          };\n        };\n\n        this.applyFilters = function() {\n          var rowIndexes = [];\n\n          for (var i = 0; i < self.source.length; i++) {\n            var row = self.source[i];\n            var include = true;\n            for (var j = 0; j < self.filters.length; j++) {\n              var filter = self.filters[j];\n              if (row[filter.name] !== filter.val) {\n                include = false;\n                break;\n              }\n            }\n            if (include) {\n              rowIndexes.push(i);\n            }\n          }\n\n          return rowIndexes;\n        };\n\n        this.compute = function(options, fieldsConfig, multi) {\n          var rowIndexes = self.applyFilters();\n\n          var aggs = {};\n\n          for (var ai = 0; ai < options.fieldNames.length; ai++) {\n            var datafield = options.fieldNames[ai];\n            var aggFunc = aggregation.toAggregateFunc(multi === true ? options.aggregateFunc || (fieldsConfig && fieldsConfig[datafield] ? fieldsConfig[datafield].aggregateFunc : undefined) : options.aggregateFunc);\n\n            aggs[datafield] = aggFunc(datafield, rowIndexes || 'all', self.source, rowIndexes, null);\n          }\n\n          return aggs;\n        };\n      };\n\n      module.exports = function(source, fieldsConfig) {\n        if (utils.isArray(source)) {\n          return new arrayQuery(source).setup(fieldsConfig);\n        } else {\n          // assume it's a pgrid\n          return function(parameters) {\n            return new pgridQuery(source).setup(parameters);\n          };\n        }\n      };\n\n    }, {\n      \"./orb.aggregation\": 1,\n      \"./orb.axe\": 2,\n      \"./orb.utils\": 19\n    }],\n    11: [function(_dereq_, module, exports) {\n\n      module.exports = function() {\n        var states = {};\n\n        this.set = function(key, state) {\n          states[key] = state;\n        };\n\n        this.get = function(key) {\n          return states[key];\n        };\n      };\n\n    }, {}],\n    12: [function(_dereq_, module, exports) {\n\n      module.exports = (function() {\n\n        var currentTheme = 'blue';\n        var themeManager = {};\n\n        function isBootstrap() {\n          return currentTheme === 'bootstrap';\n        }\n\n        themeManager.themes = {\n          red: '#C72C48',\n          blue: '#5bc0de',\n          green: '#3fb618',\n          orange: '#df691a',\n          flower: '#A74AC7',\n          gray: '#808080',\n          black: '#000000',\n          white: '#FFFFFF'\n        };\n\n        themeManager.current = function(newTheme) {\n          if (newTheme) {\n            currentTheme = themeManager.validateTheme(newTheme);\n          }\n\n          return currentTheme;\n        };\n\n        themeManager.validateTheme = function(themeName) {\n          themeName = (themeName || '').toString().trim();\n          if (!themeManager.themes[themeName] && themeName !== 'bootstrap') {\n            return 'blue';\n          } else {\n            return themeName;\n          }\n        };\n\n        themeManager.getPivotClasses = function() {\n          return {\n            container: 'orb-container orb-' + currentTheme,\n            table: 'orb' + (isBootstrap() ? ' table' : '')\n          };\n        };\n\n        themeManager.getButtonClasses = function() {\n          return {\n            pivotButton: 'fld-btn' + (isBootstrap() ? ' btn btn-default btn-xs' : ''),\n            orbButton: 'orb-btn' + (isBootstrap() ? ' btn btn-default btn-xs' : ''),\n            scrollBar: isBootstrap() ? ' btn btn-default btn-xs' : ''\n          };\n        };\n\n        themeManager.getFilterClasses = function() {\n          return {\n            container: 'orb-' + currentTheme + ' orb fltr-cntnr'\n          };\n        };\n\n        themeManager.getGridClasses = function() {\n          return {\n            table: isBootstrap() ? 'table table-condensed' : 'orb-table'\n          };\n        };\n\n        themeManager.getDialogClasses = function(visible) {\n          var classes = {\n            overlay: 'orb-overlay orb-overlay-' + (visible ? 'visible' : 'hidden') + ' orb-' + currentTheme,\n            dialog: 'orb-dialog',\n            content: '',\n            header: 'orb-dialog-header',\n            title: '',\n            body: 'orb-dialog-body'\n          };\n\n          if (isBootstrap()) {\n            classes.overlay += ' modal';\n            classes.dialog += ' modal-dialog';\n            classes.content = 'modal-content';\n            classes.header += ' modal-header';\n            classes.title = 'modal-title';\n            classes.body += ' modal-body';\n          }\n          return classes;\n        };\n\n        var utils = themeManager.utils = {\n          hexToRgb: function(hex) {\n            var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n            return result ? {\n              r: parseInt(result[1], 16),\n              g: parseInt(result[2], 16),\n              b: parseInt(result[3], 16)\n            } : null;\n          },\n          rgbaToHex: function(rgba) {\n            var matches = rgba.match(/rgba\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*\\)/);\n            if (matches) {\n              var alpha = parseFloat(matches[4]);\n              return '#' + utils.applyAlphaAndToHex(matches[1], alpha) + utils.applyAlphaAndToHex(matches[2], alpha) + utils.applyAlphaAndToHex(matches[3], alpha);\n            }\n            return null;\n          },\n          rgbaToHexA: function(rgba) {\n            var matches = rgba.match(/rgba\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*\\)/);\n            if (matches) {\n              var alpha = parseFloat(matches[4]);\n              return '#' + utils.applyAlphaAndToHex(0, alpha) + utils.applyAlphaAndToHex(matches[1], 1) + utils.applyAlphaAndToHex(matches[2], 1) + utils.applyAlphaAndToHex(matches[3], 1);\n            }\n            return null;\n          },\n          applyAlphaAndToHex: function(value, alpha) {\n            return (Math.floor(alpha * parseInt(value) + (1 - alpha) * 255) + 256).toString(16).substr(1, 2);\n          },\n          fadeoutColor: function(color, alpha) {\n            color = utils.hexToRgb(color);\n            return '#' + utils.applyAlphaAndToHex(color.r, alpha) + utils.applyAlphaAndToHex(color.g, alpha) + utils.applyAlphaAndToHex(color.b, alpha);\n          }\n        };\n\n        return themeManager;\n      })();\n\n    }, {}],\n    13: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe');\n      var uiheaders = _dereq_('./orb.ui.header');\n\n      module.exports = function(axeModel) {\n\n        var self = this;\n\n\n        this.axe = axeModel;\n\n\n        this.headers = [];\n\n        this.dataFieldsCount = function() {\n          return self.axe.pgrid.config.dataHeadersLocation === 'columns' && self.axe.type === axe.Type.COLUMNS || self.axe.pgrid.config.dataHeadersLocation === 'rows' && self.axe.type === axe.Type.ROWS ? self.axe.pgrid.config.dataFieldsCount : 1;\n        };\n\n        this.isMultiDataFields = function() {\n          return self.dataFieldsCount() > 1;\n        };\n\n        this.toggleFieldExpansion = function(field, newState) {\n          var toToggle = [];\n          var allExpanded = true;\n          var hIndex;\n\n          for (var i = 0; i < this.headers.length; i++) {\n            for (hIndex = 0; hIndex < this.headers[i].length; hIndex++) {\n              var header = this.headers[i][hIndex];\n              if (header.type === uiheaders.HeaderType.SUB_TOTAL && (field == null || header.dim.field.name == field.name)) {\n                toToggle.push(header);\n                allExpanded = allExpanded && header.expanded;\n              }\n            }\n          }\n\n          if (newState !== undefined) {\n            allExpanded = !newState;\n          }\n\n          if (toToggle.length > 0) {\n            for (hIndex = 0; hIndex < toToggle.length; hIndex++) {\n              if (allExpanded) {\n                toToggle[hIndex].collapse();\n              } else {\n                toToggle[hIndex].expand();\n              }\n            }\n            return true;\n          }\n\n          return false;\n        };\n      };\n\n    }, {\n      \"./orb.axe\": 2,\n      \"./orb.ui.header\": 15\n    }],\n    14: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe');\n      var axeUi = _dereq_('./orb.ui.axe');\n      var uiheaders = _dereq_('./orb.ui.header');\n\n      module.exports = function(columnsAxe) {\n\n        var self = this;\n\n        axeUi.call(self, columnsAxe);\n\n        this.leafsHeaders = null;\n\n        this.build = function() {\n          self.headers = [];\n\n          if (self.axe != null) {\n            // Fill columns layout infos\n            if (self.axe.root.values.length > 0 || self.axe.pgrid.config.grandTotal.columnsvisible) {\n              for (var depth = self.axe.root.depth; depth > 1; depth--) {\n                self.headers.push([]);\n                getUiInfo(depth, self.headers);\n              }\n\n              if (self.axe.pgrid.config.grandTotal.columnsvisible) {\n                // add grandtotal header\n                (self.headers[0] = self.headers[0] || []).push(new uiheaders.header(axe.Type.COLUMNS, uiheaders.HeaderType.GRAND_TOTAL, self.axe.root, null, self.dataFieldsCount()));\n              }\n            }\n\n            if (self.headers.length === 0) {\n              self.headers.push([new uiheaders.header(axe.Type.COLUMNS, uiheaders.HeaderType.INNER, self.axe.root, null, self.dataFieldsCount())]);\n            }\n\n            // generate leafs headers\n            generateLeafsHeaders();\n          }\n        };\n\n        function generateLeafsHeaders() {\n\n          var leafsHeaders = [];\n\n          function pushsubtotal(pheader) {\n            if (pheader && pheader.dim.field.subTotal.visible) {\n              leafsHeaders.push(pheader.subtotalHeader);\n            }\n          }\n\n          if (self.headers.length > 0) {\n            // last headers row\n            var infos = self.headers[self.headers.length - 1];\n            var header = infos[0];\n\n            if (header) {\n              var currparent,\n                prevpar = header.parent;\n\n              for (var i = 0; i < infos.length; i++) {\n                header = infos[i];\n                currparent = header.parent;\n                // if current header parent is different than previous header parent,\n                // add previous parent\n                if (currparent != prevpar) {\n                  pushsubtotal(prevpar);\n                  if (currparent != null) {\n                    // walk up parent hierarchy and add grand parents if different\n                    // than current header grand parents\n                    var grandpar = currparent.parent;\n                    var prevgrandpar = prevpar ? prevpar.parent : null;\n                    while (grandpar != prevgrandpar && prevgrandpar != null) {\n                      pushsubtotal(prevgrandpar);\n                      grandpar = grandpar ? grandpar.parent : null;\n                      prevgrandpar = prevgrandpar ? prevgrandpar.parent : null;\n                    }\n                  }\n                  // update previous parent variable\n                  prevpar = currparent;\n                }\n                // push current header\n                leafsHeaders.push(infos[i]);\n\n                // if it's the last header, add all of its parents up to the top\n                if (i === infos.length - 1) {\n                  while (prevpar != null) {\n                    pushsubtotal(prevpar);\n                    prevpar = prevpar.parent;\n                  }\n                }\n              }\n              // grandtotal is visible for columns and if there is more than one dimension in this axe\n              if (self.axe.pgrid.config.grandTotal.columnsvisible && self.axe.dimensionsCount > 1) {\n                // push also grand total header\n                leafsHeaders.push(self.headers[0][self.headers[0].length - 1]);\n              }\n            }\n          }\n\n          // add data headers if more than 1 data field and they willbe the leaf headers\n          if (self.isMultiDataFields()) {\n            self.leafsHeaders = [];\n            for (var leafIndex = 0; leafIndex < leafsHeaders.length; leafIndex++) {\n              for (var datafieldindex = 0; datafieldindex < self.dataFieldsCount(); datafieldindex++) {\n                self.leafsHeaders.push(new uiheaders.dataHeader(self.axe.pgrid.config.dataFields[datafieldindex], leafsHeaders[leafIndex]));\n              }\n            }\n            self.headers.push(self.leafsHeaders);\n          } else {\n            self.leafsHeaders = leafsHeaders;\n          }\n        }\n\n        this.build();\n\n\n        function getUiInfo(depth, headers) {\n\n          var infos = headers[headers.length - 1];\n          var parents = self.axe.root.depth === depth ? [null] : headers[self.axe.root.depth - depth - 1].filter(function(p) {\n            return p.type !== uiheaders.HeaderType.SUB_TOTAL;\n          });\n\n          for (var pi = 0; pi < parents.length; pi++) {\n\n            var parent = parents[pi];\n            var parentDim = parent == null ? self.axe.root : parent.dim;\n\n            for (var di = 0; di < parentDim.values.length; di++) {\n\n              var subvalue = parentDim.values[di];\n              var subdim = parentDim.subdimvals[subvalue];\n\n              var subtotalHeader;\n              if (!subdim.isLeaf && subdim.field.subTotal.visible) {\n                subtotalHeader = new uiheaders.header(axe.Type.COLUMNS, uiheaders.HeaderType.SUB_TOTAL, subdim, parent, self.dataFieldsCount());\n              } else {\n                subtotalHeader = null;\n              }\n\n              var header = new uiheaders.header(axe.Type.COLUMNS, null, subdim, parent, self.dataFieldsCount(), subtotalHeader);\n              infos.push(header);\n\n              if (!subdim.isLeaf && subdim.field.subTotal.visible) {\n                infos.push(subtotalHeader);\n              }\n            }\n          }\n        }\n      };\n\n    }, {\n      \"./orb.axe\": 2,\n      \"./orb.ui.axe\": 13,\n      \"./orb.ui.header\": 15\n    }],\n    15: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe'),\n        state = new(_dereq_('./orb.state'))();\n\n      var HeaderType = module.exports.HeaderType = {\n        EMPTY: 1,\n        DATA_HEADER: 2,\n        DATA_VALUE: 3,\n        FIELD_BUTTON: 4,\n        INNER: 5,\n        WRAPPER: 6,\n        SUB_TOTAL: 7,\n        GRAND_TOTAL: 8,\n        getHeaderClass: function(headerType, axetype) {\n          var cssclass = axetype === axe.Type.ROWS ? 'header-row' : axetype === axe.Type.COLUMNS ? 'header-col' : '';\n          switch (headerType) {\n            case HeaderType.EMPTY:\n            case HeaderType.FIELD_BUTTON:\n              cssclass = 'empty';\n              break;\n            case HeaderType.INNER:\n              cssclass = 'header ' + cssclass;\n              break;\n            case HeaderType.WRAPPER:\n              cssclass = 'header ' + cssclass;\n              break;\n            case HeaderType.SUB_TOTAL:\n              cssclass = 'header header-st ' + cssclass;\n              break;\n            case HeaderType.GRAND_TOTAL:\n              cssclass = 'header header-gt ' + cssclass;\n              break;\n          }\n\n          return cssclass;\n        },\n        getCellClass: function(rowHeaderType, colHeaderType) {\n          var cssclass = '';\n          switch (rowHeaderType) {\n            case HeaderType.GRAND_TOTAL:\n              cssclass = 'cell-gt';\n              break;\n            case HeaderType.SUB_TOTAL:\n              if (colHeaderType === HeaderType.GRAND_TOTAL) {\n                cssclass = 'cell-gt';\n              } else {\n                cssclass = 'cell-st';\n              }\n              break;\n            default:\n              if (colHeaderType === HeaderType.GRAND_TOTAL) {\n                cssclass = 'cell-gt';\n              } else if (colHeaderType === HeaderType.SUB_TOTAL) {\n                cssclass = 'cell-st';\n              } else {\n                cssclass = '';\n              }\n          }\n          return cssclass;\n        }\n      };\n\n      function CellBase(options) {\n\n        this.axetype = options.axetype;\n\n        this.type = options.type;\n\n        this.template = options.template;\n\n        this.value = options.value;\n\n        this.expanded = true;\n\n        this.cssclass = options.cssclass;\n\n        this.hspan = options.hspan || function() {\n          return 1;\n        };\n\n        this.vspan = options.vspan || function() {\n          return 1;\n        };\n\n        this.visible = options.isvisible || function() {\n          return true;\n        };\n\n        this.key = this.axetype + this.type + this.value;\n        this.getState = function() {\n          return state.get(this.key);\n        };\n        this.setState = function(newState) {\n          state.set(this.key, newState);\n        };\n      }\n\n      module.exports.header = function(axetype, headerType, dim, parent, datafieldscount, subtotalHeader) {\n\n        var self = this;\n\n        var hspan;\n        var vspan;\n        var value;\n\n        var isRowsAxe = axetype === axe.Type.ROWS;\n        headerType = headerType || (dim.depth === 1 ? HeaderType.INNER : HeaderType.WRAPPER);\n\n        switch (headerType) {\n          case HeaderType.GRAND_TOTAL:\n            value = 'Grand Total';\n            hspan = isRowsAxe ? dim.depth - 1 || 1 : datafieldscount;\n            vspan = isRowsAxe ? datafieldscount : dim.depth - 1 || 1;\n            break;\n          case HeaderType.SUB_TOTAL:\n            value = dim.value;\n            hspan = isRowsAxe ? dim.depth : datafieldscount;\n            vspan = isRowsAxe ? datafieldscount : dim.depth;\n            break;\n          default:\n            value = dim.value;\n            hspan = isRowsAxe ? 1 : null;\n            vspan = isRowsAxe ? null : 1;\n            break;\n        }\n\n        CellBase.call(this, {\n          axetype: axetype,\n          type: headerType,\n          template: isRowsAxe ? 'cell-template-row-header' : 'cell-template-column-header',\n          value: value,\n          cssclass: HeaderType.getHeaderClass(headerType, axetype),\n          hspan: hspan != null ? function() {\n            return hspan;\n          } : calcSpan,\n          vspan: vspan != null ? function() {\n            return vspan;\n          } : calcSpan,\n          isvisible: isParentExpanded\n        });\n\n        this.subtotalHeader = subtotalHeader;\n        this.parent = parent;\n        this.subheaders = [];\n        this.dim = dim;\n        this.expanded = this.getState() ? this.getState().expanded : headerType !== HeaderType.SUB_TOTAL || !dim.field.subTotal.collapsed;\n\n        this.expand = function() {\n          self.expanded = true;\n          this.setState({\n            expanded: self.expanded\n          });\n        };\n        this.collapse = function() {\n          self.expanded = false;\n          this.setState({\n            expanded: self.expanded\n          });\n        };\n\n        if (parent != null) {\n          parent.subheaders.push(this);\n        }\n\n        function isParentExpanded() {\n          if (self.type === HeaderType.SUB_TOTAL) {\n            var hparent = self.parent;\n            while (hparent != null) {\n              if (hparent.subtotalHeader && !hparent.subtotalHeader.expanded) {\n                return false;\n              }\n              hparent = hparent.parent;\n            }\n            return true;\n          } else {\n\n            var isexpanded = self.dim.isRoot || self.dim.isLeaf || !self.dim.field.subTotal.visible || self.subtotalHeader.expanded;\n            if (!isexpanded) {\n              return false;\n            }\n\n            var par = self.parent;\n            while (par != null && (!par.dim.field.subTotal.visible || par.subtotalHeader != null && par.subtotalHeader.expanded)) {\n              par = par.parent;\n            }\n            return par == null || par.subtotalHeader == null ? isexpanded : par.subtotalHeader.expanded;\n          }\n        }\n\n        function calcSpan(ignoreVisibility) {\n          var tspan = 0;\n          var subSpan;\n          var addone = false;\n\n          if (isRowsAxe || ignoreVisibility || self.visible()) {\n            if (!self.dim.isLeaf) {\n              // subdimvals 'own' properties are the set of values for this dimension\n              if (self.subheaders.length > 0) {\n                for (var i = 0; i < self.subheaders.length; i++) {\n                  var subheader = self.subheaders[i];\n                  // if its not an array\n                  if (!subheader.dim.isLeaf) {\n                    subSpan = isRowsAxe ? subheader.vspan() : subheader.hspan();\n                    tspan += subSpan;\n                    if (i === 0 && subSpan === 0) {\n                      addone = true;\n                    }\n                  } else {\n                    tspan += datafieldscount;\n                  }\n                }\n              } else {\n                tspan += datafieldscount;\n              }\n            } else {\n              return datafieldscount;\n            }\n            return tspan + (addone ? 1 : 0);\n          }\n          return tspan;\n        }\n      };\n\n      module.exports.dataHeader = function(datafield, parent) {\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.DATA_HEADER,\n          template: 'cell-template-dataheader',\n          value: datafield,\n          cssclass: HeaderType.getHeaderClass(parent.type, parent.axetype),\n          isvisible: parent.visible\n        });\n\n        this.parent = parent;\n      };\n\n      module.exports.dataCell = function(pgrid, isvisible, rowinfo, colinfo) {\n\n        this.rowDimension = rowinfo.type === HeaderType.DATA_HEADER ? rowinfo.parent.dim : rowinfo.dim;\n        this.columnDimension = colinfo.type === HeaderType.DATA_HEADER ? colinfo.parent.dim : colinfo.dim;\n        this.rowType = rowinfo.type === HeaderType.DATA_HEADER ? rowinfo.parent.type : rowinfo.type;\n        this.colType = colinfo.type === HeaderType.DATA_HEADER ? colinfo.parent.type : colinfo.type;\n\n        this.datafield = pgrid.config.dataFieldsCount > 1 ? pgrid.config.dataHeadersLocation === 'rows' ? rowinfo.value : colinfo.value : pgrid.config.dataFields[0];\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.DATA_VALUE,\n          template: 'cell-template-datavalue',\n          value: pgrid.getData(this.datafield ? this.datafield.name : null, this.rowDimension, this.columnDimension),\n          cssclass: 'cell ' + HeaderType.getCellClass(this.rowType, this.colType),\n          isvisible: isvisible\n        });\n      };\n\n      module.exports.buttonCell = function(field) {\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.FIELD_BUTTON,\n          template: 'cell-template-fieldbutton',\n          value: field,\n          cssclass: HeaderType.getHeaderClass(HeaderType.FIELD_BUTTON)\n        });\n      };\n\n      module.exports.emptyCell = function(hspan, vspan) {\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.EMPTY,\n          template: 'cell-template-empty',\n          value: null,\n          cssclass: HeaderType.getHeaderClass(HeaderType.EMPTY),\n          hspan: function() {\n            return hspan;\n          },\n          vspan: function() {\n            return vspan;\n          }\n        });\n      };\n\n    }, {\n      \"./orb.axe\": 2,\n      \"./orb.state\": 11\n    }],\n    16: [function(_dereq_, module, exports) {\n\n      var ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        axe = _dereq_('./orb.axe'),\n        pgrid = _dereq_('./orb.pgrid'),\n        uiheaders = _dereq_('./orb.ui.header'),\n        uirows = _dereq_('./orb.ui.rows'),\n        uicols = _dereq_('./orb.ui.cols'),\n        Dialog = _dereq_('./react/orb.react.Dialog.jsx'),\n        PivotChart = _dereq_('./react/orb.react.PivotChart.jsx'),\n        PivotTable = _dereq_('./react/orb.react.PivotTable.jsx'),\n        Grid = _dereq_('./react/orb.react.Grid.jsx');\n\n      module.exports = function(config) {\n\n        var self = this;\n        var renderElement;\n        var pivotComponent;\n        var dialog = Dialog.create();\n\n\n        this.pgrid = new pgrid(config);\n\n\n        this.rows = null;\n\n        this.columns = null;\n\n\n        this.dataRows = [];\n\n        this.layout = {\n          rowHeaders: {\n\n            width: null,\n\n            height: null\n          },\n          columnHeaders: {\n\n            width: null,\n\n            height: null\n          },\n          pivotTable: {\n\n            width: null,\n\n            height: null\n          }\n        };\n\n        this.expandRow = function(cell) {\n          cell.expand();\n          this.render();\n        };\n\n        this.collapseRow = function(cell) {\n          cell.subtotalHeader.collapse();\n          this.render();\n        };\n\n        this.sort = function(axetype, field) {\n          self.pgrid.sort(axetype, field);\n        };\n\n        this.refreshData = function(data) {\n          self.pgrid.refreshData(data);\n        };\n\n        this.applyFilter = function(fieldname, operator, term, staticValue, excludeStatic) {\n          self.pgrid.applyFilter(fieldname, operator, term, staticValue, excludeStatic);\n        };\n\n        this.moveField = function(field, oldAxeType, newAxeType, position) {\n          self.pgrid.moveField(field, oldAxeType, newAxeType, position);\n        };\n\n        this.toggleFieldExpansion = function(axetype, field, newState) {\n          var axeToExpand = axetype === axe.Type.ROWS ? self.rows : axetype === axe.Type.COLUMNS ? self.columns : null;\n\n          if (axeToExpand && axeToExpand.toggleFieldExpansion(field, newState)) {\n            self.render();\n          }\n        };\n\n        this.toggleSubtotals = function(axetype) {\n          self.pgrid.toggleSubtotals(axetype);\n        };\n\n        this.areSubtotalsVisible = function(axetype) {\n          return self.pgrid.areSubtotalsVisible(axetype);\n        };\n\n        this.toggleGrandtotal = function(axetype) {\n          self.pgrid.toggleGrandtotal(axetype);\n        };\n\n        this.isGrandtotalVisible = function(axetype) {\n          return self.pgrid.isGrandtotalVisible(axetype);\n        };\n\n        this.changeTheme = function(newTheme) {\n          pivotComponent.changeTheme(newTheme);\n        };\n\n        this.render = function(element) {\n          renderElement = element || renderElement;\n          if (renderElement) {\n            var pivotTableFactory = React.createFactory(self.pgrid.config.chartMode.enabled ? PivotChart : PivotTable);\n            var pivottable = pivotTableFactory({\n              pgridwidget: self\n            });\n\n            pivotComponent = ReactDOM.render(pivottable, renderElement);\n          }\n        };\n\n        this.drilldown = function(dataCell, pivotId) {\n          if (dataCell) {\n            var colIndexes = dataCell.columnDimension.getRowIndexes();\n            var data = dataCell.rowDimension.getRowIndexes().filter(function(index) {\n              return colIndexes.indexOf(index) >= 0;\n            }).map(function(index) {\n              return self.pgrid.filteredDataSource[index];\n            });\n\n            var title;\n            if (dataCell.rowType === uiheaders.HeaderType.GRAND_TOTAL && dataCell.colType === uiheaders.HeaderType.GRAND_TOTAL) {\n              title = 'Grand total';\n            } else {\n              if (dataCell.rowType === uiheaders.HeaderType.GRAND_TOTAL) {\n                title = dataCell.columnDimension.value + '/Grand total ';\n              } else if (dataCell.colType === uiheaders.HeaderType.GRAND_TOTAL) {\n                title = dataCell.rowDimension.value + '/Grand total ';\n              } else {\n                title = dataCell.rowDimension.value + '/' + dataCell.columnDimension.value;\n              }\n            }\n\n            dialog.show({\n              title: title,\n              comp: {\n                type: Grid,\n                props: {\n                  headers: self.pgrid.config.getDataSourceFieldCaptions(),\n                  data: data,\n                  theme: self.pgrid.config.theme\n                }\n              },\n              theme: self.pgrid.config.theme,\n              style: pivotComponent.fontStyle\n            });\n          }\n        };\n\n        function init() {\n          self.pgrid.subscribe(pgrid.EVENT_UPDATED, buildUiAndRender);\n          self.pgrid.subscribe(pgrid.EVENT_SORT_CHANGED, buildUiAndRender);\n          self.pgrid.subscribe(pgrid.EVENT_CONFIG_CHANGED, buildUiAndRender);\n\n          buildUi();\n        }\n\n        function buildUi() {\n\n          // build row and column headers\n          self.rows = new uirows(self.pgrid.rows);\n          self.columns = new uicols(self.pgrid.columns);\n\n          var rowsHeaders = self.rows.headers;\n          var columnsLeafHeaders = self.columns.leafsHeaders;\n\n          // set control layout infos\t\t\n          self.layout = {\n            rowHeaders: {\n              width: (self.pgrid.rows.fields.length || 1) + (self.pgrid.config.dataHeadersLocation === 'rows' && self.pgrid.config.dataFieldsCount > 1 ? 1 : 0),\n              height: rowsHeaders.length\n            },\n            columnHeaders: {\n              width: self.columns.leafsHeaders.length,\n              height: (self.pgrid.columns.fields.length || 1) + (self.pgrid.config.dataHeadersLocation === 'columns' && self.pgrid.config.dataFieldsCount > 1 ? 1 : 0)\n            }\n          };\n\n          self.layout.pivotTable = {\n            width: self.layout.rowHeaders.width + self.layout.columnHeaders.width,\n            height: self.layout.rowHeaders.height + self.layout.columnHeaders.height\n          };\n\n          var dataRows = [];\n          var arr;\n\n          function createVisibleFunc(rowvisible, colvisible) {\n            return function() {\n              return rowvisible() && colvisible();\n            };\n          }\n          if (rowsHeaders.length > 0) {\n            for (var ri = 0; ri < rowsHeaders.length; ri++) {\n              var rowHeadersRow = rowsHeaders[ri];\n              var rowLeafHeader = rowHeadersRow[rowHeadersRow.length - 1];\n\n              arr = [];\n              for (var colHeaderIndex = 0; colHeaderIndex < columnsLeafHeaders.length; colHeaderIndex++) {\n                var columnLeafHeader = columnsLeafHeaders[colHeaderIndex];\n                var isvisible = createVisibleFunc(rowLeafHeader.visible, columnLeafHeader.visible);\n                arr[colHeaderIndex] = new uiheaders.dataCell(self.pgrid, isvisible, rowLeafHeader, columnLeafHeader);\n              }\n              dataRows.push(arr);\n            }\n          }\n          self.dataRows = dataRows;\n        }\n\n        function buildUiAndRender() {\n          buildUi();\n          self.render();\n        }\n\n        init();\n      };\n\n    }, {\n      \"./orb.axe\": 2,\n      \"./orb.pgrid\": 8,\n      \"./orb.ui.cols\": 14,\n      \"./orb.ui.header\": 15,\n      \"./orb.ui.rows\": 17,\n      \"./react/orb.react.Dialog.jsx\": 21,\n      \"./react/orb.react.Grid.jsx\": 28,\n      \"./react/orb.react.PivotChart.jsx\": 31,\n      \"./react/orb.react.PivotTable.jsx\": 40,\n      \"react-dom\": \"react-dom\"\n    }],\n    17: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe');\n      var axeUi = _dereq_('./orb.ui.axe');\n      var uiheaders = _dereq_('./orb.ui.header');\n\n      module.exports = function(rowsAxe) {\n\n        var self = this;\n\n        axeUi.call(self, rowsAxe);\n\n        this.build = function() {\n          var headers = [];\n          var grandtotalHeader;\n\n          if (self.axe != null) {\n            if (self.axe.root.values.length > 0 || self.axe.pgrid.config.grandTotal.rowsvisible) {\n              headers.push([]);\n\n              // Fill Rows layout infos\n              getUiInfo(headers, self.axe.root);\n\n              if (self.axe.pgrid.config.grandTotal.rowsvisible) {\n                var lastrow = headers[headers.length - 1];\n                grandtotalHeader = new uiheaders.header(axe.Type.ROWS, uiheaders.HeaderType.GRAND_TOTAL, self.axe.root, null, self.dataFieldsCount());\n                if (lastrow.length === 0) {\n                  lastrow.push(grandtotalHeader);\n                } else {\n                  headers.push([grandtotalHeader]);\n                }\n              }\n            }\n\n            if (headers.length === 0) {\n              headers.push([grandtotalHeader = new uiheaders.header(axe.Type.ROWS, uiheaders.HeaderType.INNER, self.axe.root, null, self.dataFieldsCount())]);\n            }\n\n            if (grandtotalHeader) {\n              // add grand-total data headers if more than 1 data field and they will be the leaf headers\n              addDataHeaders(headers, grandtotalHeader);\n            }\n          }\n          self.headers = headers;\n        };\n\n        this.build();\n\n        function addDataHeaders(infos, parent) {\n          if (self.isMultiDataFields()) {\n            var lastInfosArray = infos[infos.length - 1];\n            for (var datafieldindex = 0; datafieldindex < self.dataFieldsCount(); datafieldindex++) {\n              lastInfosArray.push(new uiheaders.dataHeader(self.axe.pgrid.config.dataFields[datafieldindex], parent));\n              if (datafieldindex < self.dataFieldsCount() - 1) {\n                infos.push(lastInfosArray = []);\n              }\n            }\n          }\n        }\n\n\n        function getUiInfo(infos, dimension) {\n          if (dimension.values.length > 0) {\n\n            var infosMaxIndex = infos.length - 1;\n            var lastInfosArray = infos[infosMaxIndex];\n            var parent = lastInfosArray.length > 0 ? lastInfosArray[lastInfosArray.length - 1] : null;\n\n            for (var valIndex = 0; valIndex < dimension.values.length; valIndex++) {\n              var subvalue = dimension.values[valIndex];\n              var subdim = dimension.subdimvals[subvalue];\n\n              var subTotalHeader;\n              if (!subdim.isLeaf && subdim.field.subTotal.visible) {\n                subTotalHeader = new uiheaders.header(axe.Type.ROWS, uiheaders.HeaderType.SUB_TOTAL, subdim, parent, self.dataFieldsCount());\n              } else {\n                subTotalHeader = null;\n              }\n\n              var newHeader = new uiheaders.header(axe.Type.ROWS, null, subdim, parent, self.dataFieldsCount(), subTotalHeader);\n\n              if (valIndex > 0) {\n                infos.push(lastInfosArray = []);\n              }\n\n              lastInfosArray.push(newHeader);\n\n              if (!subdim.isLeaf) {\n                getUiInfo(infos, subdim);\n                if (subdim.field.subTotal.visible) {\n                  infos.push([subTotalHeader]);\n\n                  // add sub-total data headers if more than 1 data field and they will be the leaf headers\n                  addDataHeaders(infos, subTotalHeader);\n                }\n              } else {\n                // add data headers if more than 1 data field and they will be the leaf headers\n                addDataHeaders(infos, newHeader);\n              }\n            }\n          }\n        }\n      };\n\n    }, {\n      \"./orb.axe\": 2,\n      \"./orb.ui.axe\": 13,\n      \"./orb.ui.header\": 15\n    }],\n    18: [function(_dereq_, module, exports) {\n\n      module.exports.removeClass = function(element, classname) {\n        if (element && classname) {\n          while (element.className.indexOf(classname) >= 0) {\n            element.className = element.className.replace(classname, '');\n          }\n        }\n      };\n\n      module.exports.addClass = function(element, classname) {\n        if (element && classname) {\n          if (element.className.indexOf(classname) < 0) {\n            element.className += ' ' + classname;\n          }\n        }\n      };\n\n      module.exports.getOffset = function(element) {\n        if (element) {\n          var rect = element.getBoundingClientRect();\n          return {\n            x: rect.left,\n            y: rect.top\n          };\n        }\n        return {\n          x: 0,\n          y: 0\n        };\n      };\n\n      module.exports.getParentOffset = function(element) {\n        if (element) {\n          var rect = element.getBoundingClientRect();\n          var rectParent = element.parentNode != null ? element.parentNode.getBoundingClientRect() : {\n            top: 0,\n            left: 0\n          };\n          return {\n            x: rect.left - rectParent.left,\n            y: rect.top - rectParent.top\n          };\n        }\n        return {\n          x: 0,\n          y: 0\n        };\n      };\n\n      module.exports.getSize = function(element) {\n        if (element) {\n          var rect = element.getBoundingClientRect();\n          return {\n            width: rect.right - rect.left,\n            height: rect.bottom - rect.top\n          };\n        }\n        return {\n          width: 0,\n          height: 0\n        };\n      };\n\n      var reHyphenToUcase = /\\-(\\w)/g;\n\n      function replaceHyphenByUcase(val) {\n        return val.replace(reHyphenToUcase, function(m, m1) {\n          return m1.toUpperCase();\n        });\n      }\n\n      module.exports.getStyle = function(element, styleProps, keepString) {\n        var values = [];\n        if (element && styleProps) {\n          var currStyle, f, fixProp;\n          if (element.currentStyle) {\n            currStyle = element.currentStyle;\n            f = function(prop) {\n              return currStyle[prop];\n            };\n            fixProp = true;\n          } else if (window && window.getComputedStyle) {\n            currStyle = window.getComputedStyle(element, null);\n            f = function(prop) {\n              return currStyle.getPropertyValue(prop);\n            };\n          }\n\n          for (var i = 0; i < styleProps.length; i++) {\n            var val = f(fixProp ? replaceHyphenByUcase(styleProps[i]) : styleProps[i]);\n            values.push(val && keepString !== true ? Math.ceil(parseFloat(val)) : val);\n          }\n        }\n        return values;\n      };\n\n      module.exports.isVisible = function(element) {\n        if (element) {\n          return element.style.display !== 'none' && (element.offsetWidth !== 0 || element.offsetHeight !== 0);\n        }\n        return false;\n      };\n\n      module.exports.updateTableColGroup = function(tableNode, widths) {\n        if (tableNode) {\n          var colGroupNode = tableNode.firstChild;\n          if (colGroupNode && colGroupNode.nodeName === 'COLGROUP') {\n            tableNode.style.tableLayout = 'auto';\n            tableNode.style.width = '';\n\n            while (colGroupNode.firstChild) {\n              colGroupNode.removeChild(colGroupNode.firstChild);\n            }\n            for (var i = 0; i < widths.length; i++) {\n              var col = document.createElement('col');\n              col.style.width = widths[i] + 'px';\n              colGroupNode.appendChild(col);\n            }\n            tableNode.style.tableLayout = 'fixed';\n          }\n        }\n      };\n\n    }, {}],\n    19: [function(_dereq_, module, exports) {\n      (function(global) {\n\n        module.exports = {\n\n          ns: function(identifier, parent) {\n            var parts = identifier.split('.');\n            var i = 0;\n            parent = parent || window;\n            while (i < parts.length) {\n              parent[parts[i]] = parent[parts[i]] || {};\n              parent = parent[parts[i]];\n              i++;\n            }\n            return parent;\n          },\n\n          ownProperties: function(obj) {\n            var arr = [];\n            for (var prop in obj) {\n              if (obj.hasOwnProperty(prop)) {\n                arr.push(prop);\n              }\n            }\n            return arr;\n          },\n\n          forEach: function(list, callback, forceContinue) {\n            var ret;\n            if (list) {\n              for (var i = 0, l = list.length; i < l; i++) {\n                ret = callback(list[i], i);\n                if (ret && forceContinue !== true) {\n                  break;\n                }\n              }\n            }\n            return ret;\n          },\n\n          isArray: function(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Array]';\n          },\n\n          isNumber: function(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Number]';\n          },\n\n          isDate: function(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Date]';\n          },\n\n          isString: function(obj) {\n            return Object.prototype.toString.apply(obj) === '[object String]';\n          },\n\n          isRegExp: function(obj) {\n            return Object.prototype.toString.apply(obj) === '[object RegExp]';\n          },\n\n          isFunction: function(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Function]';\n          },\n\n          escapeRegex: function(re) {\n            return re.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n          },\n\n          findInArray: function(array, predicate) {\n            if (this.isArray(array) && predicate) {\n              for (var i = 0; i < array.length; i++) {\n                var item = array[i];\n                if (predicate(item)) {\n                  return item;\n                }\n              }\n            }\n            return undefined;\n          },\n\n          jsonStringify: function(obj, censorKeywords) {\n            function censor(key, value) {\n              return censorKeywords && censorKeywords.indexOf(key) > -1 ? undefined : value;\n            }\n            return JSON.stringify(obj, censor, 2);\n          },\n          addEventListener: function(element, eventName, handler) {\n            if (element.addEventListener) {\n              element.addEventListener(eventName, handler, false);\n            } else if (element.attachEvent) {\n              element.attachEvent('on' + eventName, handler);\n            } else {\n              element[\"on\" + eventName] = handler;\n            }\n          },\n          removeEventListener: function(element, eventName, handler) {\n            if (element.removeEventListener) {\n              element.removeEventListener(eventName, handler, false);\n            } else if (element.detachEvent) {\n              element.detachEvent(\"on\" + eventName, handler);\n            } else {\n              element[\"on\" + eventName] = null;\n            }\n          },\n          preventDefault: function(e) {\n            e = e || window.event;\n\n            if (e.preventDefault) {\n              e.preventDefault();\n            } else {\n              e.returnValue = false;\n            }\n          },\n          stopPropagation: function(e) {\n            e = e || window.event;\n\n            if (e.stopPropagation) {\n              e.stopPropagation();\n            } else {\n              e.cancelBubble = true;\n            }\n          },\n          getEventButton: function(e) {\n            var button = e.button;\n            if ('which' in e) {\n              return button;\n            }\n            // IE 8\n            return button === 1 ? 0 : // left\n              button === 4 ? 1 : // middle\n              2; // right\n          },\n          getMousePageXY: function(e) {\n            e = e || window.event;\n\n            var pageX = e.pageX;\n            var pageY = e.pageY;\n            if (pageX === undefined) {\n              pageX = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n              pageY = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n            }\n            return {\n              pageX: pageX,\n              pageY: pageY\n            };\n          }\n        };\n\n        // from: https://github.com/davidchambers/Base64.js\n\n        (function(object) {\n          var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n          function InvalidCharacterError(message) {\n            this.message = message;\n          }\n          InvalidCharacterError.prototype = new Error();\n          InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n          // encoder\n          // [https://gist.github.com/999166] by [https://github.com/nignag]\n          object.btoa = global && global.btoa ? function(str) {\n            return global.btoa(str);\n          } : function(input) {\n            var str = String(input);\n            for (\n              // initialize result and counter\n              var block, charCode, idx = 0, map = chars, output = '';\n              // if the next str index does not exist:\n              // change the mapping table to \"=\"\n              // check if d has no fractional digits\n              str.charAt(idx | 0) || (map = '=', idx % 1);\n              // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n              output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {\n              charCode = str.charCodeAt(idx += 3 / 4);\n              if (charCode > 0xFF) {\n                throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n              }\n              block = block << 8 | charCode;\n            }\n            return output;\n          };\n\n          // decoder\n          // [https://gist.github.com/1020396] by [https://github.com/atk]\n          object.atob = global && global.atob ? function(str) {\n            return global.atob(str);\n          } : function(input) {\n            var str = String(input).replace(/=+$/, '');\n            if (str.length % 4 == 1) {\n              throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n            }\n            for (\n              // initialize result and counters\n              var bc = 0, bs, buffer, idx = 0, output = '';\n              // get next character\n              buffer = str.charAt(idx++);\n              // character found in table? initialize bit storage and add its ascii value;\n              ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n                // and if not first of each 4 characters,\n                // convert the first 8 bits to one ascii character\n                bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0) {\n              // try to find character in table (0-63, not found => -1)\n              buffer = chars.indexOf(buffer);\n            }\n            return output;\n          };\n        })(module.exports);\n\n      }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n    }, {}],\n    20: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        getInitialState: function() {\n          return {\n            canRender: false\n          };\n        },\n        canRender: function() {\n          return this.state.canRender && typeof this.props.chartMode.type === 'string' && typeof google.visualization[this.props.chartMode.type] === 'function';\n        },\n        drawChart: function() {\n          if (this.canRender()) {\n            var chartData = this.props.pivotTableComp.pgridwidget.pgrid.getChartData();\n            var data = new google.visualization.DataTable();\n\n            data.addColumn('string', chartData.hAxisLabel);\n            for (var ri = 0; ri < chartData.colNames.length; ri++) {\n              data.addColumn('number', chartData.colNames[ri]);\n            }\n\n            data.addRows(chartData.dataTable);\n\n            var options = {\n              title: chartData.title,\n              //isStacked: true,\n              fontName: this.state.chartStyle.fontFamily,\n              fontSize: parseFloat(this.state.chartStyle.fontSize),\n              hAxis: {\n                title: chartData.hAxisLabel\n              },\n              vAxis: {\n                title: chartData.vAxisLabel\n              }\n            };\n\n            if (typeof google.visualization[this.props.chartMode.type] === 'function') {\n              var chart = new google.visualization[this.props.chartMode.type](ReactDOM.findDOMNode(this));\n              chart.draw(data, options);\n            }\n          }\n        },\n        componentDidMount: function() {\n          this.drawChart();\n        },\n        componentDidUpdate: function() {\n          this.drawChart();\n        },\n        render: function() {\n          if (this.canRender()) {\n            return React.createElement('div', {\n              className: 'chart',\n              style: this.state.chartStyle\n            });\n          }\n          return null;\n        }\n      });\n\n    }, {\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    21: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        utils = _dereq_('../orb.utils');\n\n      function createOverlay() {\n        var overlayElement = document.createElement('div');\n        overlayElement.className = 'orb-overlay orb-overlay-hidden';\n        document.body.appendChild(overlayElement);\n        return overlayElement;\n      }\n\n      var Dialog = module.exports = React.createClass({\n        displayName: 'exports',\n\n        statics: {\n          create: function() {\n            var dialogFactory = React.createFactory(Dialog);\n            var overlay = createOverlay();\n\n            return {\n              show: function(props) {\n                ReactDOM.render(dialogFactory(props), overlay);\n              }\n            };\n          }\n        },\n        overlayElement: null,\n        setOverlayClass: function(visible) {\n          this.overlayElement.className = this.props.theme.getDialogClasses(visible).overlay;\n        },\n        componentDidMount: function() {\n          this.overlayElement = ReactDOM.findDOMNode(this).parentNode;\n          this.setOverlayClass(true);\n          utils.addEventListener(this.overlayElement, 'click', this.close);\n\n          var dialogElement = this.overlayElement.children[0];\n          var dialogBodyElement = dialogElement.children[0].children[1];\n\n          var screenWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n          var screenHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n          var maxHeight = 2 * screenHeight / 3;\n          maxHeight = maxHeight < 301 ? 301 : maxHeight;\n          var dWidth = dialogElement.offsetWidth + (dialogElement.offsetHeight > maxHeight ? 11 : 0);\n          var dHeight = dialogElement.offsetHeight > maxHeight ? maxHeight : dialogElement.offsetHeight;\n\n          dialogElement.style.top = (screenHeight > dHeight ? (screenHeight - dHeight) / 2 : 0) + 'px';\n          dialogElement.style.left = (screenWidth > dWidth ? (screenWidth - dWidth) / 2 : 0) + 'px';\n          dialogElement.style.height = dHeight + 'px';\n          dialogBodyElement.style.width = dWidth + 'px';\n          dialogBodyElement.style.height = dHeight - 45 + 'px';\n        },\n        close: function(e) {\n          var target = e.target || e.srcElement;\n          if (target == this.overlayElement || target.className === 'button-close') {\n            utils.removeEventListener(this.overlayElement, 'click', this.close);\n            ReactDOM.unmountComponentAtNode(this.overlayElement);\n            this.setOverlayClass(false);\n          }\n        },\n        render: function() {\n          if (this.props.comp) {\n            var comp = React.createElement(this.props.comp.type, this.props.comp.props);\n            var classes = this.props.theme.getDialogClasses();\n\n            return React.createElement(\n              'div', {\n                className: classes.dialog,\n                style: this.props.style || {}\n              },\n              React.createElement(\n                'div', {\n                  className: classes.content\n                },\n                React.createElement(\n                  'div', {\n                    className: classes.header\n                  },\n                  React.createElement('div', {\n                    className: 'button-close',\n                    onClick: this.close\n                  }),\n                  React.createElement(\n                    'div', {\n                      className: classes.title\n                    },\n                    this.props.title\n                  )\n                ),\n                React.createElement(\n                  'div', {\n                    className: classes.body\n                  },\n                  comp\n                )\n              )\n            );\n          }\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 19,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    22: [function(_dereq_, module, exports) {\n\n      var ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        utils = _dereq_('../orb.utils');\n\n      var dragManager = module.exports = (function() {\n\n        var _pivotComp = null;\n\n        var _currDragElement = null;\n        var _currDropTarget = null;\n        var _currDropIndicator = null;\n\n        var _dragNode = null;\n        var _dropTargets = [];\n        var _dropIndicators = [];\n\n        function doElementsOverlap(elem1Rect, elem2Rect) {\n          return !(elem1Rect.right < elem2Rect.left || elem1Rect.left > elem2Rect.right || elem1Rect.bottom < elem2Rect.top || elem1Rect.top > elem2Rect.bottom);\n        }\n\n        function setCurrDropTarget(dropTarget, callback) {\n          if (_currDropTarget) {\n            signalDragEnd(_currDropTarget, function() {\n              _currDropTarget = dropTarget;\n              signalDragOver(dropTarget, callback);\n            });\n          } else {\n            _currDropTarget = dropTarget;\n            signalDragOver(dropTarget, callback);\n          }\n        }\n\n        function setCurrDropIndicator(dropIndicator) {\n          if (_currDropIndicator) {\n            signalDragEnd(_currDropIndicator, function() {\n              _currDropIndicator = dropIndicator;\n              signalDragOver(dropIndicator);\n            });\n          } else {\n            _currDropIndicator = dropIndicator;\n            signalDragOver(dropIndicator);\n          }\n        }\n\n        function signalDragOver(target, callback) {\n          if (target && target.onDragOver) {\n            target.onDragOver(callback);\n          } else if (callback) {\n            callback();\n          }\n        }\n\n        function signalDragEnd(target, callback) {\n          if (target && target.onDragEnd) {\n            target.onDragEnd(callback);\n          } else if (callback) {\n            callback();\n          }\n        }\n\n        function getDropTarget() {\n          return utils.forEach(_dropTargets, function(target) {\n            if (target.component.state.isover) {\n              return target;\n            }\n          });\n        }\n\n        function getDropIndicator() {\n          return utils.forEach(_dropIndicators, function(indicator) {\n            if (indicator.component.state.isover) {\n              return indicator;\n            }\n          });\n        }\n\n        var _initialized = false;\n\n        return {\n          init: function(pivotComp) {\n            _initialized = true;\n            _pivotComp = pivotComp;\n          },\n          setDragElement: function(elem) {\n\n            var prevDragElement = _currDragElement;\n            _currDragElement = elem;\n            if (_currDragElement != prevDragElement) {\n              if (elem == null) {\n\n                if (_currDropTarget) {\n                  var position = _currDropIndicator != null ? _currDropIndicator.position : null;\n                  _pivotComp.moveButton(prevDragElement, _currDropTarget.component.props.axetype, position);\n                }\n\n                _dragNode = null;\n                setCurrDropTarget(null);\n                setCurrDropIndicator(null);\n              } else {\n                _dragNode = ReactDOM.findDOMNode(_currDragElement);\n              }\n            }\n          },\n          registerTarget: function(target, axetype, dragOverHandler, dargEndHandler) {\n            _dropTargets.push({\n              component: target,\n              axetype: axetype,\n              onDragOver: dragOverHandler,\n              onDragEnd: dargEndHandler\n            });\n          },\n          unregisterTarget: function(target) {\n            var tindex;\n            for (var i = 0; i < _dropTargets.length; i++) {\n              if (_dropTargets[i].component == target) {\n                tindex = i;\n                break;\n              }\n            }\n            if (tindex != null) {\n              _dropTargets.splice(tindex, 1);\n            }\n          },\n          registerIndicator: function(indicator, axetype, position, dragOverHandler, dargEndHandler) {\n            _dropIndicators.push({\n              component: indicator,\n              axetype: axetype,\n              position: position,\n              onDragOver: dragOverHandler,\n              onDragEnd: dargEndHandler\n            });\n          },\n          unregisterIndicator: function(indicator) {\n            var iindex;\n            for (var i = 0; i < _dropIndicators.length; i++) {\n              if (_dropIndicators[i].component == indicator) {\n                iindex = i;\n                break;\n              }\n            }\n            if (iindex != null) {\n              _dropIndicators.splice(iindex, 1);\n            }\n          },\n          elementMoved: function() {\n            if (_currDragElement != null) {\n              var dragNodeRect = _dragNode.getBoundingClientRect();\n              var foundTarget;\n\n              utils.forEach(_dropTargets, function(target) {\n                if (!foundTarget) {\n                  var tnodeRect = ReactDOM.findDOMNode(target.component).getBoundingClientRect();\n                  var isOverlap = doElementsOverlap(dragNodeRect, tnodeRect);\n                  if (isOverlap) {\n                    foundTarget = target;\n                    return;\n                  }\n                }\n              });\n\n              if (foundTarget) {\n                setCurrDropTarget(foundTarget, function() {\n                  var foundIndicator = null;\n\n                  utils.forEach(_dropIndicators, function(indicator, index) {\n                    if (!foundIndicator) {\n                      var elementOwnIndicator = indicator.component.props.axetype === _currDragElement.props.axetype && indicator.component.props.position === _currDragElement.props.position;\n\n                      var targetIndicator = indicator.component.props.axetype === foundTarget.component.props.axetype;\n                      if (targetIndicator && !elementOwnIndicator) {\n                        var tnodeRect = ReactDOM.findDOMNode(indicator.component).getBoundingClientRect();\n                        var isOverlap = doElementsOverlap(dragNodeRect, tnodeRect);\n                        if (isOverlap) {\n                          foundIndicator = indicator;\n                          return true;\n                        }\n                      }\n                    }\n                  });\n\n                  if (!foundIndicator) {\n                    var axeIndicators = _dropIndicators.filter(function(indicator) {\n                      return indicator.component.props.axetype === foundTarget.component.props.axetype;\n                    });\n                    if (axeIndicators.length > 0) {\n                      foundIndicator = axeIndicators[axeIndicators.length - 1];\n                    }\n                  }\n                  setCurrDropIndicator(foundIndicator);\n                });\n              }\n            }\n          }\n        };\n      })();\n\n    }, {\n      \"../orb.utils\": 19,\n      \"react-dom\": \"react-dom\"\n    }],\n    23: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        DragManager = _dereq_('./orb.react.DragManager.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'DropIndicator',\n        getInitialState: function() {\n          DragManager.registerIndicator(this, this.props.axetype, this.props.position, this.onDragOver, this.onDragEnd);\n          return {\n            isover: false\n          };\n        },\n        componentWillUnmount: function() {\n          DragManager.unregisterIndicator(this);\n        },\n        onDragOver: function(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: true\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        onDragEnd: function(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: false\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        render: function() {\n          var classname = 'drp-indic' + (this.props.isVertical ? '-vertical' : '');\n\n          if (this.props.isFirst) {\n            classname += ' drp-indic-first';\n          }\n\n          if (this.props.isLast) {\n            classname += ' drp-indic-last';\n          }\n\n          var style = {};\n          if (this.state.isover) {\n            classname += ' drp-indic-over';\n          }\n\n          return React.createElement('div', {\n            style: style,\n            className: classname\n          });\n        }\n      });\n\n    }, {\n      \"./orb.react.DragManager.jsx\": 22,\n      \"react\": \"react\"\n    }],\n    24: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        DropIndicator = _dereq_('./orb.react.DropIndicator.jsx'),\n        axe = _dereq_('../orb.axe'),\n        dtid = 0;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        getInitialState: function() {\n          this.dtid = ++dtid;\n          return {\n            isover: false\n          };\n        },\n        componentDidMount: function() {\n          DragManager.registerTarget(this, this.props.axetype, this.onDragOver, this.onDragEnd);\n        },\n        componentWillUnmount: function() {\n          DragManager.unregisterTarget(this);\n        },\n        onDragOver: function(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: true\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        onDragEnd: function(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: false\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        render: function() {\n          var self = this;\n\n          var buttons = this.props.buttons.map(function(button, index) {\n            if (index < self.props.buttons.length - 1) {\n              return [React.createElement(\n                'td',\n                null,\n                React.createElement(DropIndicator, {\n                  isFirst: index === 0,\n                  position: index,\n                  axetype: self.props.axetype\n                })\n              ), React.createElement(\n                'td',\n                null,\n                button\n              )];\n            } else {\n              return [React.createElement(\n                'td',\n                null,\n                React.createElement(DropIndicator, {\n                  isFirst: index === 0,\n                  position: index,\n                  axetype: self.props.axetype\n                })\n              ), React.createElement(\n                'td',\n                null,\n                button\n              ), React.createElement(\n                'td',\n                null,\n                React.createElement(DropIndicator, {\n                  isLast: true,\n                  position: null,\n                  axetype: self.props.axetype\n                })\n              )];\n            }\n          });\n\n          var style = self.props.axetype === axe.Type.ROWS ? {\n            position: 'absolute',\n            left: 0,\n            bottom: 11\n          } : null;\n\n          return React.createElement(\n            'div', {\n              className: 'drp-trgt' + (this.state.isover ? ' drp-trgt-over' : '') + (buttons.length === 0 ? ' drp-trgt-empty' : ''),\n              style: style\n            },\n            React.createElement(\n              'table',\n              null,\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr',\n                  null,\n                  buttons\n                )\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 2,\n      \"./orb.react.DragManager.jsx\": 22,\n      \"./orb.react.DropIndicator.jsx\": 23,\n      \"react\": \"react\"\n    }],\n    25: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        DropIndicator = _dereq_('./orb.react.DropIndicator.jsx'),\n        dtid = 0;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        getInitialState: function() {\n          this.dtid = ++dtid;\n          return {\n            isover: false\n          };\n        },\n        componentDidMount: function() {\n          DragManager.registerTarget(this, this.props.axetype, this.onDragOver, this.onDragEnd);\n        },\n        componentWillUnmount: function() {\n          DragManager.unregisterTarget(this);\n        },\n        onDragOver: function(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: true\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        onDragEnd: function(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: false\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        render: function() {\n          var self = this;\n\n          var buttons = this.props.buttons.map(function(button, index) {\n            var currButton = [React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td',\n                null,\n                React.createElement(DropIndicator, {\n                  isFirst: index === 0,\n                  position: index,\n                  axetype: self.props.axetype,\n                  isVertical: true\n                })\n              )\n            ), React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td',\n                null,\n                button\n              )\n            )];\n\n            if (index == self.props.buttons.length - 1) {\n              currButton.push(React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td',\n                  null,\n                  React.createElement(DropIndicator, {\n                    isLast: true,\n                    position: null,\n                    axetype: self.props.axetype,\n                    isVertical: true\n                  })\n                )\n              ));\n            }\n\n            return currButton;\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'drp-trgt-vertical' + (this.state.isover ? ' drp-trgt-over' : '') + (buttons.length === 0 ? ' drp-trgt-vertical-empty' : '')\n            },\n            React.createElement(\n              'table',\n              null,\n              React.createElement(\n                'tbody',\n                null,\n                buttons\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"./orb.react.DragManager.jsx\": 22,\n      \"./orb.react.DropIndicator.jsx\": 23,\n      \"react\": \"react\"\n    }],\n    26: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        utils = _dereq_('../orb.utils');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        openOrClose: function(e) {\n          var valueNode = this.refs.valueElement;\n          var valuesListNode = this.refs.valuesList;\n          var target = e.target || e.srcElement;\n\n          if (target === valueNode && valuesListNode.style.display === 'none') {\n            valuesListNode.style.display = 'block';\n          } else {\n            valuesListNode.style.display = 'none';\n          }\n        },\n        onMouseEnter: function() {\n          var valueNode = this.refs.valueElement;\n          valueNode.className = \"orb-tgl-btn-down\";\n          valueNode.style.backgroundPosition = 'right center';\n        },\n        onMouseLeave: function() {\n          this.refs.valueElement.className = \"\";\n        },\n        componentDidMount: function() {\n          utils.addEventListener(document, 'click', this.openOrClose);\n        },\n        componentWillUnmount: function() {\n          utils.removeEventListener(document, 'click', this.openOrClose);\n        },\n        selectValue: function(e) {\n          var listNode = this.refs.valuesList;\n          var target = e.target || e.srcElement;\n          var isli = false;\n          while (!isli && target != null) {\n            if (target.parentNode == listNode) {\n              isli = true;\n              break;\n            }\n            target = target.parentNode;\n          }\n\n          if (isli) {\n            var value = target.textContent;\n            var valueElement = this.refs.valueElement;\n            if (valueElement.textContent != value) {\n              valueElement.textContent = value;\n              if (this.props.onValueChanged) {\n                this.props.onValueChanged(value);\n              }\n            }\n          }\n        },\n        render: function() {\n          function createSelectValueFunc(value) {\n            return function() {\n              this.selectValue(value);\n            };\n          }\n\n          var values = [];\n          for (var i = 0; i < this.props.values.length; i++) {\n            values.push(React.createElement('li', {\n              key: 'item' + i,\n              dangerouslySetInnerHTML: {\n                __html: this.props.values[i]\n              }\n            }));\n          }\n\n          return React.createElement(\n            'div', {\n              className: 'orb-select'\n            },\n            React.createElement('div', {\n              ref: 'valueElement',\n              dangerouslySetInnerHTML: {\n                __html: this.props.selectedValue\n              },\n              onMouseEnter: this.onMouseEnter,\n              onMouseLeave: this.onMouseLeave\n            }),\n            React.createElement(\n              'ul', {\n                ref: 'valuesList',\n                style: {\n                  display: 'none'\n                },\n                onClick: this.selectValue\n              },\n              values\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 19,\n      \"react\": \"react\"\n    }],\n    27: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        Dropdown = _dereq_('./orb.react.Dropdown.jsx'),\n        utils = _dereq_('../orb.utils'),\n        filtering = _dereq_('../orb.filtering'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        pgridwidget: null,\n        values: null,\n        filterManager: null,\n        getInitialState: function() {\n          this.pgridwidget = this.props.pivotTableComp.pgridwidget;\n          return {};\n        },\n        destroy: function() {\n          var container = ReactDOM.findDOMNode(this).parentNode;\n          ReactDOM.unmountComponentAtNode(container);\n          container.parentNode.removeChild(container);\n        },\n        onFilter: function(operator, term, staticValue, excludeStatic) {\n          this.props.pivotTableComp.applyFilter(this.props.field, operator, term, staticValue, excludeStatic);\n          this.destroy();\n        },\n        onMouseDown: function(e) {\n          var container = ReactDOM.findDOMNode(this).parentNode;\n          var target = e.target || e.srcElement;\n          while (target != null) {\n            if (target == container) {\n              return true;\n            }\n            target = target.parentNode;\n          }\n\n          this.destroy();\n        },\n        onMouseWheel: function(e) {\n          var valuesTable = this.refs.valuesTable;\n          var target = e.target || e.srcElement;\n          while (target != null) {\n            if (target == valuesTable) {\n              if (valuesTable.scrollHeight <= valuesTable.clientHeight) {\n                utils.stopPropagation(e);\n                utils.preventDefault(e);\n              }\n              return;\n            }\n            target = target.parentNode;\n          }\n\n          this.destroy();\n        },\n        componentWillMount: function() {\n          utils.addEventListener(document, 'mousedown', this.onMouseDown);\n          utils.addEventListener(document, 'wheel', this.onMouseWheel);\n          utils.addEventListener(window, 'resize', this.destroy);\n        },\n        componentDidMount: function() {\n          this.filterManager.init(ReactDOM.findDOMNode(this));\n        },\n        componentWillUnmount: function() {\n          utils.removeEventListener(document, 'mousedown', this.onMouseDown);\n          utils.removeEventListener(document, 'wheel', this.onMouseWheel);\n          utils.removeEventListener(window, 'resize', this.destroy);\n        },\n        render: function() {\n          var checkboxes = [];\n\n          this.filterManager = new FilterManager(this, this.pgridwidget.pgrid.getFieldFilter(this.props.field));\n          this.values = this.pgridwidget.pgrid.getFieldValues(this.props.field);\n\n          function addCheckboxRow(value, text) {\n            return checkboxes.push(React.createElement(\n              'tr', {\n                key: value\n              },\n              React.createElement(\n                'td', {\n                  className: 'fltr-chkbox'\n                },\n                React.createElement('input', {\n                  type: 'checkbox',\n                  value: value,\n                  defaultChecked: 'checked'\n                })\n              ),\n              React.createElement(\n                'td', {\n                  className: 'fltr-val',\n                  title: text || value\n                },\n                text || value\n              )\n            ));\n          }\n\n          addCheckboxRow(filtering.ALL, '(Show All)');\n\n          for (var i = 0; i < this.values.length; i++) {\n            if (this.values[i] != null) {\n              addCheckboxRow(this.values[i]);\n            } else {\n              addCheckboxRow(filtering.BLANK, '(Blank)');\n            }\n          }\n\n          var buttonClass = this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().orbButton;\n          var style = this.props.pivotTableComp.fontStyle;\n\n          var currentFilter = this.pgridwidget.pgrid.getFieldFilter(this.props.field);\n\n          return React.createElement(\n            'table', {\n              className: 'fltr-scntnr',\n              style: style\n            },\n            React.createElement(\n              'tbody',\n              null,\n              React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td', {\n                    className: 'srchop-col'\n                  },\n                  React.createElement(Dropdown, {\n                    values: [filtering.Operators.MATCH.name, filtering.Operators.NOTMATCH.name, filtering.Operators.EQ.name, filtering.Operators.NEQ.name, filtering.Operators.GT.name, filtering.Operators.GTE.name, filtering.Operators.LT.name, filtering.Operators.LTE.name],\n                    selectedValue: currentFilter && currentFilter.operator ? currentFilter.operator.name : filtering.Operators.MATCH.name,\n                    onValueChanged: this.filterManager.onOperatorChanged\n                  })\n                ),\n                React.createElement(\n                  'td', {\n                    className: 'srchtyp-col',\n                    title: 'Enable/disable Regular expressions'\n                  },\n                  '.*'\n                ),\n                React.createElement(\n                  'td', {\n                    className: 'srchbox-col'\n                  },\n                  React.createElement(\n                    'table', {\n                      style: {\n                        width: '100%'\n                      }\n                    },\n                    React.createElement(\n                      'tbody',\n                      null,\n                      React.createElement(\n                        'tr',\n                        null,\n                        React.createElement(\n                          'td',\n                          null,\n                          React.createElement('input', {\n                            type: 'text',\n                            placeholder: 'search'\n                          })\n                        ),\n                        React.createElement(\n                          'td',\n                          null,\n                          React.createElement(\n                            'div', {\n                              className: 'srchclear-btn',\n                              onClick: this.clearFilter\n                            },\n                            'x'\n                          )\n                        )\n                      )\n                    )\n                  )\n                )\n              ),\n              React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td', {\n                    colSpan: '3',\n                    className: 'fltr-vals-col'\n                  },\n                  React.createElement(\n                    'table', {\n                      className: 'fltr-vals-tbl',\n                      ref: 'valuesTable'\n                    },\n                    React.createElement(\n                      'tbody',\n                      null,\n                      checkboxes\n                    )\n                  )\n                )\n              ),\n              React.createElement(\n                'tr', {\n                  className: 'bottom-row'\n                },\n                React.createElement(\n                  'td', {\n                    className: 'cnfrm-btn-col',\n                    colSpan: '2'\n                  },\n                  React.createElement('input', {\n                    type: 'button',\n                    className: buttonClass,\n                    value: 'Ok',\n                    style: {\n                      float: 'left'\n                    }\n                  }),\n                  React.createElement('input', {\n                    type: 'button',\n                    className: buttonClass,\n                    value: 'Cancel',\n                    style: {\n                      float: 'left'\n                    }\n                  })\n                ),\n                React.createElement(\n                  'td', {\n                    className: 'resize-col'\n                  },\n                  React.createElement('div', null)\n                )\n              )\n            )\n          );\n        }\n      });\n\n      function FilterManager(reactComp, initialFilterObject) {\n\n        var self = this;\n        var INDETERMINATE = 'indeterminate';\n\n        var savedCheckedValues;\n        var isSearchMode = false;\n        var isRegexMode = false;\n        var operator = filtering.Operators.MATCH;\n        var lastSearchTerm = '';\n\n        var elems = {\n          filterContainer: null,\n          checkboxes: {},\n          searchBox: null,\n          operatorBox: null,\n          allCheckbox: null,\n          addCheckbox: null,\n          enableRegexButton: null,\n          clearSearchButton: null,\n          okButton: null,\n          cancelButton: null,\n          resizeGrip: null\n        };\n\n        var resizeManager;\n\n        this.init = function(filterContainerElement) {\n\n          elems.filterContainer = filterContainerElement;\n          elems.checkboxes = {};\n          elems.searchBox = elems.filterContainer.rows[0].cells[2].children[0].rows[0].cells[0].children[0];\n          elems.clearSearchButton = elems.filterContainer.rows[0].cells[2].children[0].rows[0].cells[1].children[0];\n          elems.operatorBox = elems.filterContainer.rows[0].cells[0].children[0];\n          elems.okButton = elems.filterContainer.rows[2].cells[0].children[0];\n          elems.cancelButton = elems.filterContainer.rows[2].cells[0].children[1];\n          elems.resizeGrip = elems.filterContainer.rows[2].cells[1].children[0];\n\n          var rows = elems.filterContainer.rows[1].cells[0].children[0].rows;\n          for (var i = 0; i < rows.length; i++) {\n            var checkbox = rows[i].cells[0].children[0];\n            elems.checkboxes[checkbox.value] = checkbox;\n          }\n\n          elems.allCheckbox = elems.checkboxes[filtering.ALL];\n          elems.blanckCheckbox = elems.checkboxes[filtering.BLANK];\n          elems.addCheckbox = null;\n          elems.enableRegexButton = elems.filterContainer.rows[0].cells[1];\n\n          resizeManager = new ResizeManager(elems.filterContainer.parentNode, elems.filterContainer.rows[1].cells[0].children[0], elems.resizeGrip);\n\n          applyInitialFilterObject();\n          addEventListeners();\n        };\n\n        this.onOperatorChanged = function(newOperator) {\n          if (operator.name !== newOperator) {\n            operator = filtering.Operators.get(newOperator);\n            self.toggleRegexpButtonVisibility();\n            self.searchChanged('operatorChanged');\n          }\n        };\n\n        function checkboxVisible(checkbox, isVisible) {\n          if (isVisible != null) {\n            checkbox.parentNode.parentNode.style.display = isVisible ? '' : 'none';\n          } else {\n            return checkbox.parentNode.parentNode.style.display != 'none';\n          }\n        }\n\n        function applyInitialFilterObject() {\n          if (initialFilterObject) {\n            var staticInfos = {\n              values: initialFilterObject.staticValue,\n              toExclude: initialFilterObject.excludeStatic\n            };\n\n            if (initialFilterObject.term) {\n              isSearchMode = true;\n\n              operator = initialFilterObject.operator;\n              self.toggleRegexpButtonVisibility();\n\n              if (initialFilterObject.regexpMode) {\n                isRegexMode = true;\n                self.toggleRegexpButtonState();\n                lastSearchTerm = initialFilterObject.term.source;\n              } else {\n                lastSearchTerm = initialFilterObject.term;\n              }\n\n              elems.searchBox.value = lastSearchTerm;\n\n              self.applyFilterTerm(initialFilterObject.operator, initialFilterObject.term);\n            } else {\n              savedCheckedValues = staticInfos;\n            }\n\n            self.updateCheckboxes(staticInfos);\n            self.updateAllCheckbox();\n          }\n        }\n\n        function addEventListeners() {\n          self.toggleRegexpButtonVisibility();\n\n          utils.addEventListener(elems.filterContainer, 'click', self.valueChecked);\n          utils.addEventListener(elems.searchBox, 'keyup', self.searchChanged);\n\n          utils.addEventListener(elems.clearSearchButton, 'click', self.clearSearchBox);\n\n          utils.addEventListener(elems.okButton, 'click', function() {\n            var checkedObj = self.getCheckedValues();\n            reactComp.onFilter(operator.name, operator.regexpSupported && isSearchMode && isRegexMode ? new RegExp(lastSearchTerm, 'i') : lastSearchTerm, checkedObj.values, checkedObj.toExclude);\n          });\n          utils.addEventListener(elems.cancelButton, 'click', function() {\n            reactComp.destroy();\n          });\n        }\n\n        function ResizeManager(outerContainerElem, valuesTableElem, resizeGripElem) {\n\n          var minContainerWidth = 301;\n          var minContainerHeight = 223;\n\n          var mousedownpos = {\n            x: 0,\n            y: 0\n          };\n          var isMouseDown = false;\n\n          this.resizeMouseDown = function(e) {\n            // drag/sort with left mouse button\n            if (utils.getEventButton(e) !== 0) return;\n\n            var mousePageXY = utils.getMousePageXY(e);\n\n            isMouseDown = true;\n            document.body.style.cursor = 'se-resize';\n\n            mousedownpos.x = mousePageXY.pageX;\n            mousedownpos.y = mousePageXY.pageY;\n\n            // prevent event bubbling (to prevent text selection while dragging for example)\n            utils.stopPropagation(e);\n            utils.preventDefault(e);\n          };\n\n          this.resizeMouseUp = function() {\n            isMouseDown = false;\n            document.body.style.cursor = 'auto';\n            return true;\n          };\n\n          this.resizeMouseMove = function(e) {\n            // if the mouse is not down while moving, return (no drag)\n            if (!isMouseDown) return;\n\n            var mousePageXY = utils.getMousePageXY(e);\n\n            var resizeGripSize = resizeGripElem.getBoundingClientRect();\n            var outerContainerSize = outerContainerElem.getBoundingClientRect();\n            var valuesTableSize = valuesTableElem.tBodies[0].getBoundingClientRect();\n\n            var outerContainerWidth = outerContainerSize.right - outerContainerSize.left;\n            var outerContainerHeight = outerContainerSize.bottom - outerContainerSize.top;\n\n            var offset = {\n              x: outerContainerWidth <= minContainerWidth && mousePageXY.pageX < resizeGripSize.left ? 0 : mousePageXY.pageX - mousedownpos.x,\n              y: outerContainerHeight <= minContainerHeight && mousePageXY.pageY < resizeGripSize.top ? 0 : mousePageXY.pageY - mousedownpos.y\n            };\n\n            var newContainerWidth = outerContainerWidth + offset.x;\n            var newContainerHeight = outerContainerHeight + offset.y;\n\n            mousedownpos.x = mousePageXY.pageX;\n            mousedownpos.y = mousePageXY.pageY;\n\n            if (newContainerWidth >= minContainerWidth) {\n              outerContainerElem.style.width = newContainerWidth + 'px';\n            }\n\n            if (newContainerHeight >= minContainerHeight) {\n              outerContainerElem.style.height = newContainerHeight + 'px';\n              valuesTableElem.tBodies[0].style.height = valuesTableSize.bottom - valuesTableSize.top + offset.y + 'px';\n            }\n\n            utils.stopPropagation(e);\n            utils.preventDefault(e);\n          };\n\n          utils.addEventListener(resizeGripElem, 'mousedown', this.resizeMouseDown);\n          utils.addEventListener(document, 'mouseup', this.resizeMouseUp);\n          utils.addEventListener(document, 'mousemove', this.resizeMouseMove);\n        }\n\n        this.clearSearchBox = function() {\n          elems.searchBox.value = '';\n          self.searchChanged();\n        };\n\n        this.toggleRegexpButtonVisibility = function() {\n          if (operator.regexpSupported) {\n            utils.addEventListener(elems.enableRegexButton, 'click', self.regexpActiveChanged);\n            domUtils.removeClass(elems.enableRegexButton, 'srchtyp-col-hidden');\n          } else {\n            utils.removeEventListener(elems.enableRegexButton, 'click', self.regexpActiveChanged);\n            domUtils.addClass(elems.enableRegexButton, 'srchtyp-col-hidden');\n          }\n        };\n\n        this.toggleRegexpButtonState = function() {\n          elems.enableRegexButton.className = elems.enableRegexButton.className.replace('srchtyp-col-active', '');\n          if (isRegexMode) {\n            domUtils.addClass(elems.enableRegexButton, 'srchtyp-col-active');\n          } else {\n            domUtils.removeClass(elems.enableRegexButton, 'srchtyp-col-active');\n          }\n        };\n\n        this.regexpActiveChanged = function() {\n          isRegexMode = !isRegexMode;\n          self.toggleRegexpButtonState();\n          self.searchChanged('regexModeChanged');\n        };\n\n        this.valueChecked = function(e) {\n          var target = e.target || e.srcElement;\n          if (target && target.type && target.type === 'checkbox') {\n            if (target == elems.allCheckbox) {\n              self.updateCheckboxes({\n                values: elems.allCheckbox.checked\n              });\n            } else {\n              self.updateAllCheckbox();\n            }\n          }\n        };\n\n        this.applyFilterTerm = function(operator, term) {\n          var defaultVisible = term ? false : true;\n          var opterm = operator.regexpSupported && isSearchMode ? isRegexMode ? term : utils.escapeRegex(term) : term;\n          checkboxVisible(elems.allCheckbox, defaultVisible);\n          for (var i = 0; i < reactComp.values.length; i++) {\n            var val = reactComp.values[i];\n            var checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n            var visible = !isSearchMode || operator.func(val, opterm);\n            checkboxVisible(checkbox, visible);\n            checkbox.checked = visible;\n          }\n        };\n\n        this.searchChanged = function(e) {\n          var search = (elems.searchBox.value || '').trim();\n          if (e === 'operatorChanged' || e === 'regexModeChanged' && search || search != lastSearchTerm) {\n            lastSearchTerm = search;\n\n            var previousIsSearchMode = isSearchMode;\n            isSearchMode = search !== '';\n\n            if (isSearchMode && !previousIsSearchMode) {\n              savedCheckedValues = self.getCheckedValues();\n            }\n\n            //var searchTerm = operator.regexpSupported && isSearchMode ? new RegExp(isRegexMode ? search : utils.escapeRegex(search), 'i') : search;\n            if (e !== 'operatorChanged' || isSearchMode) {\n              self.applyFilterTerm(operator, search);\n            }\n\n            if (!isSearchMode && previousIsSearchMode) {\n              self.updateCheckboxes(savedCheckedValues);\n            }\n\n            self.updateAllCheckbox();\n          }\n        };\n\n        this.getCheckedValues = function() {\n          if (!isSearchMode && !elems.allCheckbox.indeterminate) {\n            return {\n              values: elems.allCheckbox.checked ? filtering.ALL : filtering.NONE,\n              toExclude: false\n            };\n          } else {\n            var staticValue;\n            var i, val, checkbox;\n            var valuesCount = 0,\n              checkedCount = 0;\n\n            for (i = 0; i < reactComp.values.length; i++) {\n              val = reactComp.values[i];\n              checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n              if (checkboxVisible(checkbox)) {\n                valuesCount++;\n                if (checkbox.checked) {\n                  checkedCount++;\n                }\n              }\n            }\n\n            var excludeUnchecked = false;\n\n            if (checkedCount === 0) {\n              staticValue = filtering.NONE;\n            } else if (checkedCount == valuesCount) {\n              staticValue = filtering.ALL;\n            } else {\n              staticValue = [];\n              excludeUnchecked = checkedCount > valuesCount / 2 + 1;\n\n              for (i = 0; i < reactComp.values.length; i++) {\n                val = reactComp.values[i];\n                checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n                if (checkboxVisible(checkbox)) {\n                  if (!excludeUnchecked && checkbox.checked || excludeUnchecked && !checkbox.checked) {\n                    staticValue.push(val);\n                  }\n                }\n              }\n            }\n            return {\n              values: staticValue,\n              toExclude: excludeUnchecked\n            };\n          }\n        };\n\n        this.updateCheckboxes = function(checkedList) {\n          var values = checkedList ? checkedList.values : null;\n          var allchecked = utils.isArray(values) ? null : values == null || values === filtering.ALL ? true : values === filtering.NONE ? false : !!values;\n          for (var i = 0; i < reactComp.values.length; i++) {\n            var val = reactComp.values[i];\n            var checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n            if (checkboxVisible(checkbox)) {\n              if (allchecked != null) {\n                checkbox.checked = allchecked;\n              } else {\n                var valInList = values.indexOf(val) >= 0;\n                checkbox.checked = checkedList.toExclude ? !valInList : valInList;\n              }\n            }\n          }\n        };\n\n        this.updateAllCheckbox = function() {\n          if (!isSearchMode) {\n            var allchecked = null;\n            for (var i = 0; i < reactComp.values.length; i++) {\n              var val = reactComp.values[i];\n              var checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n              if (allchecked == null) {\n                allchecked = checkbox.checked;\n              } else {\n                if (allchecked !== checkbox.checked) {\n                  allchecked = INDETERMINATE;\n                  break;\n                }\n              }\n            }\n\n            if (allchecked === INDETERMINATE) {\n              elems.allCheckbox.indeterminate = true;\n              elems.allCheckbox.checked = false;\n            } else {\n              elems.allCheckbox.indeterminate = false;\n              elems.allCheckbox.checked = allchecked;\n            }\n          }\n        };\n      }\n\n    }, {\n      \"../orb.filtering\": 6,\n      \"../orb.utils\": 19,\n      \"../orb.utils.dom\": 18,\n      \"./orb.react.Dropdown.jsx\": 26,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    28: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        utils = _dereq_('../orb.utils');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function() {\n          var data = this.props.data;\n          var headers = this.props.headers;\n          var tableClasses = this.props.theme.getGridClasses();\n\n          var rows = [];\n\n          if (headers && headers.length > 0) {\n            var headerRow = [];\n            for (var h = 0; h < headers.length; h++) {\n              headerRow.push(React.createElement(\n                'th', {\n                  key: 'h' + h\n                },\n                headers[h]\n              ));\n            }\n            rows.push(React.createElement(\n              'tr', {\n                key: 'h'\n              },\n              headerRow\n            ));\n          }\n\n          if (data && data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n              var row = [];\n              if (utils.isArray(data[i])) {\n                for (var j = 0; j < data[i].length; j++) {\n                  row.push(React.createElement(\n                    'td', {\n                      key: i + '' + j\n                    },\n                    data[i][j]\n                  ));\n                }\n              } else {\n                for (var prop in data[i]) {\n                  if (data[i].hasOwnProperty(prop)) {\n                    row.push(React.createElement(\n                      'td', {\n                        key: i + '' + prop\n                      },\n                      data[i][prop]\n                    ));\n                  }\n                }\n              }\n              rows.push(React.createElement(\n                'tr', {\n                  key: i\n                },\n                row\n              ));\n            }\n          }\n\n          return React.createElement(\n            'table', {\n              className: tableClasses.table\n            },\n            React.createElement(\n              'tbody',\n              null,\n              rows\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 19,\n      \"react\": \"react\"\n    }],\n    29: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        FilterPanel = _dereq_('./orb.react.FilterPanel.jsx'),\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        utils = _dereq_('../orb.utils'),\n        axe = _dereq_('../orb.axe'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        pbid = 0;\n\n      module.exports = React.createClass({\n        displayName: 'PivotButton',\n        getInitialState: function() {\n          this.pbid = ++pbid;\n\n          // initial state, all zero.\n          return {\n            pos: {\n              x: 0,\n              y: 0\n            },\n            startpos: {\n              x: 0,\n              y: 0\n            },\n            mousedown: false,\n            dragging: false\n          };\n        },\n        onFilterMouseDown: function(e) {\n          // left mouse button only\n          if (e.button !== 0) return;\n\n          var filterButton = this.refs.filterButton;\n          var filterButtonPos = domUtils.getOffset(filterButton);\n          var filterContainer = document.createElement('div');\n\n          var filterPanelFactory = React.createFactory(FilterPanel);\n          var filterPanel = filterPanelFactory({\n            field: this.props.field.name,\n            pivotTableComp: this.props.pivotTableComp\n          });\n\n          filterContainer.className = this.props.pivotTableComp.pgrid.config.theme.getFilterClasses().container;\n          filterContainer.style.top = filterButtonPos.y + 'px';\n          filterContainer.style.left = filterButtonPos.x + 'px';\n          document.body.appendChild(filterContainer);\n\n          ReactDOM.render(filterPanel, filterContainer);\n\n          // prevent event bubbling (to prevent text selection while dragging for example)\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        componentDidUpdate: function() {\n          if (this.props.pivotTableComp.pgrid.config.canMoveFields) {\n            if (!this.state.mousedown) {\n              // mouse not down, don't care about mouse up/move events.\n              DragManager.setDragElement(null);\n              utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n            } else if (this.state.mousedown) {\n              // mouse down, interested by mouse up/move events.\n              DragManager.setDragElement(this);\n              utils.addEventListener(document, 'mousemove', this.onMouseMove);\n            }\n          }\n        },\n        componentDidMount: function() {\n          this.props.pivotTableComp.registerThemeChanged(this.updateClasses);\n        },\n        componentWillUnmount: function() {\n          this.props.pivotTableComp.unregisterThemeChanged(this.updateClasses);\n          utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n        },\n        onMouseDown: function(e) {\n          // drag/sort with left mouse button\n          if (e.button !== 0) return;\n\n          if (e.ctrlKey) {\n            this.props.pivotTableComp.pgridwidget.toggleFieldExpansion(this.props.axetype, this.props.field);\n          } else {\n\n            var thispos = domUtils.getOffset(ReactDOM.findDOMNode(this));\n            var mousePageXY = utils.getMousePageXY(e);\n\n            // inform mousedown, save start pos\n            this.setState({\n              mousedown: true,\n              mouseoffset: {\n                x: thispos.x - mousePageXY.pageX,\n                y: thispos.y - mousePageXY.pageY\n              },\n              startpos: {\n                x: mousePageXY.pageX,\n                y: mousePageXY.pageY\n              }\n            });\n          }\n\n          // prevent event bubbling (to prevent text selection while dragging for example)\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        onMouseUp: function(e) {\n\n          var isdragged = this.state.dragging;\n\n          this.setState({\n            mousedown: false,\n            dragging: false,\n            size: null,\n            pos: {\n              x: 0,\n              y: 0\n            }\n          });\n\n          if (!e.ctrlKey && !isdragged) {\n            // if button was not dragged, proceed as a click\n            this.props.pivotTableComp.sort(this.props.axetype, this.props.field);\n          }\n        },\n        onMouseMove: function(e) {\n          // if the mouse is not down while moving, return (no drag)\n          if (!this.props.pivotTableComp.pgrid.config.canMoveFields || !this.state.mousedown) return;\n\n          var size = null;\n          var mousePageXY = utils.getMousePageXY(e);\n\n          if (!this.state.dragging) {\n            size = domUtils.getSize(ReactDOM.findDOMNode(this));\n          } else {\n            size = this.state.size;\n          }\n\n          var newpos = {\n            x: mousePageXY.pageX + this.state.mouseoffset.x,\n            y: mousePageXY.pageY + this.state.mouseoffset.y\n          };\n\n          if (!this.state.dragging || newpos.x != this.state.pos.x || newpos.y != this.state.pos.y) {\n            this.setState({\n              dragging: true,\n              size: size,\n              pos: newpos\n            });\n\n            DragManager.elementMoved();\n          }\n\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        updateClasses: function() {\n          ReactDOM.findDOMNode(this).className = this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton;\n        },\n        render: function() {\n          var self = this;\n          var divstyle = {\n            left: self.state.pos.x + 'px',\n            top: self.state.pos.y + 'px',\n            position: self.state.dragging ? 'fixed' : '',\n            zIndex: 101\n          };\n\n          if (self.state.size) {\n            divstyle.width = self.state.size.width + 'px';\n          }\n\n          var sortDirectionClass = self.props.field.sort.order === 'asc' ? 'sort-asc' :\n            //' \\u2191' :\n            self.props.field.sort.order === 'desc' ? 'sort-desc' :\n            //' \\u2193' :\n            '';\n          var filterClass = (self.state.dragging ? '' : 'fltr-btn') + (this.props.pivotTableComp.pgrid.isFieldFiltered(this.props.field.name) ? ' fltr-btn-active' : '');\n          var fieldAggFunc = '';\n          if (self.props.axetype === axe.Type.DATA) {\n            fieldAggFunc = React.createElement(\n              'small',\n              null,\n              ' (' + self.props.field.aggregateFuncName + ')'\n            );\n          }\n\n          return React.createElement(\n            'div', {\n              key: self.props.field.name,\n              className: this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton,\n              onMouseDown: this.onMouseDown,\n              onMouseUp: this.onMouseUp,\n              style: divstyle\n            },\n            React.createElement(\n              'table',\n              null,\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td', {\n                      className: 'caption'\n                    },\n                    self.props.field.caption,\n                    fieldAggFunc\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement('div', {\n                      className: 'sort-indicator ' + sortDirectionClass\n                    })\n                  ),\n                  React.createElement(\n                    'td', {\n                      className: 'filter'\n                    },\n                    React.createElement('div', {\n                      ref: 'filterButton',\n                      className: filterClass,\n                      onMouseDown: self.state.dragging ? null : this.onFilterMouseDown\n                    })\n                  )\n                )\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 2,\n      \"../orb.utils\": 19,\n      \"../orb.utils.dom\": 18,\n      \"./orb.react.DragManager.jsx\": 22,\n      \"./orb.react.FilterPanel.jsx\": 27,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    30: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        uiheaders = _dereq_('../orb.ui.header'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        _paddingLeft = null,\n        _borderLeft = null;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        expand: function() {\n          this.props.pivotTableComp.pgridwidget.expandRow(this.props.cell);\n        },\n        collapse: function() {\n          this.props.pivotTableComp.pgridwidget.collapseRow(this.props.cell);\n        },\n        updateCellInfos: function() {\n          var node = ReactDOM.findDOMNode(this);\n          var cell = this.props.cell;\n          node.__orb = node.__orb || {};\n\n          if (!cell.visible()) {\n\n            node.__orb._visible = false;\n          } else {\n            var cellContentNode = this.refs.cellContent;\n\n            var propList = [];\n            var retPaddingLeft = _paddingLeft == null;\n            var retBorderLeft = !this.props.leftmost && _borderLeft == null;\n            var text = node.textContent || node.innerText;\n\n            if (retPaddingLeft) {\n              propList.push('padding-left');\n            }\n\n            if (retBorderLeft) {\n              propList.push('border-left-width');\n            }\n\n            if (propList.length > 0) {\n              var nodeStyle = domUtils.getStyle(node, propList, true);\n\n              if (retPaddingLeft) {\n                _paddingLeft = parseFloat(nodeStyle[0]);\n              }\n\n              if (retBorderLeft) {\n                _borderLeft = parseFloat(nodeStyle[retPaddingLeft ? 1 : 0]);\n              }\n            }\n\n            domUtils.removeClass(node, 'cell-hidden');\n\n            node.__orb._visible = true;\n            if (text != node.__orb._lastText || !node.__orb._textWidth) {\n              node.__orb._lastText = text;\n              node.__orb._textWidth = domUtils.getSize(cellContentNode).width;\n            }\n            node.__orb._colSpan = this.props.cell.hspan(true) || 1;\n            node.__orb._rowSpan = this.props.cell.vspan(true) || 1;\n            node.__orb._paddingLeft = _paddingLeft;\n            node.__orb._paddingRight = _paddingLeft;\n            node.__orb._borderLeftWidth = this.props.leftmost ? 0 : _borderLeft;\n            node.__orb._borderRightWidth = 0;\n          }\n        },\n        componentDidMount: function() {\n          this.updateCellInfos();\n        },\n        componentDidUpdate: function() {\n          this.updateCellInfos();\n        },\n        shouldComponentUpdate: function(nextProps, nextState) {\n          if (nextProps.cell && nextProps.cell == this.props.cell && !this._latestVisibleState && !nextProps.cell.visible()) {\n            return false;\n          }\n          return true;\n        },\n        _latestVisibleState: false,\n        render: function() {\n          var self = this;\n          var cell = this.props.cell;\n          var divcontent = [];\n          var value;\n          var cellClick;\n          var headerPushed = false;\n\n          this._latestVisibleState = cell.visible();\n\n          switch (cell.template) {\n            case 'cell-template-row-header':\n            case 'cell-template-column-header':\n              var isWrapper = cell.type === uiheaders.HeaderType.WRAPPER && cell.dim.field.subTotal.visible && cell.dim.field.subTotal.collapsible;\n              var isSubtotal = cell.type === uiheaders.HeaderType.SUB_TOTAL && !cell.expanded;\n              if (isWrapper || isSubtotal) {\n                headerPushed = true;\n\n                divcontent.push(React.createElement(\n                  'table', {\n                    key: 'header-value',\n                    ref: 'cellContent'\n                  },\n                  React.createElement(\n                    'tbody',\n                    null,\n                    React.createElement(\n                      'tr',\n                      null,\n                      React.createElement(\n                        'td', {\n                          className: 'orb-tgl-btn'\n                        },\n                        React.createElement('div', {\n                          className: 'orb-tgl-btn-' + (isWrapper ? 'down' : 'right'),\n                          onClick: isWrapper ? this.collapse : this.expand\n                        })\n                      ),\n                      React.createElement(\n                        'td', {\n                          className: 'hdr-val'\n                        },\n                        React.createElement('div', {\n                          dangerouslySetInnerHTML: {\n                            __html: cell.value || '&#160;'\n                          }\n                        })\n                      )\n                    )\n                  )\n                ));\n              } else {\n                value = (cell.value || '&#160;') + (cell.type === uiheaders.HeaderType.SUB_TOTAL ? ' Total' : '');\n              }\n              break;\n            case 'cell-template-dataheader':\n              value = cell.value.caption;\n              break;\n            case 'cell-template-datavalue':\n              value = cell.datafield && cell.datafield.formatFunc ? cell.datafield.formatFunc()(cell.value) : cell.value;\n              cellClick = function() {\n                self.props.pivotTableComp.pgridwidget.drilldown(cell, self.props.pivotTableComp.id);\n              };\n              break;\n            default:\n              break;\n          }\n\n          if (!headerPushed) {\n            var headerClassName;\n            switch (cell.template) {\n              case 'cell-template-datavalue':\n                headerClassName = 'cell-data';\n                break;\n              default:\n                if (cell.template != 'cell-template-dataheader' && cell.type !== uiheaders.HeaderType.GRAND_TOTAL) {\n                  headerClassName = 'hdr-val';\n                }\n            }\n            divcontent.push(React.createElement(\n              'div', {\n                key: 'cell-value',\n                ref: 'cellContent',\n                className: headerClassName\n              },\n              React.createElement('div', {\n                dangerouslySetInnerHTML: {\n                  __html: value || '&#160;'\n                }\n              })\n            ));\n          }\n\n          return React.createElement(\n            'td', {\n              className: getClassname(this.props),\n              onDoubleClick: cellClick,\n              colSpan: cell.hspan(),\n              rowSpan: cell.vspan()\n            },\n            React.createElement(\n              'div',\n              null,\n              divcontent\n            )\n          );\n        }\n      });\n\n      function getClassname(compProps) {\n        var cell = compProps.cell;\n        var classname = cell.cssclass;\n        var isEmpty = cell.template === 'cell-template-empty';\n\n        if (!cell.visible()) {\n          classname += ' cell-hidden';\n        }\n\n        if (cell.type === uiheaders.HeaderType.SUB_TOTAL && cell.expanded) {\n          classname += ' header-st-exp';\n        }\n\n        if (cell.type === uiheaders.HeaderType.GRAND_TOTAL) {\n          if (cell.dim.depth === 1) {\n            classname += ' header-nofields';\n          } else if (cell.dim.depth > 2) {\n            classname += ' header-gt-exp';\n          }\n        }\n\n        if (compProps.leftmost) {\n          classname += ' ' + (cell.template === 'cell-template-datavalue' ? 'cell' : 'header') + '-leftmost';\n        }\n\n        if (compProps.topmost) {\n          classname += ' cell-topmost';\n        }\n\n        return classname;\n      }\n\n    }, {\n      \"../orb.ui.header\": 15,\n      \"../orb.utils.dom\": 18,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    31: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        SizingManager = _dereq_('./orb.react.PivotTable.SizingManager.jsx'),\n        Toolbar = _dereq_('./orb.react.Toolbar.jsx'),\n        UpperButtons = _dereq_('./orb.react.PivotTable.UpperButtons.jsx'),\n        ColumnButtons = _dereq_('./orb.react.PivotTable.ColumnButtons.jsx'),\n        RowButtons = _dereq_('./orb.react.PivotTable.RowButtons.jsx'),\n        Chart = _dereq_('./orb.react.Chart.jsx'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        pivotId = 1,\n        themeChangeCallbacks = {};\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        id: pivotId++,\n        pgrid: null,\n        pgridwidget: null,\n        fontStyle: null,\n        getInitialState: function() {\n          DragManager.init(this);\n\n          themeChangeCallbacks[this.id] = [];\n          this.registerThemeChanged(this.updateClasses);\n\n          this.pgridwidget = this.props.pgridwidget;\n          this.pgrid = this.pgridwidget.pgrid;\n          return {};\n        },\n        sort: function(axetype, field) {\n          this.pgridwidget.sort(axetype, field);\n        },\n        moveButton: function(button, newAxeType, position) {\n          this.pgridwidget.moveField(button.props.field.name, button.props.axetype, newAxeType, position);\n        },\n        applyFilter: function(fieldname, operator, term, staticValue, excludeStatic) {\n          this.pgridwidget.applyFilter(fieldname, operator, term, staticValue, excludeStatic);\n        },\n        registerThemeChanged: function(compCallback) {\n          if (compCallback) {\n            themeChangeCallbacks[this.id].push(compCallback);\n          }\n        },\n        unregisterThemeChanged: function(compCallback) {\n          var i;\n          if (compCallback && (i = themeChangeCallbacks[this.id].indexOf(compCallback)) >= 0) {\n            themeChangeCallbacks[this.id].splice(i, 1);\n          }\n        },\n        changeTheme: function(newTheme) {\n          if (this.pgridwidget.pgrid.config.setTheme(newTheme)) {\n            // notify self/sub-components of the theme change\n            for (var i = 0; i < themeChangeCallbacks[this.id].length; i++) {\n              themeChangeCallbacks[this.id][i]();\n            }\n          }\n        },\n        updateClasses: function() {\n          var thisnode = ReactDOM.findDOMNode(this);\n          var classes = this.pgridwidget.pgrid.config.theme.getPivotClasses();\n          thisnode.className = classes.container;\n          thisnode.children[1].className = classes.table;\n        },\n        componentDidUpdate: function() {\n          this.synchronizeWidths();\n        },\n        componentDidMount: function() {\n          var fontInfos = domUtils.getStyle(ReactDOM.findDOMNode(this), ['font-family', 'font-size'], true);\n          this.fontStyle = {\n            fontFamily: fontInfos[0],\n            fontSize: fontInfos[1]\n          };\n\n          this.synchronizeWidths();\n        },\n        synchronizeWidths: function() {\n          var chartStyle = SizingManager.synchronizeWidths(this);\n          chartStyle.fontFamily = this.fontStyle.fontFamily;\n          chartStyle.fontSize = this.fontStyle.fontSize;\n\n          this.refs.chart.setState({\n            canRender: true,\n            chartStyle: chartStyle\n          });\n        },\n        render: function() {\n\n          var self = this;\n\n          var config = this.pgridwidget.pgrid.config;\n          var classes = config.theme.getPivotClasses();\n\n          var tblStyle = {};\n          if (config.width) {\n            tblStyle.width = config.width;\n          }\n          if (config.height) {\n            tblStyle.height = config.height;\n          }\n\n          return React.createElement(\n            'div', {\n              className: classes.container,\n              style: tblStyle,\n              ref: 'pivot'\n            },\n            React.createElement(\n              'table', {\n                id: 'tbl-' + self.id,\n                ref: 'pivotWrapperTable',\n                className: classes.table\n              },\n              React.createElement(\n                'colgroup',\n                null,\n                React.createElement('col', {\n                  ref: 'column1'\n                }),\n                React.createElement('col', {\n                  ref: 'column2'\n                })\n              ),\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr', {\n                    ref: 'upperButtons'\n                  },\n                  React.createElement(\n                    'td', {\n                      colSpan: '2'\n                    },\n                    React.createElement(UpperButtons, {\n                      pivotTableComp: self\n                    })\n                  )\n                ),\n                React.createElement(\n                  'tr', {\n                    ref: 'colButtons'\n                  },\n                  React.createElement('td', null),\n                  React.createElement(\n                    'td', {\n                      style: {\n                        padding: '11px 4px !important'\n                      }\n                    },\n                    React.createElement(ColumnButtons, {\n                      pivotTableComp: self\n                    })\n                  )\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td', {\n                      style: {\n                        position: 'relative'\n                      }\n                    },\n                    React.createElement(RowButtons, {\n                      pivotTableComp: self,\n                      ref: 'rowButtons'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(Chart, {\n                      pivotTableComp: self,\n                      chartMode: config.chartMode,\n                      ref: 'chart'\n                    })\n                  )\n                )\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils.dom\": 18,\n      \"./orb.react.Chart.jsx\": 20,\n      \"./orb.react.DragManager.jsx\": 22,\n      \"./orb.react.PivotTable.ColumnButtons.jsx\": 33,\n      \"./orb.react.PivotTable.RowButtons.jsx\": 36,\n      \"./orb.react.PivotTable.SizingManager.jsx\": 38,\n      \"./orb.react.PivotTable.UpperButtons.jsx\": 39,\n      \"./orb.react.Toolbar.jsx\": 42,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    32: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        PivotCell = _dereq_('./orb.react.PivotCell.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function() {\n          var self = this;\n\n          var lastCellIndex = this.props.row.length - 1;\n          var cell0 = this.props.row[0];\n          var leftmostCellFound = false;\n          var layoutInfos = self.props.layoutInfos;\n          var cells;\n\n          var rowstyle = {};\n\n          var istopmost = false;\n\n          cells = this.props.row.map(function(cell, index) {\n\n            var isleftmost = false;\n\n            // If current cells are column/data headers and left most cell is not found yet\n            // and last row left most cell does not span vertically over the current one and current one is visible\n            // then mark IT as the left most cell\n            if (cell.visible() && layoutInfos) {\n              if (cell.dim) {\n                if (cell.dim.isRoot && layoutInfos.topMostCells[cell.dim.depth - 1] === undefined || !cell.dim.isRoot && layoutInfos.topMostCells[cell.dim.depth] === undefined && (cell.dim.parent.isRoot || layoutInfos.topMostCells[cell.dim.depth + 1] === cell.dim.parent)) {\n                  istopmost = true;\n                  layoutInfos.topMostCells[cell.dim.depth] = cell.dim;\n                }\n              } else if (!layoutInfos.topMostCells['0']) {\n                istopmost = layoutInfos.topMostCells['0'] = true;\n              }\n\n              if (!leftmostCellFound && (self.props.axetype === axe.Type.DATA || self.props.axetype === axe.Type.COLUMNS) && layoutInfos.lastLeftMostCellVSpan === 0) {\n\n                isleftmost = leftmostCellFound = true;\n                layoutInfos.lastLeftMostCellVSpan = cell.vspan() - 1;\n              }\n            }\n\n            return React.createElement(PivotCell, {\n              key: index,\n              cell: cell,\n              leftmost: isleftmost,\n              topmost: istopmost,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          // decrement lastLeftMostCellVSpan\n          if (layoutInfos && layoutInfos.lastLeftMostCellVSpan > 0 && !leftmostCellFound) {\n            layoutInfos.lastLeftMostCellVSpan--;\n          }\n\n          return React.createElement(\n            'tr', {\n              style: rowstyle\n            },\n            cells\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 2,\n      \"./orb.react.PivotCell.jsx\": 30,\n      \"react\": \"react\"\n    }],\n    33: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        axe = _dereq_('../orb.axe'),\n        PivotButton = _dereq_('./orb.react.PivotButton.jsx'),\n        DropTarget = _dereq_('./orb.react.DropTarget.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function() {\n          var self = this;\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          var columnButtons = config.columnFields.map(function(field, index) {\n            return React.createElement(PivotButton, {\n              key: field.name,\n              field: field,\n              axetype: axe.Type.COLUMNS,\n              position: index,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          return React.createElement(DropTarget, {\n            buttons: columnButtons,\n            axetype: axe.Type.COLUMNS\n          });\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 2,\n      \"./orb.react.DropTarget.jsx\": 24,\n      \"./orb.react.PivotButton.jsx\": 29,\n      \"react\": \"react\"\n    }],\n    34: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        axe = _dereq_('../orb.axe'),\n        PivotRow = _dereq_('./orb.react.PivotRow.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function() {\n          var self = this;\n          var pgridwidget = this.props.pivotTableComp.pgridwidget;\n          var cntrClass = pgridwidget.columns.headers.length === 0 ? '' : ' columns-cntr';\n\n          var layoutInfos = {\n            lastLeftMostCellVSpan: 0,\n            topMostCells: {}\n          };\n\n          var columnHeaders = pgridwidget.columns.headers.map(function(headerRow, index) {\n            return React.createElement(PivotRow, {\n              key: index,\n              row: headerRow,\n              axetype: axe.Type.COLUMNS,\n              pivotTableComp: self.props.pivotTableComp,\n              layoutInfos: layoutInfos\n            });\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'inner-table-container' + cntrClass,\n              onWheel: this.props.pivotTableComp.onWheel\n            },\n            React.createElement(\n              'table', {\n                className: 'inner-table'\n              },\n              React.createElement('colgroup', null),\n              React.createElement(\n                'tbody',\n                null,\n                columnHeaders\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 2,\n      \"./orb.react.PivotRow.jsx\": 32,\n      \"react\": \"react\"\n    }],\n    35: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        axe = _dereq_('../orb.axe'),\n        PivotRow = _dereq_('./orb.react.PivotRow.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function() {\n          var self = this;\n          var pgridwidget = this.props.pivotTableComp.pgridwidget;\n          var layoutInfos = {\n            lastLeftMostCellVSpan: 0,\n            topMostCells: {}\n          };\n\n          var dataCells = pgridwidget.dataRows.map(function(dataRow, index) {\n            return React.createElement(PivotRow, {\n              key: index,\n              row: dataRow,\n              axetype: axe.Type.DATA,\n              layoutInfos: layoutInfos,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'inner-table-container data-cntr',\n              onWheel: this.props.pivotTableComp.onWheel\n            },\n            React.createElement(\n              'table', {\n                className: 'inner-table'\n              },\n              React.createElement('colgroup', null),\n              React.createElement(\n                'tbody',\n                null,\n                dataCells\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 2,\n      \"./orb.react.PivotRow.jsx\": 32,\n      \"react\": \"react\"\n    }],\n    36: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        PivotButton = _dereq_('./orb.react.PivotButton.jsx'),\n        DropTarget = _dereq_('./orb.react.DropTarget.jsx'),\n        DropTargetVertical = _dereq_('./orb.react.DropTargetVertical.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function() {\n          var self = this;\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          var rowButtons = config.rowFields.map(function(field, index) {\n            return React.createElement(PivotButton, {\n              key: field.name,\n              field: field,\n              axetype: axe.Type.ROWS,\n              position: index,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          if (config.chartMode.enabled) {\n            return React.createElement(DropTargetVertical, {\n              buttons: rowButtons,\n              axetype: axe.Type.ROWS\n            });\n          } else {\n            return React.createElement(DropTarget, {\n              buttons: rowButtons,\n              axetype: axe.Type.ROWS\n            });\n          }\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 2,\n      \"./orb.react.DropTarget.jsx\": 24,\n      \"./orb.react.DropTargetVertical.jsx\": 25,\n      \"./orb.react.PivotButton.jsx\": 29,\n      \"react\": \"react\"\n    }],\n    37: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        PivotRow = _dereq_('./orb.react.PivotRow.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        setColGroup: function(widths) {\n          var node = ReactDOM.findDOMNode(this);\n          var colGroupNode = this.refs.colgroup;\n          node.style.tableLayout = 'auto';\n\n          colGroupNode.innerHTML = '';\n          for (var i = 0; i < widths.length; i++) {\n            var col = document.createElement('col');\n            col.style.width = widths[i] + 8 + 'px';\n            colGroupNode.appendChild(col);\n          }\n          node.style.tableLayout = 'fixed';\n        },\n        render: function() {\n          var self = this;\n          var pgridwidget = this.props.pivotTableComp.pgridwidget;\n          var cntrClass = pgridwidget.rows.headers.length === 0 ? '' : ' rows-cntr';\n\n          var layoutInfos = {\n            lastLeftMostCellVSpan: 0,\n            topMostCells: {}\n          };\n\n          var rowHeaders = pgridwidget.rows.headers.map(function(headerRow, index) {\n            return React.createElement(PivotRow, {\n              key: index,\n              row: headerRow,\n              axetype: axe.Type.ROWS,\n              layoutInfos: layoutInfos,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'inner-table-container' + cntrClass,\n              onWheel: this.props.pivotTableComp.onWheel\n            },\n            React.createElement(\n              'table', {\n                className: 'inner-table'\n              },\n              React.createElement('colgroup', {\n                ref: 'colgroup'\n              }),\n              React.createElement(\n                'tbody',\n                null,\n                rowHeaders\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 2,\n      \"./orb.react.PivotRow.jsx\": 32,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    38: [function(_dereq_, module, exports) {\n\n      var ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        domUtils = _dereq_('../orb.utils.dom');\n\n      var SizingManager = module.exports = {\n        synchronizeWidths: function(pivotComp) {\n          if (pivotComp.pgridwidget.pgrid.config.chartMode.enabled) {\n            return SizingManager.synchronizePivotChartWidths(pivotComp);\n          } else {\n            SizingManager.synchronizePivotTableWidths(pivotComp);\n          }\n        },\n        synchronizePivotChartWidths: function(pivotComp) {\n          var pivotWrapperTable = pivotComp.refs.pivotWrapperTable,\n            pivot = new ComponentSizeInfo(pivotComp.refs.pivot),\n            topBtns = new ComponentSizeInfo(pivotComp.refs.upperButtons),\n            cBtns = new ComponentSizeInfo(pivotComp.refs.colButtons),\n            rBtnsTbl = new ComponentSizeInfo(pivotComp.refs.rowButtons),\n            chart = new ComponentSizeInfo(pivotComp.refs.chart),\n            rBtnsWidth = Math.max(rBtnsTbl.w, 67),\n            chartWidth = pivot.w - rBtnsWidth,\n            pivotHeight = pivotComp.pgridwidget.pgrid.config.height,\n            chartHeight = !pivotHeight ? null : pivotHeight - (topBtns.h + cBtns.h);\n\n          // set pivotWrapperTable columns width to fixed value\n          domUtils.updateTableColGroup(pivotWrapperTable, [rBtnsWidth, chartWidth]);\n\n          return {\n            width: chartWidth,\n            height: chartHeight\n          };\n        },\n        synchronizePivotTableWidths: function(pivotComp) {\n\n          var pivotWrapperTable = pivotComp.refs.pivotWrapperTable,\n            pivot = new ComponentSizeInfo(pivotComp.refs.pivot),\n            toolbar = new ComponentSizeInfo(pivotComp.refs.toolbar),\n            cHeadersTbl = new ComponentSizeInfo(pivotComp.refs.colHeaders, true, 'table'),\n            rHeadersTbl = new ComponentSizeInfo(pivotComp.refs.rowHeaders, true, 'table'),\n            dataCellsTbl = new ComponentSizeInfo(pivotComp.refs.dataCells, true, 'table'),\n            topBtns = new ComponentSizeInfo(pivotComp.refs.upperButtons),\n            cBtns = new ComponentSizeInfo(pivotComp.refs.colButtons),\n            rBtnsTbl = new ComponentSizeInfo(pivotComp.refs.rowButtons, true),\n            hScroll = new ComponentSizeInfo(pivotComp.refs.horizontalScrollBar),\n            vScroll = new ComponentSizeInfo(pivotComp.refs.verticalScrollBar),\n            dataCellsWidths = dataCellsTbl.getLargestWidths(cHeadersTbl),\n            rHeadersWidth = Math.max(rHeadersTbl.w, rBtnsTbl.w, 67),\n            dataCellsContainerWidth = Math.min(dataCellsWidths.total + 1, pivot.w - rHeadersWidth - vScroll.w),\n            pivotHeight = pivotComp.pgridwidget.pgrid.config.height,\n            dataCellsRemHeight = !pivotHeight ? null : pivotHeight - (toolbar ? toolbar.h + 17 : 0) - (topBtns.h + cBtns.h + cHeadersTbl.h + hScroll.h),\n            dataCellsTableHeight = !dataCellsRemHeight ? null : Math.ceil(Math.min(dataCellsRemHeight, dataCellsTbl.h));\n\n          // get rowHeaders table width to match with rowButtons table width\n          rHeadersTbl.addToWidth(rHeadersWidth - rHeadersTbl.w);\n\n          // Set dataCellsTable cells widths according to the computed dataCellsWidths\n          domUtils.updateTableColGroup(dataCellsTbl.node, dataCellsWidths.max);\n\n          // Set colHeadersTable cells widths according to the computed dataCellsWidths\n          domUtils.updateTableColGroup(cHeadersTbl.node, dataCellsWidths.max);\n\n          // Set rowHeadersTable cells widths\n          domUtils.updateTableColGroup(rHeadersTbl.node, rHeadersTbl.colWidths);\n\n          dataCellsTbl.setStyle('width', dataCellsWidths.total);\n          cHeadersTbl.setStyle('width', dataCellsWidths.total);\n          rHeadersTbl.setStyle('width', rHeadersWidth);\n\n          // Adjust data cells container and column headers container width\n          dataCellsTbl.setParentStyle('width', dataCellsContainerWidth);\n          cHeadersTbl.setParentStyle('width', dataCellsContainerWidth);\n\n          if (dataCellsTableHeight) {\n            // Adjust data cells container and row headers container height\n            dataCellsTbl.setParentStyle('height', dataCellsTableHeight);\n            rHeadersTbl.setParentStyle('height', dataCellsTableHeight);\n          }\n\n          // set pivotWrapperTable columns width to fixed value\n          domUtils.updateTableColGroup(pivotWrapperTable, [rHeadersWidth, dataCellsContainerWidth, vScroll.w, Math.max(pivot.w - (rHeadersWidth + dataCellsContainerWidth + vScroll.w), 0)]);\n\n          pivotComp.refs.horizontalScrollBar.refresh();\n          pivotComp.refs.verticalScrollBar.refresh();\n        }\n      };\n\n      function ComponentSizeInfo(component, isWrapper, childType) {\n        var self = this,\n          node = ReactDOM.findDOMNode(component),\n          size;\n\n        this.node = isWrapper ? node.children[0] : node;\n\n        size = domUtils.getSize(this.node);\n        this.w = size.width;\n        this.h = size.height;\n\n        this.setStyle = function(styleProp, value) {\n          self.node.style[styleProp] = value + 'px';\n        };\n\n        this.setParentStyle = function(styleProp, value) {\n          self.node.parentNode.style[styleProp] = value + 'px';\n        };\n\n        this.getLargestWidths = function(otherCompInfo) {\n          var result = {\n            max: [],\n            total: 0\n          };\n\n          // get the array of max widths between dataCellsTable and colHeadersTable\n          for (var i = 0; i < self.colWidths.length; i++) {\n            result.max.push(Math.max(self.colWidths[i], otherCompInfo.colWidths[i]));\n            result.total += result.max[i];\n          }\n\n          return result;\n        };\n\n        this.addToWidth = function(value) {\n          if (value > 0) {\n            self.w += value;\n            self.colWidths[self.colWidths.length - 1] += value;\n          }\n        };\n\n        if (childType === 'table') {\n          // get array of column widths\n          getAllColumnsWidth(this);\n        }\n      }\n\n      function getAllColumnsWidth(tblObject) {\n        if (tblObject && tblObject.node) {\n\n          var tbl = tblObject.node;\n          var colWidths = [];\n\n          for (var rowIndex = 0; rowIndex < tbl.rows.length; rowIndex++) {\n            // current row\n            var currRow = tbl.rows[rowIndex];\n            // reset colWidths index\n            var arrayIndex = 0;\n            var currWidth = null;\n\n            // get the width of each cell within current row\n            for (var cellIndex = 0; cellIndex < currRow.cells.length; cellIndex++) {\n              // current cell\n              var currCell = currRow.cells[cellIndex];\n\n              if (currCell.__orb._visible) {\n                // cell width\n                //var cellwidth = Math.ceil(domUtils.getSize(currCell.children[0]).width/currCell.colSpan);\n                var cellwidth = Math.ceil(currCell.__orb._textWidth / currCell.__orb._colSpan + currCell.__orb._paddingLeft + currCell.__orb._paddingRight + currCell.__orb._borderLeftWidth + currCell.__orb._borderRightWidth);\n                // whether current cell spans vertically to the last row\n                var rowsSpan = currCell.__orb._rowSpan > 1 && currCell.__orb._rowSpan >= tbl.rows.length - rowIndex;\n\n                // if current cell spans over more than one column, add its width (its) 'colSpan' number of times\n                for (var cspan = 0; cspan < currCell.__orb._colSpan; cspan++) {\n                  // If cell span over more than 1 row: insert its width into colWidths at arrayIndex\n                  // Else: either expand colWidths if necessary or replace the width if its smaller than current cell width\n\n                  currWidth = colWidths[arrayIndex];\n                  // skip inhibited widths (width that belongs to an upper cell than spans vertically to current row)\n                  while (currWidth && currWidth.inhibit > 0) {\n                    currWidth.inhibit--;\n                    arrayIndex++;\n                    currWidth = colWidths[arrayIndex];\n                  }\n\n                  if (colWidths.length - 1 < arrayIndex) {\n                    colWidths.push({\n                      width: cellwidth\n                    });\n                  } else if (cellwidth > colWidths[arrayIndex].width) {\n                    colWidths[arrayIndex].width = cellwidth;\n                  }\n\n                  colWidths[arrayIndex].inhibit = currCell.__orb._rowSpan - 1;\n\n                  // increment colWidths index\n                  arrayIndex++;\n                }\n              }\n            }\n\n            // decrement inhibited state of all widths unsed in colWidths (not reached by current row cells)\n            currWidth = colWidths[arrayIndex];\n            while (currWidth) {\n              if (currWidth.inhibit > 0) {\n                currWidth.inhibit--;\n              }\n              arrayIndex++;\n              currWidth = colWidths[arrayIndex];\n            }\n          }\n\n          // set colWidths to the tblObject\n          tblObject.w = 0;\n          tblObject.colWidths = colWidths.map(function(item, index) {\n            tblObject.w += item.width;\n            return item.width;\n          });\n        }\n      }\n\n      function setTableWidths(tblObject, colWidths) {\n        if (tblObject && tblObject.node) {\n\n          // reset table width\n          (tblObject.size = tblObject.size || {}).width = 0;\n\n          var tbl = tblObject.node;\n\n          // for each row, set its cells width\n          for (var rowIndex = 0; rowIndex < tbl.rows.length; rowIndex++) {\n\n            // current row\n            var currRow = tbl.rows[rowIndex];\n            // index in colWidths\n            var arrayIndex = 0;\n            var currWidth = null;\n\n            // set width of each cell\n            for (var cellIndex = 0; cellIndex < currRow.cells.length; cellIndex++) {\n\n              // current cell\n              var currCell = currRow.cells[cellIndex];\n              if (currCell.__orb._visible) {\n                // cell width\n                var newCellWidth = 0;\n                // whether current cell spans vertically more than 1 row\n                var rowsSpan = currCell.__orb._rowSpan > 1 && rowIndex < tbl.rows.length - 1;\n\n                // current cell width is the sum of (its) \"colspan\" items in colWidths starting at 'arrayIndex'\n                // 'arrayIndex' should be incremented by an amount equal to current cell 'colspan' but should also skip 'inhibited' cells\n                for (var cspan = 0; cspan < currCell.__orb._colSpan; cspan++) {\n                  currWidth = colWidths[arrayIndex];\n                  // skip inhibited widths (width that belongs to an upper cell than spans vertically to current row)\n                  while (currWidth && currWidth.inhibit > 0) {\n                    currWidth.inhibit--;\n                    arrayIndex++;\n                    currWidth = colWidths[arrayIndex];\n                  }\n\n                  if (currWidth) {\n                    // add width of cells participating in the span\n                    newCellWidth += currWidth.width;\n                    // if current cell spans vertically more than 1 row, mark its width as inhibited for all cells participating in this span\n                    if (rowsSpan) {\n                      currWidth.inhibit = currCell.__orb._rowSpan - 1;\n                    }\n\n                    // advance colWidths index\n                    arrayIndex++;\n                  }\n                }\n\n                currCell.children[0].style.width = newCellWidth + 'px';\n\n                // set table width (only in first iteration)\n                if (rowIndex === 0) {\n                  var outerCellWidth = 0;\n                  if (currCell.__orb) {\n                    outerCellWidth = currCell.__orb._colSpan * Math.ceil(currCell.__orb._paddingLeft + currCell.__orb._paddingRight + currCell.__orb._borderLeftWidth + currCell.__orb._borderRightWidth);\n                  }\n                  tblObject.w += newCellWidth + outerCellWidth;\n                }\n              }\n            }\n\n            // decrement inhibited state of all widths unsed in colWidths (not reached by current row cells)\n            currWidth = colWidths[arrayIndex];\n            while (currWidth) {\n              if (currWidth.inhibit > 0) {\n                currWidth.inhibit--;\n              }\n              arrayIndex++;\n              currWidth = colWidths[arrayIndex];\n            }\n          }\n        }\n      }\n\n    }, {\n      \"../orb.utils.dom\": 18,\n      \"react-dom\": \"react-dom\"\n    }],\n    39: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        PivotButton = _dereq_('./orb.react.PivotButton.jsx'),\n        DropTarget = _dereq_('./orb.react.DropTarget.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function() {\n          var self = this;\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          var fieldsDropTarget;\n          if (config.canMoveFields) {\n            var fieldsButtons = config.availablefields().map(function(field, index) {\n              return React.createElement(PivotButton, {\n                key: field.name,\n                field: field,\n                axetype: null,\n                position: index,\n                pivotTableComp: self.props.pivotTableComp\n              });\n            });\n            fieldsDropTarget = React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td', {\n                  className: 'flds-grp-cap av-flds text-muted'\n                },\n                React.createElement(\n                  'div',\n                  null,\n                  'Fields'\n                )\n              ),\n              React.createElement(\n                'td', {\n                  className: 'av-flds'\n                },\n                React.createElement(DropTarget, {\n                  buttons: fieldsButtons,\n                  axetype: null\n                })\n              )\n            );\n          } else {\n            fieldsDropTarget = null;\n          }\n\n          var dataButtons = config.dataFields.map(function(field, index) {\n            return React.createElement(PivotButton, {\n              key: field.name,\n              field: field,\n              axetype: axe.Type.DATA,\n              position: index,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          var dataDropTarget = React.createElement(\n            'tr',\n            null,\n            React.createElement(\n              'td', {\n                className: 'flds-grp-cap text-muted'\n              },\n              React.createElement(\n                'div',\n                null,\n                'Data'\n              )\n            ),\n            React.createElement(\n              'td', {\n                className: 'empty'\n              },\n              React.createElement(DropTarget, {\n                buttons: dataButtons,\n                axetype: axe.Type.DATA\n              })\n            )\n          );\n\n          return React.createElement(\n            'table', {\n              className: 'inner-table upper-buttons'\n            },\n            React.createElement(\n              'tbody',\n              null,\n              fieldsDropTarget,\n              dataDropTarget\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 2,\n      \"./orb.react.DropTarget.jsx\": 24,\n      \"./orb.react.PivotButton.jsx\": 29,\n      \"react\": \"react\"\n    }],\n    40: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        SizingManager = _dereq_('./orb.react.PivotTable.SizingManager.jsx'),\n        Toolbar = _dereq_('./orb.react.Toolbar.jsx'),\n        UpperButtons = _dereq_('./orb.react.PivotTable.UpperButtons.jsx'),\n        ColumnButtons = _dereq_('./orb.react.PivotTable.ColumnButtons.jsx'),\n        RowButtons = _dereq_('./orb.react.PivotTable.RowButtons.jsx'),\n        RowHeaders = _dereq_('./orb.react.PivotTable.RowHeaders.jsx'),\n        ColumnHeaders = _dereq_('./orb.react.PivotTable.ColumnHeaders.jsx'),\n        DataCells = _dereq_('./orb.react.PivotTable.DataCells.jsx'),\n        ScrollBars = _dereq_('./orb.react.ScrollBars.jsx'),\n        HorizontalScrollBar = ScrollBars.HorizontalScrollBar,\n        VerticalScrollBar = ScrollBars.VerticalScrollBar,\n        utils = _dereq_('../orb.utils'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        pivotId = 1,\n        themeChangeCallbacks = {};\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        id: pivotId++,\n        pgrid: null,\n        pgridwidget: null,\n        fontStyle: null,\n        getInitialState: function() {\n          DragManager.init(this);\n\n          themeChangeCallbacks[this.id] = [];\n          this.registerThemeChanged(this.updateClasses);\n\n          this.pgridwidget = this.props.pgridwidget;\n          this.pgrid = this.pgridwidget.pgrid;\n          return {};\n        },\n        sort: function(axetype, field) {\n          this.pgridwidget.sort(axetype, field);\n        },\n        moveButton: function(button, newAxeType, position) {\n          this.pgridwidget.moveField(button.props.field.name, button.props.axetype, newAxeType, position);\n        },\n        toggleSubtotals: function(axetype) {\n          this.pgridwidget.toggleSubtotals(axetype);\n        },\n        toggleGrandtotal: function(axetype) {\n          this.pgridwidget.toggleGrandtotal(axetype);\n        },\n        applyFilter: function(fieldname, operator, term, staticValue, excludeStatic) {\n          this.pgridwidget.applyFilter(fieldname, operator, term, staticValue, excludeStatic);\n        },\n        registerThemeChanged: function(compCallback) {\n          if (compCallback) {\n            themeChangeCallbacks[this.id].push(compCallback);\n          }\n        },\n        unregisterThemeChanged: function(compCallback) {\n          var i;\n          if (compCallback && (i = themeChangeCallbacks[this.id].indexOf(compCallback)) >= 0) {\n            themeChangeCallbacks[this.id].splice(i, 1);\n          }\n        },\n        changeTheme: function(newTheme) {\n          if (this.pgridwidget.pgrid.config.setTheme(newTheme)) {\n            // notify self/sub-components of the theme change\n            for (var i = 0; i < themeChangeCallbacks[this.id].length; i++) {\n              themeChangeCallbacks[this.id][i]();\n            }\n          }\n        },\n        updateClasses: function() {\n          var thisnode = ReactDOM.findDOMNode(this);\n          var classes = this.pgridwidget.pgrid.config.theme.getPivotClasses();\n          thisnode.className = classes.container;\n          thisnode.children[1].className = classes.table;\n        },\n        componentDidUpdate: function() {\n          this.synchronizeWidths();\n        },\n        componentDidMount: function() {\n          var fontInfos = domUtils.getStyle(ReactDOM.findDOMNode(this), ['font-family', 'font-size'], true);\n          this.fontStyle = {\n            fontFamily: fontInfos[0],\n            fontSize: fontInfos[1]\n          };\n\n          var dataCellsNode = ReactDOM.findDOMNode(this.refs.dataCells);\n          var dataCellsTableNode = dataCellsNode.children[0];\n          var colHeadersNode = ReactDOM.findDOMNode(this.refs.colHeaders);\n          var rowHeadersNode = ReactDOM.findDOMNode(this.refs.rowHeaders);\n\n          this.refs.horizontalScrollBar.setScrollClient(dataCellsNode, function(scrollPercent) {\n            var scrollAmount = Math.ceil(scrollPercent * (domUtils.getSize(dataCellsTableNode).width - domUtils.getSize(dataCellsNode).width));\n            colHeadersNode.scrollLeft = scrollAmount;\n            dataCellsNode.scrollLeft = scrollAmount;\n          });\n\n          this.refs.verticalScrollBar.setScrollClient(dataCellsNode, function(scrollPercent) {\n            var scrollAmount = Math.ceil(scrollPercent * (domUtils.getSize(dataCellsTableNode).height - domUtils.getSize(dataCellsNode).height));\n            rowHeadersNode.scrollTop = scrollAmount;\n            dataCellsNode.scrollTop = scrollAmount;\n          });\n\n          this.synchronizeWidths();\n        },\n        onWheel: function(e) {\n          var elem;\n          var scrollbar;\n          var amount;\n\n          if (e.currentTarget == (elem = ReactDOM.findDOMNode(this.refs.colHeaders))) {\n            scrollbar = this.refs.horizontalScrollBar;\n            amount = e.deltaX || e.deltaY;\n          } else if (e.currentTarget == (elem = ReactDOM.findDOMNode(this.refs.rowHeaders)) || e.currentTarget == (elem = ReactDOM.findDOMNode(this.refs.dataCells))) {\n            scrollbar = this.refs.verticalScrollBar;\n            amount = e.deltaY;\n          }\n\n          if (scrollbar && scrollbar.scroll(amount, e.deltaMode)) {\n            utils.stopPropagation(e);\n            utils.preventDefault(e);\n          }\n        },\n        synchronizeWidths: function() {\n          SizingManager.synchronizeWidths(this);\n          this.refs.horizontalScrollBar.refresh();\n          this.refs.verticalScrollBar.refresh();\n        },\n        render: function() {\n\n          var self = this;\n\n          var config = this.pgridwidget.pgrid.config;\n          var classes = config.theme.getPivotClasses();\n\n          var tblStyle = {};\n          if (config.width) {\n            tblStyle.width = config.width;\n          }\n          if (config.height) {\n            tblStyle.height = config.height;\n          }\n\n          return React.createElement(\n            'div', {\n              className: classes.container,\n              style: tblStyle,\n              ref: 'pivot'\n            },\n            config.toolbar && config.toolbar.visible ? React.createElement(\n              'div', {\n                ref: 'toolbar',\n                className: 'orb-toolbar'\n              },\n              React.createElement(Toolbar, {\n                pivotTableComp: self\n              })\n            ) : null,\n            React.createElement(\n              'table', {\n                id: 'tbl-' + self.id,\n                ref: 'pivotWrapperTable',\n                className: classes.table,\n                style: {\n                  tableLayout: 'fixed'\n                }\n              },\n              React.createElement(\n                'colgroup',\n                null,\n                React.createElement('col', {\n                  ref: 'column1'\n                }),\n                React.createElement('col', {\n                  ref: 'column2'\n                }),\n                React.createElement('col', {\n                  ref: 'column3'\n                }),\n                React.createElement('col', {\n                  ref: 'column4'\n                })\n              ),\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr', {\n                    ref: 'upperButtons'\n                  },\n                  React.createElement(\n                    'td', {\n                      colSpan: '4'\n                    },\n                    React.createElement(UpperButtons, {\n                      pivotTableComp: self\n                    })\n                  )\n                ),\n                React.createElement(\n                  'tr', {\n                    ref: 'colButtons'\n                  },\n                  React.createElement('td', null),\n                  React.createElement(\n                    'td', {\n                      style: {\n                        padding: '11px 4px !important'\n                      }\n                    },\n                    React.createElement(ColumnButtons, {\n                      pivotTableComp: self\n                    })\n                  ),\n                  React.createElement('td', {\n                    colSpan: '2'\n                  })\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td', {\n                      style: {\n                        position: 'relative'\n                      }\n                    },\n                    React.createElement(RowButtons, {\n                      pivotTableComp: self,\n                      ref: 'rowButtons'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(ColumnHeaders, {\n                      pivotTableComp: self,\n                      ref: 'colHeaders'\n                    })\n                  ),\n                  React.createElement('td', {\n                    colSpan: '2'\n                  })\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(RowHeaders, {\n                      pivotTableComp: self,\n                      ref: 'rowHeaders'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(DataCells, {\n                      pivotTableComp: self,\n                      ref: 'dataCells'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(VerticalScrollBar, {\n                      pivotTableComp: self,\n                      ref: 'verticalScrollBar'\n                    })\n                  ),\n                  React.createElement('td', null)\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement('td', null),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(HorizontalScrollBar, {\n                      pivotTableComp: self,\n                      ref: 'horizontalScrollBar'\n                    })\n                  ),\n                  React.createElement('td', {\n                    colSpan: '2'\n                  })\n                )\n              )\n            ),\n            React.createElement('div', {\n              className: 'orb-overlay orb-overlay-hidden',\n              id: 'drilldialog' + self.id\n            })\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 19,\n      \"../orb.utils.dom\": 18,\n      \"./orb.react.DragManager.jsx\": 22,\n      \"./orb.react.PivotTable.ColumnButtons.jsx\": 33,\n      \"./orb.react.PivotTable.ColumnHeaders.jsx\": 34,\n      \"./orb.react.PivotTable.DataCells.jsx\": 35,\n      \"./orb.react.PivotTable.RowButtons.jsx\": 36,\n      \"./orb.react.PivotTable.RowHeaders.jsx\": 37,\n      \"./orb.react.PivotTable.SizingManager.jsx\": 38,\n      \"./orb.react.PivotTable.UpperButtons.jsx\": 39,\n      \"./orb.react.ScrollBars.jsx\": 41,\n      \"./orb.react.Toolbar.jsx\": 42,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    41: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        ReactDOM = typeof window === 'undefined' ? _dereq_('react-dom') : window.ReactDOM,\n        utils = _dereq_('../orb.utils'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      var scrollBarMixin = {\n        scrollEvent: null,\n        scrollClient: null,\n        getInitialState: function() {\n          // initial state, all zero.\n          return {\n            size: 16,\n            mousedown: false,\n            thumbOffset: 0\n          };\n        },\n        componentDidMount: function() {\n          this.scrollEvent = new ScrollEvent(this);\n        },\n        componentDidUpdate: function() {\n          if (!this.state.mousedown) {\n            // mouse not down, don't care about mouse up/move events.\n            utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n            utils.removeEventListener(document, 'mouseup', this.onMouseUp);\n          } else if (this.state.mousedown) {\n            // mouse down, interested by mouse up/move events.\n            utils.addEventListener(document, 'mousemove', this.onMouseMove);\n            utils.addEventListener(document, 'mouseup', this.onMouseUp);\n          }\n        },\n        componentWillUnmount: function() {\n          utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n          utils.removeEventListener(document, 'mouseup', this.onMouseUp);\n        },\n        onMouseDown: function(e) {\n          // drag with left mouse button\n          if (e.button !== 0) return;\n\n          var thumbElem = this.refs.scrollThumb;\n          var thumbposInParent = domUtils.getParentOffset(thumbElem);\n          var mousePageXY = utils.getMousePageXY(e);\n\n          domUtils.addClass(thumbElem, 'orb-scrollthumb-hover');\n\n          // inform mousedown, save start pos\n          this.setState({\n            mousedown: true,\n            mouseoffset: mousePageXY[this.mousePosProp],\n            thumbOffset: thumbposInParent[this.posProp]\n          });\n\n          // prevent event bubbling (to prevent text selection while dragging for example)\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        onMouseUp: function() {\n\n          if (this.state.mousedown) {\n            var thumbElem = this.refs.scrollThumb;\n            domUtils.removeClass(thumbElem, 'orb-scrollthumb-hover');\n          }\n\n          this.setState({\n            mousedown: false\n          });\n        },\n        onMouseMove: function(e) {\n\n          // if the mouse is not down while moving, return (no drag)\n          if (!this.state.mousedown) return;\n\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n\n          var mousePageXY = utils.getMousePageXY(e);\n          var amount = mousePageXY[this.mousePosProp] - this.state.mouseoffset;\n          this.state.mouseoffset = mousePageXY[this.mousePosProp];\n\n          this.scroll(amount);\n        },\n        getScrollSize: function() {\n          if (this.scrollClient != null) {\n            return domUtils.getSize(this.scrollClient)[this.sizeProp];\n          } else {\n            return domUtils.getSize(ReactDOM.findDOMNode(this))[this.sizeProp];\n          }\n        },\n        setScrollClient: function(scrollClient, scrollCallback) {\n          this.scrollClient = scrollClient;\n          this.scrollEvent.callback = scrollCallback;\n        },\n        getScrollPercent: function() {\n          var maxOffset = this.getScrollSize() - this.state.size;\n          return maxOffset <= 0 ? 0 : this.state.thumbOffset / maxOffset;\n        },\n        refresh: function() {\n          if (this.scrollClient) {\n            var scrolledElement = this.scrollClient.children[0];\n\n            var clientSize = domUtils.getSize(this.scrollClient);\n            var elementSize = domUtils.getSize(scrolledElement);\n\n            var scrollBarContainerSize = this.getScrollSize();\n            var newSize = clientSize[this.sizeProp] >= elementSize[this.sizeProp] ? 0 : clientSize[this.sizeProp] / elementSize[this.sizeProp] * scrollBarContainerSize;\n\n            this.setState({\n              containerSize: scrollBarContainerSize,\n              size: newSize,\n              thumbOffset: Math.min(this.state.thumbOffset, scrollBarContainerSize - newSize)\n            }, this.scrollEvent.raise);\n          }\n        },\n        scroll: function(amount, mode) {\n          if (this.state.size > 0) {\n            if (mode == 1) amount *= 8;\n\n            var maxOffset = this.getScrollSize() - this.state.size;\n            var newOffset = this.state.thumbOffset + amount;\n            if (newOffset < 0) newOffset = 0;\n            if (newOffset > maxOffset) newOffset = maxOffset;\n\n            if (this.state.thumbOffset != newOffset) {\n              this.setState({\n                thumbOffset: newOffset\n              }, this.scrollEvent.raise);\n              return true;\n            }\n          }\n          return false;\n        },\n        onWheel: function(e) {\n          this.scroll(e.deltaY, e.deltaMode);\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        render: function() {\n          var self = this;\n\n          var thumbStyle = {\n            padding: 0\n          };\n          thumbStyle[this.sizeProp] = this.state.size;\n          thumbStyle[this.offsetCssProp] = this.state.thumbOffset;\n\n          var thisStyle = {};\n          thisStyle[this.sizeProp] = this.state.containerSize;\n\n          var thumbClass = \"orb-scrollthumb \" + this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().scrollBar;\n\n          var scrollThumb = this.state.size <= 0 ? null : React.createElement('div', {\n            className: thumbClass,\n            style: thumbStyle,\n            ref: 'scrollThumb',\n            onMouseDown: this.onMouseDown\n          });\n\n          return React.createElement(\n            'div', {\n              className: this.cssClass,\n              style: thisStyle,\n              onWheel: this.onWheel\n            },\n            scrollThumb\n          );\n        }\n      };\n\n      function ScrollEvent(scrollBarComp) {\n        var self = this;\n        this.scrollBarComp = scrollBarComp;\n        this.callback = null;\n        this.raise = function() {\n          if (self.callback) {\n            self.callback(self.scrollBarComp.getScrollPercent());\n          }\n        };\n      }\n\n      module.exports.HorizontalScrollBar = React.createClass({\n        displayName: 'HorizontalScrollBar',\n\n        mixins: [scrollBarMixin],\n        posProp: 'x',\n        mousePosProp: 'pageX',\n        sizeProp: 'width',\n        offsetCssProp: 'left',\n        cssClass: 'orb-h-scrollbar'\n      });\n\n      module.exports.VerticalScrollBar = React.createClass({\n        displayName: 'VerticalScrollBar',\n\n        mixins: [scrollBarMixin],\n        posProp: 'y',\n        mousePosProp: 'pageY',\n        sizeProp: 'height',\n        offsetCssProp: 'top',\n        cssClass: 'orb-v-scrollbar'\n      });\n\n    }, {\n      \"../orb.utils\": 19,\n      \"../orb.utils.dom\": 18,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    42: [function(_dereq_, module, exports) {\n\n      var React = typeof window === 'undefined' ? _dereq_('react') : window.React,\n        axe = _dereq_('../orb.axe'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        _toInit: [],\n        componentDidMount: function() {\n          for (var i = 0; i < this._toInit.length; i++) {\n            var btn = this._toInit[i];\n            btn.init(this.props.pivotTableComp, this.refs[btn.ref]);\n          }\n        },\n        componentDidUpdate: function() {\n          for (var i = 0; i < this._toInit.length; i++) {\n            var btn = this._toInit[i];\n            btn.init(this.props.pivotTableComp, this.refs[btn.ref]);\n          }\n        },\n        createCallback: function(action) {\n          if (action != null) {\n            var pgridComponent = this.props.pivotTableComp;\n            return function(e) {\n              action(pgridComponent, e.target || e.srcElement);\n            };\n          }\n          return null;\n        },\n        render: function() {\n\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          if (config.toolbar && config.toolbar.visible) {\n\n            var configButtons = config.toolbar.buttons ? defaultToolbarConfig.buttons.concat(config.toolbar.buttons) : defaultToolbarConfig.buttons;\n\n            var buttons = [];\n            for (var i = 0; i < configButtons.length; i++) {\n              var btnConfig = configButtons[i];\n              var refName = 'btn' + i;\n\n              if (btnConfig.type == 'separator') {\n                buttons.push(React.createElement('div', {\n                  key: i,\n                  className: 'orb-tlbr-sep'\n                }));\n              } else if (btnConfig.type == 'label') {\n                buttons.push(React.createElement(\n                  'div', {\n                    key: i,\n                    className: 'orb-tlbr-lbl'\n                  },\n                  btnConfig.text\n                ));\n              } else {\n                buttons.push(React.createElement('div', {\n                  key: i,\n                  className: 'orb-tlbr-btn ' + btnConfig.cssClass,\n                  title: btnConfig.tooltip,\n                  ref: refName,\n                  onClick: this.createCallback(btnConfig.action)\n                }));\n              }\n              if (btnConfig.init) {\n                this._toInit.push({\n                  ref: refName,\n                  init: btnConfig.init\n                });\n              }\n            }\n\n            return React.createElement(\n              'div',\n              null,\n              buttons\n            );\n          }\n\n          return React.createElement('div', null);\n        }\n      });\n\n      var excelExport = _dereq_('../orb.export.excel');\n\n      var defaultToolbarConfig = {\n        exportToExcel: function(pgridComponent, button) {\n          var a = document.createElement('a');\n          a.download = \"orbpivotgrid.xls\";\n          a.href = excelExport(pgridComponent.props.pgridwidget);\n          document.body.appendChild(a);\n          a.click();\n          document.body.removeChild(a);\n        },\n        expandAllRows: function(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.ROWS, null, true);\n        },\n        collapseAllRows: function(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.ROWS, null, false);\n        },\n        expandAllColumns: function(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.COLUMNS, null, true);\n        },\n        collapseAllColumns: function(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.COLUMNS, null, false);\n        },\n        updateSubtotalsButton: function(axetype, pgridComponent, button) {\n          var subTotalsState = pgridComponent.pgridwidget.areSubtotalsVisible(axetype);\n          button.style.display = subTotalsState === null ? 'none' : '';\n\n          var classToAdd = '';\n          var classToRemove = '';\n          if (subTotalsState) {\n            classToAdd = 'subtotals-visible';\n            classToRemove = 'subtotals-hidden';\n          } else {\n            classToAdd = 'subtotals-hidden';\n            classToRemove = 'subtotals-visible';\n          }\n\n          domUtils.removeClass(button, classToRemove);\n          domUtils.addClass(button, classToAdd);\n        },\n        initSubtotals: function(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            self.updateSubtotalsButton(axetype, pgridComponent, button);\n          };\n        },\n        toggleSubtotals: function(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            pgridComponent.toggleSubtotals(axetype);\n            self.updateSubtotalsButton(axetype, pgridComponent, button);\n          };\n        },\n        updateGrandtotalButton: function(axetype, pgridComponent, button) {\n          var subTotalsState = pgridComponent.pgridwidget.isGrandtotalVisible(axetype);\n          button.style.display = subTotalsState === null ? 'none' : '';\n\n          var classToAdd = '';\n          var classToRemove = '';\n          if (subTotalsState) {\n            classToAdd = 'grndtotal-visible';\n            classToRemove = 'grndtotal-hidden';\n          } else {\n            classToAdd = 'grndtotal-hidden';\n            classToRemove = 'grndtotal-visible';\n          }\n\n          domUtils.removeClass(button, classToRemove);\n          domUtils.addClass(button, classToAdd);\n        },\n        initGrandtotal: function(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            self.updateGrandtotalButton(axetype, pgridComponent, button);\n          };\n        },\n        toggleGrandtotal: function(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            pgridComponent.toggleGrandtotal(axetype);\n            self.updateGrandtotalButton(axetype, pgridComponent, button);\n          };\n        }\n      };\n\n      defaultToolbarConfig.buttons = [{\n        type: 'label',\n        text: 'Rows:'\n      }, {\n        type: 'button',\n        tooltip: 'Expand all rows',\n        cssClass: 'expand-all',\n        action: defaultToolbarConfig.expandAllRows\n      }, {\n        type: 'button',\n        tooltip: 'Collapse all rows',\n        cssClass: 'collapse-all',\n        action: defaultToolbarConfig.collapseAllRows\n      }, {\n        type: 'button',\n        tooltip: 'Toggle rows sub totals',\n        init: defaultToolbarConfig.initSubtotals(axe.Type.ROWS),\n        action: defaultToolbarConfig.toggleSubtotals(axe.Type.ROWS)\n      }, {\n        type: 'button',\n        tooltip: 'Toggle rows grand total',\n        init: defaultToolbarConfig.initGrandtotal(axe.Type.ROWS),\n        action: defaultToolbarConfig.toggleGrandtotal(axe.Type.ROWS)\n      }, {\n        type: 'separator'\n      }, {\n        type: 'label',\n        text: 'Columns:'\n      }, {\n        type: 'button',\n        tooltip: 'Expand all columns',\n        cssClass: 'expand-all',\n        action: defaultToolbarConfig.expandAllColumns\n      }, {\n        type: 'button',\n        tooltip: 'Collapse all columns',\n        cssClass: 'collapse-all',\n        action: defaultToolbarConfig.collapseAllColumns\n      }, {\n        type: 'button',\n        tooltip: 'Toggle columns sub totals',\n        init: defaultToolbarConfig.initSubtotals(axe.Type.COLUMNS),\n        action: defaultToolbarConfig.toggleSubtotals(axe.Type.COLUMNS)\n      }, {\n        type: 'button',\n        tooltip: 'Toggle columns grand total',\n        init: defaultToolbarConfig.initGrandtotal(axe.Type.COLUMNS),\n        action: defaultToolbarConfig.toggleGrandtotal(axe.Type.COLUMNS)\n      }, {\n        type: 'separator'\n      }, {\n        type: 'label',\n        text: 'Export:'\n      }, {\n        type: 'button',\n        tooltip: 'Export to Excel',\n        cssClass: 'export-xls',\n        action: defaultToolbarConfig.exportToExcel\n      }];\n\n    }, {\n      \"../orb.axe\": 2,\n      \"../orb.export.excel\": 5,\n      \"../orb.utils.dom\": 18,\n      \"react\": \"react\"\n    }]\n  }, {}, [7])(7)\n});\n"],"sourceRoot":"/source/"}